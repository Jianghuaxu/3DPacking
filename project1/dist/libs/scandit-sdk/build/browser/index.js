/*!
 * @license
 *
 * Scandit Barcode Scanner SDK for the Web
 * v. 5.9.3
 *
 * Copyright © 2022 Scandit AG. All Rights Reserved.
 *
 * The use of this software is governed by the Scandit Terms and Conditions.
 * https://ssl.scandit.com/terms/test.pdf
 *
 * The following sets forth attribution notices for third party software that may be contained in portions of the product.
 * https://docs.scandit.com/stable/web/LICENSE
 */
(function(e,t){typeof exports==="object"&&typeof module!=="undefined"?t(exports):typeof define==="function"&&define.amd?define(["exports"],t):(e=typeof globalThis!=="undefined"?globalThis:e||self,t(e.ScanditSDK={}))})(this,function(e){"use strict";function t(e){if(!e||typeof window==="undefined"){return}const t=document.createElement("style");t.setAttribute("type","text/css");t.innerHTML=e;document.head.appendChild(t);return e}var r=typeof globalThis!=="undefined"?globalThis:typeof window!=="undefined"?window:typeof global!=="undefined"?global:typeof self!=="undefined"?self:{};var n=Math.ceil;var i=Math.floor;var a=function(e){return isNaN(e=+e)?0:(e>0?i:n)(e)};var o=function(e){if(e==undefined)throw TypeError("Can't call method on  "+e);return e};var s=a;var c=o;var u=function(e){return function(t,r){var n=String(c(t));var i=s(r);var a=n.length;var o,u;if(i<0||i>=a)return e?"":undefined;o=n.charCodeAt(i);return o<55296||o>56319||i+1===a||(u=n.charCodeAt(i+1))<56320||u>57343?e?n.charAt(i):o:e?n.slice(i,i+2):(o-55296<<10)+(u-56320)+65536}};var l=true;var d={exports:{}};var f=d.exports=typeof window!="undefined"&&window.Math==Math?window:typeof self!="undefined"&&self.Math==Math?self:Function("return this")();if(typeof __g=="number")__g=f;var h={exports:{}};var v=h.exports={version:"2.6.12"};if(typeof __e=="number")__e=v;var g=function(e){if(typeof e!="function")throw TypeError(e+" is not a function!");return e};var m=g;var p=function(e,t,r){m(e);if(t===undefined)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,i){return e.call(t,r,n,i)}}return function(){return e.apply(t,arguments)}};var y={};var b=function(e){return typeof e==="object"?e!==null:typeof e==="function"};var E=b;var S=function(e){if(!E(e))throw TypeError(e+" is not an object!");return e};var A=function(e){try{return!!e()}catch(e){return true}};var _=!A(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7});var w=b;var C=d.exports.document;var T=w(C)&&w(C.createElement);var N=function(e){return T?C.createElement(e):{}};var I=!_&&!A(function(){return Object.defineProperty(N("div"),"a",{get:function(){return 7}}).a!=7});var k=b;var L=function(e,t){if(!k(e))return e;var r,n;if(t&&typeof(r=e.toString)=="function"&&!k(n=r.call(e)))return n;if(typeof(r=e.valueOf)=="function"&&!k(n=r.call(e)))return n;if(!t&&typeof(r=e.toString)=="function"&&!k(n=r.call(e)))return n;throw TypeError("Can't convert object to primitive value")};var x=S;var M=I;var O=L;var V=Object.defineProperty;y.f=_?Object.defineProperty:function e(t,r,n){x(t);r=O(r,true);x(n);if(M)try{return V(t,r,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");if("value"in n)t[r]=n.value;return t};var R=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}};var D=y;var P=R;var F=_?function(e,t,r){return D.f(e,t,P(1,r))}:function(e,t,r){e[t]=r;return e};var j={}.hasOwnProperty;var B=function(e,t){return j.call(e,t)};var U=d.exports;var G=h.exports;var z=p;var W=F;var H=B;var Y="prototype";var Q=function(e,t,r){var n=e&Q.F;var i=e&Q.G;var a=e&Q.S;var o=e&Q.P;var s=e&Q.B;var c=e&Q.W;var u=i?G:G[t]||(G[t]={});var l=u[Y];var d=i?U:a?U[t]:(U[t]||{})[Y];var f,h,v;if(i)r=t;for(f in r){h=!n&&d&&d[f]!==undefined;if(h&&H(u,f))continue;v=h?d[f]:r[f];u[f]=i&&typeof d[f]!="function"?r[f]:s&&h?z(v,U):c&&d[f]==v?function(e){var t=function(t,r,n){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,r)}return new e(t,r,n)}return e.apply(this,arguments)};t[Y]=e[Y];return t}(v):o&&typeof v=="function"?z(Function.call,v):v;if(o){(u.virtual||(u.virtual={}))[f]=v;if(e&Q.R&&l&&!l[f])W(l,f,v)}}};Q.F=1;Q.G=2;Q.S=4;Q.P=8;Q.B=16;Q.W=32;Q.U=64;Q.R=128;var Z=Q;var q=F;var X={};var K={}.toString;var J=function(e){return K.call(e).slice(8,-1)};var $=J;var ee=Object("z").propertyIsEnumerable(0)?Object:function(e){return $(e)=="String"?e.split(""):Object(e)};var te=ee;var re=o;var ne=function(e){return te(re(e))};var ie=a;var ae=Math.min;var oe=function(e){return e>0?ae(ie(e),9007199254740991):0};var se=a;var ce=Math.max;var ue=Math.min;var le=function(e,t){e=se(e);return e<0?ce(e+t,0):ue(e,t)};var de=ne;var fe=oe;var he=le;var ve=function(e){return function(t,r,n){var i=de(t);var a=fe(i.length);var o=he(n,a);var s;if(e&&r!=r)while(a>o){s=i[o++];if(s!=s)return true}else for(;a>o;o++)if(e||o in i){if(i[o]===r)return e||o||0}return!e&&-1}};var ge={exports:{}};var me=h.exports;var pe=d.exports;var ye="__core-js_shared__";var be=pe[ye]||(pe[ye]={});(ge.exports=function(e,t){return be[e]||(be[e]=t!==undefined?t:{})})("versions",[]).push({version:me.version,mode:"pure",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"});var Ee=0;var Se=Math.random();var Ae=function(e){return"Symbol(".concat(e===undefined?"":e,")_",(++Ee+Se).toString(36))};var _e=ge.exports("keys");var we=Ae;var Ce=function(e){return _e[e]||(_e[e]=we(e))};var Te=B;var Ne=ne;var Ie=ve(false);var ke=Ce("IE_PROTO");var Le=function(e,t){var r=Ne(e);var n=0;var i=[];var a;for(a in r)if(a!=ke)Te(r,a)&&i.push(a);while(t.length>n)if(Te(r,a=t[n++])){~Ie(i,a)||i.push(a)}return i};var xe="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",");var Me=Le;var Oe=xe;var Ve=Object.keys||function e(t){return Me(t,Oe)};var Re=y;var De=S;var Pe=Ve;var Fe=_?Object.defineProperties:function e(t,r){De(t);var n=Pe(r);var i=n.length;var a=0;var o;while(i>a)Re.f(t,o=n[a++],r[o]);return t};var je=d.exports.document;var Be=je&&je.documentElement;var Ue=S;var Ge=Fe;var ze=xe;var We=Ce("IE_PROTO");var He=function(){};var Ye="prototype";var Qe=function(){var e=N("iframe");var t=ze.length;var r="<";var n=">";var i;e.style.display="none";Be.appendChild(e);e.src="javascript:";i=e.contentWindow.document;i.open();i.write(r+"script"+n+"document.F=Object"+r+"/script"+n);i.close();Qe=i.F;while(t--)delete Qe[Ye][ze[t]];return Qe()};var Ze=Object.create||function e(t,r){var n;if(t!==null){He[Ye]=Ue(t);n=new He;He[Ye]=null;n[We]=t}else n=Qe();return r===undefined?n:Ge(n,r)};var qe={exports:{}};var Xe=ge.exports("wks");var Ke=Ae;var Je=d.exports.Symbol;var $e=typeof Je=="function";var et=qe.exports=function(e){return Xe[e]||(Xe[e]=$e&&Je[e]||($e?Je:Ke)("Symbol."+e))};et.store=Xe;var tt=y.f;var rt=B;var nt=qe.exports("toStringTag");var it=function(e,t,r){if(e&&!rt(e=r?e:e.prototype,nt))tt(e,nt,{configurable:true,value:t})};var at=Ze;var ot=R;var st=it;var ct={};F(ct,qe.exports("iterator"),function(){return this});var ut=function(e,t,r){e.prototype=at(ct,{next:ot(1,r)});st(e,t+" Iterator")};var lt=o;var dt=function(e){return Object(lt(e))};var ft=B;var ht=dt;var vt=Ce("IE_PROTO");var gt=Object.prototype;var mt=Object.getPrototypeOf||function(e){e=ht(e);if(ft(e,vt))return e[vt];if(typeof e.constructor=="function"&&e instanceof e.constructor){return e.constructor.prototype}return e instanceof Object?gt:null};var pt=Z;var yt=q;var bt=F;var Et=X;var St=ut;var At=it;var _t=mt;var wt=qe.exports("iterator");var Ct=!([].keys&&"next"in[].keys());var Tt="@@iterator";var Nt="keys";var It="values";var kt=function(){return this};var Lt=function(e,t,r,n,i,a,o){St(r,t,n);var s=function(e){if(!Ct&&e in d)return d[e];switch(e){case Nt:return function t(){return new r(this,e)};case It:return function t(){return new r(this,e)}}return function t(){return new r(this,e)}};var c=t+" Iterator";var u=i==It;var l=false;var d=e.prototype;var f=d[wt]||d[Tt]||i&&d[i];var h=f||s(i);var v=i?!u?h:s("entries"):undefined;var g=t=="Array"?d.entries||f:f;var m,p,y;if(g){y=_t(g.call(new e));if(y!==Object.prototype&&y.next){At(y,c,true)}}if(u&&f&&f.name!==It){l=true;h=function e(){return f.call(this)}}if(o&&(Ct||l||!d[wt])){bt(d,wt,h)}Et[t]=h;Et[c]=kt;if(i){m={values:u?h:s(It),keys:a?h:s(Nt),entries:v};if(o)for(p in m){if(!(p in d))yt(d,p,m[p])}else pt(pt.P+pt.F*(Ct||l),t,m)}return m};var xt=u(true);Lt(String,"String",function(e){this._t=String(e);this._i=0},function(){var e=this._t;var t=this._i;var r;if(t>=e.length)return{value:undefined,done:true};r=xt(e,t);this._i+=r.length;return{value:r,done:false}});var Mt=function(e,t){return{value:t,done:!!e}};var Ot=Mt;var Vt=X;var Rt=ne;Lt(Array,"Array",function(e,t){this._t=Rt(e);this._i=0;this._k=t},function(){var e=this._t;var t=this._k;var r=this._i++;if(!e||r>=e.length){this._t=undefined;return Ot(1)}if(t=="keys")return Ot(0,r);if(t=="values")return Ot(0,e[r]);return Ot(0,[r,e[r]])},"values");Vt.Arguments=Vt.Array;var Dt=d.exports;var Pt=F;var Ft=X;var jt=qe.exports("toStringTag");var Bt=("CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,"+"DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,"+"MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,"+"SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,"+"TextTrackList,TouchList").split(",");for(var Ut=0;Ut<Bt.length;Ut++){var Gt=Bt[Ut];var zt=Dt[Gt];var Wt=zt&&zt.prototype;if(Wt&&!Wt[jt])Pt(Wt,jt,Gt);Ft[Gt]=Ft.Array}var Ht=J;var Yt=qe.exports("toStringTag");var Qt=Ht(function(){return arguments}())=="Arguments";var Zt=function(e,t){try{return e[t]}catch(e){}};var qt=function(e){var t,r,n;return e===undefined?"Undefined":e===null?"Null":typeof(r=Zt(t=Object(e),Yt))=="string"?r:Qt?Ht(t):(n=Ht(t))=="Object"&&typeof t.callee=="function"?"Arguments":n};var Xt=function(e,t,r,n){if(!(e instanceof t)||n!==undefined&&n in e){throw TypeError(r+": incorrect invocation!")}return e};var Kt={exports:{}};var Jt=S;var $t=function(e,t,r,n){try{return n?t(Jt(r)[0],r[1]):t(r)}catch(t){var i=e["return"];if(i!==undefined)Jt(i.call(e));throw t}};var er=X;var tr=qe.exports("iterator");var rr=Array.prototype;var nr=function(e){return e!==undefined&&(er.Array===e||rr[tr]===e)};var ir=qt;var ar=qe.exports("iterator");var or=X;var sr=h.exports.getIteratorMethod=function(e){if(e!=undefined)return e[ar]||e["@@iterator"]||or[ir(e)]};var cr=p;var ur=$t;var lr=nr;var dr=S;var fr=oe;var hr=sr;var vr={};var gr={};var mr=Kt.exports=function(e,t,r,n,i){var a=i?function(){return e}:hr(e);var o=cr(r,n,t?2:1);var s=0;var c,u,l,d;if(typeof a!="function")throw TypeError(e+" is not iterable!");if(lr(a))for(c=fr(e.length);c>s;s++){d=t?o(dr(u=e[s])[0],u[1]):o(e[s]);if(d===vr||d===gr)return d}else for(l=a.call(e);!(u=l.next()).done;){d=ur(l,o,u.value,t);if(d===vr||d===gr)return d}};mr.BREAK=vr;mr.RETURN=gr;var pr=S;var yr=g;var br=qe.exports("species");var Er=function(e,t){var r=pr(e).constructor;var n;return r===undefined||(n=pr(r)[br])==undefined?t:yr(n)};var Sr=function(e,t,r){var n=r===undefined;switch(t.length){case 0:return n?e():e.call(r);case 1:return n?e(t[0]):e.call(r,t[0]);case 2:return n?e(t[0],t[1]):e.call(r,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(r,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(r,t[0],t[1],t[2],t[3])}return e.apply(r,t)};var Ar=p;var _r=Sr;var wr=Be;var Cr=N;var Tr=d.exports;var Nr=Tr.process;var Ir=Tr.setImmediate;var kr=Tr.clearImmediate;var Lr=Tr.MessageChannel;var xr=Tr.Dispatch;var Mr=0;var Or={};var Vr="onreadystatechange";var Rr,Dr,Pr;var Fr=function(){var e=+this;if(Or.hasOwnProperty(e)){var t=Or[e];delete Or[e];t()}};var jr=function(e){Fr.call(e.data)};if(!Ir||!kr){Ir=function e(t){var r=[];var n=1;while(arguments.length>n)r.push(arguments[n++]);Or[++Mr]=function(){_r(typeof t=="function"?t:Function(t),r)};Rr(Mr);return Mr};kr=function e(t){delete Or[t]};if(J(Nr)=="process"){Rr=function(e){Nr.nextTick(Ar(Fr,e,1))}}else if(xr&&xr.now){Rr=function(e){xr.now(Ar(Fr,e,1))}}else if(Lr){Dr=new Lr;Pr=Dr.port2;Dr.port1.onmessage=jr;Rr=Ar(Pr.postMessage,Pr,1)}else if(Tr.addEventListener&&typeof postMessage=="function"&&!Tr.importScripts){Rr=function(e){Tr.postMessage(e+"","*")};Tr.addEventListener("message",jr,false)}else if(Vr in Cr("script")){Rr=function(e){wr.appendChild(Cr("script"))[Vr]=function(){wr.removeChild(this);Fr.call(e)}}}else{Rr=function(e){setTimeout(Ar(Fr,e,1),0)}}}var Br={set:Ir,clear:kr};var Ur=d.exports;var Gr=Br.set;var zr=Ur.MutationObserver||Ur.WebKitMutationObserver;var Wr=Ur.process;var Hr=Ur.Promise;var Yr=J(Wr)=="process";var Qr=function(){var e,t,r;var n=function(){var n,i;if(Yr&&(n=Wr.domain))n.exit();while(e){i=e.fn;e=e.next;try{i()}catch(n){if(e)r();else t=undefined;throw n}}t=undefined;if(n)n.enter()};if(Yr){r=function(){Wr.nextTick(n)}}else if(zr&&!(Ur.navigator&&Ur.navigator.standalone)){var i=true;var a=document.createTextNode("");new zr(n).observe(a,{characterData:true});r=function(){a.data=i=!i}}else if(Hr&&Hr.resolve){var o=Hr.resolve(undefined);r=function(){o.then(n)}}else{r=function(){Gr.call(Ur,n)}}return function(n){var i={fn:n,next:undefined};if(t)t.next=i;if(!e){e=i;r()}t=i}};var Zr={};var qr=g;function Xr(e){var t,r;this.promise=new e(function(e,n){if(t!==undefined||r!==undefined)throw TypeError("Bad Promise constructor");t=e;r=n});this.resolve=qr(t);this.reject=qr(r)}Zr.f=function(e){return new Xr(e)};var Kr=function(e){try{return{e:false,v:e()}}catch(e){return{e:true,v:e}}};var Jr=d.exports;var $r=Jr.navigator;var en=$r&&$r.userAgent||"";var tn=S;var rn=b;var nn=Zr;var an=function(e,t){tn(e);if(rn(t)&&t.constructor===e)return t;var r=nn.f(e);var n=r.resolve;n(t);return r.promise};var on=F;var sn=function(e,t,r){for(var n in t){if(r&&e[n])e[n]=t[n];else on(e,n,t[n])}return e};var cn=d.exports;var un=h.exports;var ln=y;var dn=_;var fn=qe.exports("species");var hn=function(e){var t=typeof un[e]=="function"?un[e]:cn[e];if(dn&&t&&!t[fn])ln.f(t,fn,{configurable:true,get:function(){return this}})};var vn=qe.exports("iterator");var gn=false;try{var mn=[7][vn]();mn["return"]=function(){gn=true};Array.from(mn,function(){throw 2})}catch(e){}var pn=function(e,t){if(!t&&!gn)return false;var r=false;try{var n=[7];var i=n[vn]();i.next=function(){return{done:r=true}};n[vn]=function(){return i};e(n)}catch(e){}return r};var yn=l;var bn=d.exports;var En=p;var Sn=qt;var An=Z;var _n=b;var wn=g;var Cn=Xt;var Tn=Kt.exports;var Nn=Er;var In=Br.set;var kn=Qr();var Ln=Zr;var xn=Kr;var Mn=en;var On=an;var Vn="Promise";var Rn=bn.TypeError;var Dn=bn.process;var Pn=Dn&&Dn.versions;var Fn=Pn&&Pn.v8||"";var jn=bn[Vn];var Bn=Sn(Dn)=="process";var Un=function(){};var Gn,zn,Wn,Hn;var Yn=zn=Ln.f;var Qn=!!function(){try{var e=jn.resolve(1);var t=(e.constructor={})[qe.exports("species")]=function(e){e(Un,Un)};return(Bn||typeof PromiseRejectionEvent=="function")&&e.then(Un)instanceof t&&Fn.indexOf("6.6")!==0&&Mn.indexOf("Chrome/66")===-1}catch(e){}}();var Zn=function(e){var t;return _n(e)&&typeof(t=e.then)=="function"?t:false};var qn=function(e,t){if(e._n)return;e._n=true;var r=e._c;kn(function(){var n=e._v;var i=e._s==1;var a=0;var o=function(t){var r=i?t.ok:t.fail;var a=t.resolve;var o=t.reject;var s=t.domain;var c,u,l;try{if(r){if(!i){if(e._h==2)Jn(e);e._h=1}if(r===true)c=n;else{if(s)s.enter();c=r(n);if(s){s.exit();l=true}}if(c===t.promise){o(Rn("Promise-chain cycle"))}else if(u=Zn(c)){u.call(c,a,o)}else a(c)}else o(n)}catch(e){if(s&&!l)s.exit();o(e)}};while(r.length>a)o(r[a++]);e._c=[];e._n=false;if(t&&!e._h)Xn(e)})};var Xn=function(e){In.call(bn,function(){var t=e._v;var r=Kn(e);var n,i,a;if(r){n=xn(function(){if(Bn){Dn.emit("unhandledRejection",t,e)}else if(i=bn.onunhandledrejection){i({promise:e,reason:t})}else if((a=bn.console)&&a.error){a.error("Unhandled promise rejection",t)}});e._h=Bn||Kn(e)?2:1}e._a=undefined;if(r&&n.e)throw n.v})};var Kn=function(e){return e._h!==1&&(e._a||e._c).length===0};var Jn=function(e){In.call(bn,function(){var t;if(Bn){Dn.emit("rejectionHandled",e)}else if(t=bn.onrejectionhandled){t({promise:e,reason:e._v})}})};var $n=function(e){var t=this;if(t._d)return;t._d=true;t=t._w||t;t._v=e;t._s=2;if(!t._a)t._a=t._c.slice();qn(t,true)};var ei=function(e){var t=this;var r;if(t._d)return;t._d=true;t=t._w||t;try{if(t===e)throw Rn("Promise can't be resolved itself");if(r=Zn(e)){kn(function(){var n={_w:t,_d:false};try{r.call(e,En(ei,n,1),En($n,n,1))}catch(e){$n.call(n,e)}})}else{t._v=e;t._s=1;qn(t,false)}}catch(e){$n.call({_w:t,_d:false},e)}};if(!Qn){jn=function e(t){Cn(this,jn,Vn,"_h");wn(t);Gn.call(this);try{t(En(ei,this,1),En($n,this,1))}catch(e){$n.call(this,e)}};Gn=function e(t){this._c=[];this._a=undefined;this._s=0;this._d=false;this._v=undefined;this._h=0;this._n=false};Gn.prototype=sn(jn.prototype,{then:function e(t,r){var n=Yn(Nn(this,jn));n.ok=typeof t=="function"?t:true;n.fail=typeof r=="function"&&r;n.domain=Bn?Dn.domain:undefined;this._c.push(n);if(this._a)this._a.push(n);if(this._s)qn(this,false);return n.promise},catch:function(e){return this.then(undefined,e)}});Wn=function(){var e=new Gn;this.promise=e;this.resolve=En(ei,e,1);this.reject=En($n,e,1)};Ln.f=Yn=function(e){return e===jn||e===Hn?new Wn(e):zn(e)}}An(An.G+An.W+An.F*!Qn,{Promise:jn});it(jn,Vn);hn(Vn);Hn=h.exports[Vn];An(An.S+An.F*!Qn,Vn,{reject:function e(t){var r=Yn(this);var n=r.reject;n(t);return r.promise}});An(An.S+An.F*yn,Vn,{resolve:function e(t){return On(this===Hn?jn:this,t)}});An(An.S+An.F*!(Qn&&pn(function(e){jn.all(e)["catch"](Un)})),Vn,{all:function e(t){var r=this;var n=Yn(r);var i=n.resolve;var a=n.reject;var o=xn(function(){var e=[];var n=0;var o=1;Tn(t,false,function(t){var s=n++;var c=false;e.push(undefined);o++;r.resolve(t).then(function(t){if(c)return;c=true;e[s]=t;--o||i(e)},a)});--o||i(e)});if(o.e)a(o.v);return n.promise},race:function e(t){var r=this;var n=Yn(r);var i=n.reject;var a=xn(function(){Tn(t,false,function(e){r.resolve(e).then(n.resolve,i)})});if(a.e)i(a.v);return n.promise}});var ti=Z;var ri=h.exports;var ni=d.exports;var ii=Er;var ai=an;ti(ti.P+ti.R,"Promise",{finally:function(e){var t=ii(this,ri.Promise||ni.Promise);var r=typeof e=="function";return this.then(r?function(r){return ai(t,e()).then(function(){return r})}:e,r?function(r){return ai(t,e()).then(function(){throw r})}:e)}});var oi=Z;var si=Zr;var ci=Kr;oi(oi.S,"Promise",{try:function(e){var t=si.f(this);var r=ci(e);(r.e?t.reject:t.resolve)(r.v);return t.promise}});var ui=h.exports.Promise;var li=ui;function di(e,t,r,n,i,a,o){try{var s=e[a](o);var c=s.value}catch(e){r(e);return}if(s.done){t(c)}else{li.resolve(c).then(n,i)}}function fi(e){return function(){var t=this,r=arguments;return new li(function(n,i){var a=e.apply(t,r);function o(e){di(a,n,i,o,s,"next",e)}function s(e){di(a,n,i,o,s,"throw",e)}o(undefined)})}}var hi={exports:{}};
/**
	 * Copyright (c) 2014-present, Facebook, Inc.
	 *
	 * This source code is licensed under the MIT license found in the
	 * LICENSE file in the root directory of this source tree.
	 */(function(e){var t=function(e){var t=Object.prototype;var r=t.hasOwnProperty;var n;var i=typeof Symbol==="function"?Symbol:{};var a=i.iterator||"@@iterator";var o=i.asyncIterator||"@@asyncIterator";var s=i.toStringTag||"@@toStringTag";function c(e,t,r){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true});return e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var i=t&&t.prototype instanceof m?t:m;var a=Object.create(i.prototype);var o=new k(n||[]);a._invoke=C(e,r,o);return a}e.wrap=u;function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}var d="suspendedStart";var f="suspendedYield";var h="executing";var v="completed";var g={};function m(){}function p(){}function y(){}var b={};c(b,a,function(){return this});var E=Object.getPrototypeOf;var S=E&&E(E(L([])));if(S&&S!==t&&r.call(S,a)){b=S}var A=y.prototype=m.prototype=Object.create(b);p.prototype=y;c(A,"constructor",y);c(y,"constructor",p);p.displayName=c(y,s,"GeneratorFunction");function _(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}e.isGeneratorFunction=function(e){var t=typeof e==="function"&&e.constructor;return t?t===p||(t.displayName||t.name)==="GeneratorFunction":false};e.mark=function(e){if(Object.setPrototypeOf){Object.setPrototypeOf(e,y)}else{e.__proto__=y;c(e,s,"GeneratorFunction")}e.prototype=Object.create(A);return e};e.awrap=function(e){return{__await:e}};function w(e,t){function n(i,a,o,s){var c=l(e[i],e,a);if(c.type==="throw"){s(c.arg)}else{var u=c.arg;var d=u.value;if(d&&typeof d==="object"&&r.call(d,"__await")){return t.resolve(d.__await).then(function(e){n("next",e,o,s)},function(e){n("throw",e,o,s)})}return t.resolve(d).then(function(e){u.value=e;o(u)},function(e){return n("throw",e,o,s)})}}var i;function a(e,r){function a(){return new t(function(t,i){n(e,r,t,i)})}return i=i?i.then(a,a):a()}this._invoke=a}_(w.prototype);c(w.prototype,o,function(){return this});e.AsyncIterator=w;e.async=function(t,r,n,i,a){if(a===void 0)a=Promise;var o=new w(u(t,r,n,i),a);return e.isGeneratorFunction(r)?o:o.next().then(function(e){return e.done?e.value:o.next()})};function C(e,t,r){var n=d;return function i(a,o){if(n===h){throw new Error("Generator is already running")}if(n===v){if(a==="throw"){throw o}return x()}r.method=a;r.arg=o;while(true){var s=r.delegate;if(s){var c=T(s,r);if(c){if(c===g)continue;return c}}if(r.method==="next"){r.sent=r._sent=r.arg}else if(r.method==="throw"){if(n===d){n=v;throw r.arg}r.dispatchException(r.arg)}else if(r.method==="return"){r.abrupt("return",r.arg)}n=h;var u=l(e,t,r);if(u.type==="normal"){n=r.done?v:f;if(u.arg===g){continue}return{value:u.arg,done:r.done}}else if(u.type==="throw"){n=v;r.method="throw";r.arg=u.arg}}}}function T(e,t){var r=e.iterator[t.method];if(r===n){t.delegate=null;if(t.method==="throw"){if(e.iterator["return"]){t.method="return";t.arg=n;T(e,t);if(t.method==="throw"){return g}}t.method="throw";t.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var i=l(r,e.iterator,t.arg);if(i.type==="throw"){t.method="throw";t.arg=i.arg;t.delegate=null;return g}var a=i.arg;if(!a){t.method="throw";t.arg=new TypeError("iterator result is not an object");t.delegate=null;return g}if(a.done){t[e.resultName]=a.value;t.next=e.nextLoc;if(t.method!=="return"){t.method="next";t.arg=n}}else{return a}t.delegate=null;return g}_(A);c(A,s,"Generator");c(A,a,function(){return this});c(A,"toString",function(){return"[object Generator]"});function N(e){var t={tryLoc:e[0]};if(1 in e){t.catchLoc=e[1]}if(2 in e){t.finallyLoc=e[2];t.afterLoc=e[3]}this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal";delete t.arg;e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}];e.forEach(N,this);this.reset(true)}e.keys=function(e){var t=[];for(var r in e){t.push(r)}t.reverse();return function r(){while(t.length){var n=t.pop();if(n in e){r.value=n;r.done=false;return r}}r.done=true;return r}};function L(e){if(e){var t=e[a];if(t){return t.call(e)}if(typeof e.next==="function"){return e}if(!isNaN(e.length)){var i=-1,o=function t(){while(++i<e.length){if(r.call(e,i)){t.value=e[i];t.done=false;return t}}t.value=n;t.done=true;return t};return o.next=o}}return{next:x}}e.values=L;function x(){return{value:n,done:true}}k.prototype={constructor:k,reset:function(e){this.prev=0;this.next=0;this.sent=this._sent=n;this.done=false;this.delegate=null;this.method="next";this.arg=n;this.tryEntries.forEach(I);if(!e){for(var t in this){if(t.charAt(0)==="t"&&r.call(this,t)&&!isNaN(+t.slice(1))){this[t]=n}}}},stop:function(){this.done=true;var e=this.tryEntries[0];var t=e.completion;if(t.type==="throw"){throw t.arg}return this.rval},dispatchException:function(e){if(this.done){throw e}var t=this;function i(r,i){s.type="throw";s.arg=e;t.next=r;if(i){t.method="next";t.arg=n}return!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a];var s=o.completion;if(o.tryLoc==="root"){return i("end")}if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc");var u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc){return i(o.catchLoc,true)}else if(this.prev<o.finallyLoc){return i(o.finallyLoc)}}else if(c){if(this.prev<o.catchLoc){return i(o.catchLoc,true)}}else if(u){if(this.prev<o.finallyLoc){return i(o.finallyLoc)}}else{throw new Error("try statement without catch or finally")}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}if(a&&(e==="break"||e==="continue")&&a.tryLoc<=t&&t<=a.finallyLoc){a=null}var o=a?a.completion:{};o.type=e;o.arg=t;if(a){this.method="next";this.next=a.finallyLoc;return g}return this.complete(o)},complete:function(e,t){if(e.type==="throw"){throw e.arg}if(e.type==="break"||e.type==="continue"){this.next=e.arg}else if(e.type==="return"){this.rval=this.arg=e.arg;this.method="return";this.next="end"}else if(e.type==="normal"&&t){this.next=t}return g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e){this.complete(r.completion,r.afterLoc);I(r);return g}}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if(n.type==="throw"){var i=n.arg;I(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){this.delegate={iterator:L(e),resultName:t,nextLoc:r};if(this.method==="next"){this.arg=n}return g}};return e}(e.exports);try{regeneratorRuntime=t}catch(e){if(typeof globalThis==="object"){globalThis.regeneratorRuntime=t}else{Function("r","regeneratorRuntime = r")(t)}}})(hi);var vi=hi.exports;!function(){if("undefined"!=typeof window){var e=window.navigator.userAgent.match(/Edge\/(\d{2})\./),t=e?parseInt(e[1],10):null,r=!!t&&(16<=t&&t<=18);if(!("objectFit"in document.documentElement.style!=!1)||r){var n=function(e,t,r){var n,i,a,o,s;if((r=r.split(" ")).length<2&&(r[1]=r[0]),"x"===e)n=r[0],i=r[1],a="left",o="right",s=t.clientWidth;else{if("y"!==e)return;n=r[1],i=r[0],a="top",o="bottom",s=t.clientHeight}if(n!==a&&i!==a){if(n!==o&&i!==o)return"center"===n||"50%"===n?(t.style[a]="50%",void(t.style["margin-"+a]=s/-2+"px")):void(0<=n.indexOf("%")?(n=parseInt(n,10))<50?(t.style[a]=n+"%",t.style["margin-"+a]=s*(n/-100)+"px"):(n=100-n,t.style[o]=n+"%",t.style["margin-"+o]=s*(n/-100)+"px"):t.style[a]=n);t.style[o]="0"}else t.style[a]="0"},i=function(e){var t=e.dataset?e.dataset.objectFit:e.getAttribute("data-object-fit"),r=e.dataset?e.dataset.objectPosition:e.getAttribute("data-object-position");t=t||"cover",r=r||"50% 50%";var i=e.parentNode;return function(e){var t=window.getComputedStyle(e,null),r=t.getPropertyValue("position"),n=t.getPropertyValue("overflow"),i=t.getPropertyValue("display");r&&"static"!==r||(e.style.position="relative"),"hidden"!==n&&(e.style.overflow="hidden"),i&&"inline"!==i||(e.style.display="block"),0===e.clientHeight&&(e.style.height="100%"),-1===e.className.indexOf("object-fit-polyfill")&&(e.className=e.className+" object-fit-polyfill")}(i),function(e){var t=window.getComputedStyle(e,null),r={"max-width":"none","max-height":"none","min-width":"0px","min-height":"0px",top:"auto",right:"auto",bottom:"auto",left:"auto","margin-top":"0px","margin-right":"0px","margin-bottom":"0px","margin-left":"0px"};for(var n in r)t.getPropertyValue(n)!==r[n]&&(e.style[n]=r[n])}(e),e.style.position="absolute",e.style.width="auto",e.style.height="auto","scale-down"===t&&(t=e.clientWidth<i.clientWidth&&e.clientHeight<i.clientHeight?"none":"contain"),"none"===t?(n("x",e,r),void n("y",e,r)):"fill"===t?(e.style.width="100%",e.style.height="100%",n("x",e,r),void n("y",e,r)):(e.style.height="100%",void("cover"===t&&e.clientWidth>i.clientWidth||"contain"===t&&e.clientWidth<i.clientWidth?(e.style.top="0",e.style.marginTop="0",n("x",e,r)):(e.style.width="100%",e.style.height="auto",e.style.left="0",e.style.marginLeft="0",n("y",e,r))))},a=function(e){if(void 0===e||e instanceof Event)e=document.querySelectorAll("[data-object-fit]");else if(e&&e.nodeName)e=[e];else{if("object"!=typeof e||!e.length||!e[0].nodeName)return!1;e=e}for(var t=0;t<e.length;t++)if(e[t].nodeName){var n=e[t].nodeName.toLowerCase();if("img"===n){if(r)continue;e[t].complete?i(e[t]):e[t].addEventListener("load",function(){i(this)})}else"video"===n?0<e[t].readyState?i(e[t]):e[t].addEventListener("loadedmetadata",function(){i(this)}):i(e[t])}return!0};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",a):a(),window.addEventListener("resize",a),window.objectFitPolyfill=a}else window.objectFitPolyfill=function(){return!1}}}();var gi=g;var mi=b;var pi=Sr;var yi=[].slice;var bi={};var Ei=function(e,t,r){if(!(t in bi)){for(var n=[],i=0;i<t;i++)n[i]="a["+i+"]";bi[t]=Function("F,a","return new F("+n.join(",")+")")}return bi[t](e,r)};var Si=Function.bind||function e(t){var r=gi(this);var n=yi.call(arguments,1);var i=function(){var e=n.concat(yi.call(arguments));return this instanceof i?Ei(r,e.length,e):pi(r,e,t)};if(mi(r.prototype))i.prototype=r.prototype;return i};var Ai=Z;var _i=Ze;var wi=g;var Ci=S;var Ti=b;var Ni=A;var Ii=Si;var ki=(d.exports.Reflect||{}).construct;var Li=Ni(function(){function e(){}return!(ki(function(){},[],e)instanceof e)});var xi=!Ni(function(){ki(function(){})});Ai(Ai.S+Ai.F*(Li||xi),"Reflect",{construct:function e(t,r){wi(t);Ci(r);var n=arguments.length<3?t:wi(arguments[2]);if(xi&&!Li)return ki(t,r,n);if(t==n){switch(r.length){case 0:return new t;case 1:return new t(r[0]);case 2:return new t(r[0],r[1]);case 3:return new t(r[0],r[1],r[2]);case 4:return new t(r[0],r[1],r[2],r[3])}var i=[null];i.push.apply(i,r);return new(Ii.apply(t,i))}var a=n.prototype;var o=_i(Ti(a)?a:Object.prototype);var s=Function.apply.call(t,o,r);return Ti(s)?s:o}});var Mi=h.exports.Reflect.construct;var Oi=Mi;var Vi=Z;Vi(Vi.S+Vi.F*!_,"Object",{defineProperty:y.f});var Ri=h.exports.Object;var Di=function e(t,r,n){return Ri.defineProperty(t,r,n)};var Pi=Di;function Fi(e,t,r){if(t in e){Pi(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function ji(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Pi(e,n.key,n)}}function Bi(e,t,r){if(t)ji(e.prototype,t);if(r)ji(e,r);Pi(e,"prototype",{writable:false});return e}function Ui(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var Gi=Z;Gi(Gi.S,"Object",{create:Ze});var zi=h.exports.Object;var Wi=function e(t,r){return zi.create(t,r)};var Hi=Wi;var Yi={};var Qi={};Qi.f={}.propertyIsEnumerable;var Zi=Qi;var qi=R;var Xi=ne;var Ki=L;var Ji=B;var $i=I;var ea=Object.getOwnPropertyDescriptor;Yi.f=_?ea:function e(t,r){t=Xi(t);r=Ki(r,true);if($i)try{return ea(t,r)}catch(e){}if(Ji(t,r))return qi(!Zi.f.call(t,r),t[r])};var ta=b;var ra=S;var na=function(e,t){ra(e);if(!ta(t)&&t!==null)throw TypeError(t+": can't set as prototype!")};var ia={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{r=p(Function.call,Yi.f(Object.prototype,"__proto__").set,2);r(e,[]);t=!(e instanceof Array)}catch(e){t=true}return function e(n,i){na(n,i);if(t)n.__proto__=i;else r(n,i);return n}}({},false):undefined),check:na};var aa=Z;aa(aa.S,"Object",{setPrototypeOf:ia.set});var oa=h.exports.Object.setPrototypeOf;var sa=oa;function ca(e,t){ca=sa||function e(t,r){t.__proto__=r;return t};return ca(e,t)}function ua(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Hi(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Pi(e,"prototype",{writable:false});if(t)ca(e,t)}var la={exports:{}};var da=Ae("meta");var fa=b;var ha=B;var va=y.f;var ga=0;var ma=Object.isExtensible||function(){return true};var pa=!A(function(){return ma(Object.preventExtensions({}))});var ya=function(e){va(e,da,{value:{i:"O"+ ++ga,w:{}}})};var ba=function(e,t){if(!fa(e))return typeof e=="symbol"?e:(typeof e=="string"?"S":"P")+e;if(!ha(e,da)){if(!ma(e))return"F";if(!t)return"E";ya(e)}return e[da].i};var Ea=function(e,t){if(!ha(e,da)){if(!ma(e))return true;if(!t)return false;ya(e)}return e[da].w};var Sa=function(e){if(pa&&Aa.NEED&&ma(e)&&!ha(e,da))ya(e);return e};var Aa=la.exports={KEY:da,NEED:false,fastKey:ba,getWeak:Ea,onFreeze:Sa};var _a={};_a.f=qe.exports;var wa=h.exports;var Ca=_a;var Ta=y.f;var Na=function(e){var t=wa.Symbol||(wa.Symbol={});if(e.charAt(0)!="_"&&!(e in t))Ta(t,e,{value:Ca.f(e)})};var Ia={};Ia.f=Object.getOwnPropertySymbols;var ka=Ve;var La=Ia;var xa=Qi;var Ma=function(e){var t=ka(e);var r=La.f;if(r){var n=r(e);var i=xa.f;var a=0;var o;while(n.length>a)if(i.call(e,o=n[a++]))t.push(o)}return t};var Oa=J;var Va=Array.isArray||function e(t){return Oa(t)=="Array"};var Ra={};var Da={};var Pa=Le;var Fa=xe.concat("length","prototype");Da.f=Object.getOwnPropertyNames||function e(t){return Pa(t,Fa)};var ja=ne;var Ba=Da.f;var Ua={}.toString;var Ga=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];var za=function(e){try{return Ba(e)}catch(e){return Ga.slice()}};Ra.f=function e(t){return Ga&&Ua.call(t)=="[object Window]"?za(t):Ba(ja(t))};var Wa=d.exports;var Ha=B;var Ya=_;var Qa=Z;var Za=q;var qa=la.exports.KEY;var Xa=A;var Ka=ge.exports;var Ja=it;var $a=Ae;var eo=qe.exports;var to=_a;var ro=Na;var no=Ma;var io=Va;var ao=S;var oo=b;var so=dt;var co=ne;var uo=L;var lo=R;var fo=Ze;var ho=Ra;var vo=Yi;var go=Ia;var mo=y;var po=Ve;var yo=vo.f;var bo=mo.f;var Eo=ho.f;var So=Wa.Symbol;var Ao=Wa.JSON;var _o=Ao&&Ao.stringify;var wo="prototype";var Co=eo("_hidden");var To=eo("toPrimitive");var No={}.propertyIsEnumerable;var Io=Ka("symbol-registry");var ko=Ka("symbols");var Lo=Ka("op-symbols");var xo=Object[wo];var Mo=typeof So=="function"&&!!go.f;var Oo=Wa.QObject;var Vo=!Oo||!Oo[wo]||!Oo[wo].findChild;var Ro=Ya&&Xa(function(){return fo(bo({},"a",{get:function(){return bo(this,"a",{value:7}).a}})).a!=7})?function(e,t,r){var n=yo(xo,t);if(n)delete xo[t];bo(e,t,r);if(n&&e!==xo)bo(xo,t,n)}:bo;var Do=function(e){var t=ko[e]=fo(So[wo]);t._k=e;return t};var Po=Mo&&typeof So.iterator=="symbol"?function(e){return typeof e=="symbol"}:function(e){return e instanceof So};var Fo=function e(t,r,n){if(t===xo)Fo(Lo,r,n);ao(t);r=uo(r,true);ao(n);if(Ha(ko,r)){if(!n.enumerable){if(!Ha(t,Co))bo(t,Co,lo(1,{}));t[Co][r]=true}else{if(Ha(t,Co)&&t[Co][r])t[Co][r]=false;n=fo(n,{enumerable:lo(0,false)})}return Ro(t,r,n)}return bo(t,r,n)};var jo=function e(t,r){ao(t);var n=no(r=co(r));var i=0;var a=n.length;var o;while(a>i)Fo(t,o=n[i++],r[o]);return t};var Bo=function e(t,r){return r===undefined?fo(t):jo(fo(t),r)};var Uo=function e(t){var r=No.call(this,t=uo(t,true));if(this===xo&&Ha(ko,t)&&!Ha(Lo,t))return false;return r||!Ha(this,t)||!Ha(ko,t)||Ha(this,Co)&&this[Co][t]?r:true};var Go=function e(t,r){t=co(t);r=uo(r,true);if(t===xo&&Ha(ko,r)&&!Ha(Lo,r))return;var n=yo(t,r);if(n&&Ha(ko,r)&&!(Ha(t,Co)&&t[Co][r]))n.enumerable=true;return n};var zo=function e(t){var r=Eo(co(t));var n=[];var i=0;var a;while(r.length>i){if(!Ha(ko,a=r[i++])&&a!=Co&&a!=qa)n.push(a)}return n};var Wo=function e(t){var r=t===xo;var n=Eo(r?Lo:co(t));var i=[];var a=0;var o;while(n.length>a){if(Ha(ko,o=n[a++])&&(r?Ha(xo,o):true))i.push(ko[o])}return i};if(!Mo){So=function e(){if(this instanceof So)throw TypeError("Symbol is not a constructor!");var t=$a(arguments.length>0?arguments[0]:undefined);var r=function(e){if(this===xo)r.call(Lo,e);if(Ha(this,Co)&&Ha(this[Co],t))this[Co][t]=false;Ro(this,t,lo(1,e))};if(Ya&&Vo)Ro(xo,t,{configurable:true,set:r});return Do(t)};Za(So[wo],"toString",function e(){return this._k});vo.f=Go;mo.f=Fo;Da.f=ho.f=zo;Qi.f=Uo;go.f=Wo;if(Ya&&!l){Za(xo,"propertyIsEnumerable",Uo)}to.f=function(e){return Do(eo(e))}}Qa(Qa.G+Qa.W+Qa.F*!Mo,{Symbol:So});for(var Ho="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),Yo=0;Ho.length>Yo;)eo(Ho[Yo++]);for(var Qo=po(eo.store),Zo=0;Qo.length>Zo;)ro(Qo[Zo++]);Qa(Qa.S+Qa.F*!Mo,"Symbol",{for:function(e){return Ha(Io,e+="")?Io[e]:Io[e]=So(e)},keyFor:function e(t){if(!Po(t))throw TypeError(t+" is not a symbol!");for(var r in Io)if(Io[r]===t)return r},useSetter:function(){Vo=true},useSimple:function(){Vo=false}});Qa(Qa.S+Qa.F*!Mo,"Object",{create:Bo,defineProperty:Fo,defineProperties:jo,getOwnPropertyDescriptor:Go,getOwnPropertyNames:zo,getOwnPropertySymbols:Wo});var qo=Xa(function(){go.f(1)});Qa(Qa.S+Qa.F*qo,"Object",{getOwnPropertySymbols:function e(t){return go.f(so(t))}});Ao&&Qa(Qa.S+Qa.F*(!Mo||Xa(function(){var e=So();return _o([e])!="[null]"||_o({a:e})!="{}"||_o(Object(e))!="{}"})),"JSON",{stringify:function e(t){var r=[t];var n=1;var i,a;while(arguments.length>n)r.push(arguments[n++]);a=i=r[1];if(!oo(i)&&t===undefined||Po(t))return;if(!io(i))i=function(e,t){if(typeof a=="function")t=a.call(this,e,t);if(!Po(t))return t};r[1]=i;return _o.apply(Ao,r)}});So[wo][To]||F(So[wo],To,So[wo].valueOf);Ja(So,"Symbol");Ja(Math,"Math",true);Ja(Wa.JSON,"JSON",true);Na("asyncIterator");Na("observable");var Xo=h.exports.Symbol;var Ko=Xo;var Jo=_a.f("iterator");var $o=Jo;function es(e){"@babel/helpers - typeof";return es="function"==typeof Ko&&"symbol"==typeof $o?function(e){return typeof e}:function(e){return e&&"function"==typeof Ko&&e.constructor===Ko&&e!==Ko.prototype?"symbol":typeof e},es(e)}function ts(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function rs(e,t){if(t&&(es(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return ts(e)}var ns=Z;var is=h.exports;var as=A;var os=function(e,t){var r=(is.Object||{})[e]||Object[e];var n={};n[e]=t(r);ns(ns.S+ns.F*as(function(){r(1)}),"Object",n)};var ss=dt;var cs=mt;os("getPrototypeOf",function(){return function e(t){return cs(ss(t))}});var us=h.exports.Object.getPrototypeOf;var ls=us;function ds(e){ds=sa?ls:function e(t){return t.__proto__||ls(t)};return ds(e)}var fs=y;var hs=R;var vs=function(e,t,r){if(t in e)fs.f(e,t,hs(0,r));else e[t]=r};var gs=p;var ms=Z;var ps=dt;var ys=$t;var bs=nr;var Es=oe;var Ss=vs;var As=sr;ms(ms.S+ms.F*!pn(function(e){Array.from(e)}),"Array",{from:function e(t){var r=ps(t);var n=typeof this=="function"?this:Array;var i=arguments.length;var a=i>1?arguments[1]:undefined;var o=a!==undefined;var s=0;var c=As(r);var u,l,d,f;if(o)a=gs(a,i>2?arguments[2]:undefined,2);if(c!=undefined&&!(n==Array&&bs(c))){for(f=c.call(r),l=new n;!(d=f.next()).done;s++){Ss(l,s,o?ys(f,a,[d.value,s],true):d.value)}}else{u=Es(r.length);for(l=new n(u);u>s;s++){Ss(l,s,o?a(r[s],s):r[s])}}l.length=s;return l}});var _s=h.exports.Array.from;var ws=_s;var Cs=b;var Ts=function(e,t){if(!Cs(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e};var Ns=y.f;var Is=Ze;var ks=sn;var Ls=p;var xs=Xt;var Ms=Kt.exports;var Os=Lt;var Vs=Mt;var Rs=hn;var Ds=_;var Ps=la.exports.fastKey;var Fs=Ts;var js=Ds?"_s":"size";var Bs=function(e,t){var r=Ps(t);var n;if(r!=="F")return e._i[r];for(n=e._f;n;n=n.n){if(n.k==t)return n}};var Us={getConstructor:function(e,t,r,n){var i=e(function(e,a){xs(e,i,t,"_i");e._t=t;e._i=Is(null);e._f=undefined;e._l=undefined;e[js]=0;if(a!=undefined)Ms(a,r,e[n],e)});ks(i.prototype,{clear:function e(){for(var r=Fs(this,t),n=r._i,i=r._f;i;i=i.n){i.r=true;if(i.p)i.p=i.p.n=undefined;delete n[i.i]}r._f=r._l=undefined;r[js]=0},delete:function(e){var r=Fs(this,t);var n=Bs(r,e);if(n){var i=n.n;var a=n.p;delete r._i[n.i];n.r=true;if(a)a.n=i;if(i)i.p=a;if(r._f==n)r._f=i;if(r._l==n)r._l=a;r[js]--}return!!n},forEach:function e(r){Fs(this,t);var n=Ls(r,arguments.length>1?arguments[1]:undefined,3);var i;while(i=i?i.n:this._f){n(i.v,i.k,this);while(i&&i.r)i=i.p}},has:function e(r){return!!Bs(Fs(this,t),r)}});if(Ds)Ns(i.prototype,"size",{get:function(){return Fs(this,t)[js]}});return i},def:function(e,t,r){var n=Bs(e,t);var i,a;if(n){n.v=r}else{e._l=n={i:a=Ps(t,true),k:t,v:r,p:i=e._l,n:undefined,r:false};if(!e._f)e._f=n;if(i)i.n=n;e[js]++;if(a!=="F")e._i[a]=n}return e},getEntry:Bs,setStrong:function(e,t,r){Os(e,t,function(e,r){this._t=Fs(e,t);this._k=r;this._l=undefined},function(){var e=this;var t=e._k;var r=e._l;while(r&&r.r)r=r.p;if(!e._t||!(e._l=r=r?r.n:e._t._f)){e._t=undefined;return Vs(1)}if(t=="keys")return Vs(0,r.k);if(t=="values")return Vs(0,r.v);return Vs(0,[r.k,r.v])},r?"entries":"values",!r,true);Rs(t)}};var Gs=b;var zs=Va;var Ws=qe.exports("species");var Hs=function(e){var t;if(zs(e)){t=e.constructor;if(typeof t=="function"&&(t===Array||zs(t.prototype)))t=undefined;if(Gs(t)){t=t[Ws];if(t===null)t=undefined}}return t===undefined?Array:t};var Ys=Hs;var Qs=function(e,t){return new(Ys(e))(t)};var Zs=p;var qs=ee;var Xs=dt;var Ks=oe;var Js=Qs;var $s=function(e,t){var r=e==1;var n=e==2;var i=e==3;var a=e==4;var o=e==6;var s=e==5||o;var c=t||Js;return function(t,u,l){var d=Xs(t);var f=qs(d);var h=Zs(u,l,3);var v=Ks(f.length);var g=0;var m=r?c(t,v):n?c(t,0):undefined;var p,y;for(;v>g;g++)if(s||g in f){p=f[g];y=h(p,g,d);if(e){if(r)m[g]=y;else if(y)switch(e){case 3:return true;case 5:return p;case 6:return g;case 2:m.push(p)}else if(a)return false}}return o?-1:i||a?a:m}};var ec=d.exports;var tc=Z;var rc=la.exports;var nc=A;var ic=F;var ac=sn;var oc=Kt.exports;var sc=Xt;var cc=b;var uc=it;var lc=y.f;var dc=$s(0);var fc=_;var hc=function(e,t,r,n,i,a){var o=ec[e];var s=o;var c=i?"set":"add";var u=s&&s.prototype;var l={};if(!fc||typeof s!="function"||!(a||u.forEach&&!nc(function(){(new s).entries().next()}))){s=n.getConstructor(t,e,i,c);ac(s.prototype,r);rc.NEED=true}else{s=t(function(t,r){sc(t,s,e,"_c");t._c=new o;if(r!=undefined)oc(r,i,t[c],t)});dc("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(e){var t=e=="add"||e=="set";if(e in u&&!(a&&e=="clear"))ic(s.prototype,e,function(r,n){sc(this,s,e);if(!t&&a&&!cc(r))return e=="get"?undefined:false;var i=this._c[e](r===0?0:r,n);return t?this:i})});a||lc(s.prototype,"size",{get:function(){return this._c.size}})}uc(s,e);l[e]=s;tc(tc.G+tc.W+tc.F,l);if(!a)n.setStrong(s,e,i);return s};var vc=Us;var gc=Ts;var mc="Set";hc(mc,function(e){return function t(){return e(this,arguments.length>0?arguments[0]:undefined)}},{add:function e(t){return vc.def(gc(this,mc),t=t===0?0:t,t)}},vc);var pc=Kt.exports;var yc=function(e,t){var r=[];pc(e,false,r.push,r,t);return r};var bc=qt;var Ec=yc;var Sc=function(e){return function t(){if(bc(this)!=e)throw TypeError(e+"#toJSON isn't generic");return Ec(this)}};var Ac=Z;Ac(Ac.P+Ac.R,"Set",{toJSON:Sc("Set")});var _c=Z;var wc=function(e){_c(_c.S,e,{of:function e(){var t=arguments.length;var r=new Array(t);while(t--)r[t]=arguments[t];return new this(r)}})};wc("Set");var Cc=Z;var Tc=g;var Nc=p;var Ic=Kt.exports;var kc=function(e){Cc(Cc.S,e,{from:function e(t){var r=arguments[1];var n,i,a,o;Tc(this);n=r!==undefined;if(n)Tc(r);if(t==undefined)return new this;i=[];if(n){a=0;o=Nc(r,arguments[2],2);Ic(t,false,function(e){i.push(o(e,a++))})}else{Ic(t,false,i.push,i)}return new this(i)}})};kc("Set");var Lc=h.exports.Set;var xc=Lc;var Mc={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}if(Object.create){n.prototype=Object.create(null);if(!(new n).__proto__)r=false}function i(e,t,r){this.fn=e;this.context=t;this.once=r||false}function a(e,t,n,a,o){if(typeof n!=="function"){throw new TypeError("The listener must be a function")}var s=new i(n,a||e,o),c=r?r+t:t;if(!e._events[c])e._events[c]=s,e._eventsCount++;else if(!e._events[c].fn)e._events[c].push(s);else e._events[c]=[e._events[c],s];return e}function o(e,t){if(--e._eventsCount===0)e._events=new n;else delete e._events[t]}function s(){this._events=new n;this._eventsCount=0}s.prototype.eventNames=function e(){var n=[],i,a;if(this._eventsCount===0)return n;for(a in i=this._events){if(t.call(i,a))n.push(r?a.slice(1):a)}if(Object.getOwnPropertySymbols){return n.concat(Object.getOwnPropertySymbols(i))}return n};s.prototype.listeners=function e(t){var n=r?r+t:t,i=this._events[n];if(!i)return[];if(i.fn)return[i.fn];for(var a=0,o=i.length,s=new Array(o);a<o;a++){s[a]=i[a].fn}return s};s.prototype.listenerCount=function e(t){var n=r?r+t:t,i=this._events[n];if(!i)return 0;if(i.fn)return 1;return i.length};s.prototype.emit=function e(t,n,i,a,o,s){var c=r?r+t:t;if(!this._events[c])return false;var u=this._events[c],l=arguments.length,d,f;if(u.fn){if(u.once)this.removeListener(t,u.fn,undefined,true);switch(l){case 1:return u.fn.call(u.context),true;case 2:return u.fn.call(u.context,n),true;case 3:return u.fn.call(u.context,n,i),true;case 4:return u.fn.call(u.context,n,i,a),true;case 5:return u.fn.call(u.context,n,i,a,o),true;case 6:return u.fn.call(u.context,n,i,a,o,s),true}for(f=1,d=new Array(l-1);f<l;f++){d[f-1]=arguments[f]}u.fn.apply(u.context,d)}else{var h=u.length,v;for(f=0;f<h;f++){if(u[f].once)this.removeListener(t,u[f].fn,undefined,true);switch(l){case 1:u[f].fn.call(u[f].context);break;case 2:u[f].fn.call(u[f].context,n);break;case 3:u[f].fn.call(u[f].context,n,i);break;case 4:u[f].fn.call(u[f].context,n,i,a);break;default:if(!d)for(v=1,d=new Array(l-1);v<l;v++){d[v-1]=arguments[v]}u[f].fn.apply(u[f].context,d)}}}return true};s.prototype.on=function e(t,r,n){return a(this,t,r,n,false)};s.prototype.once=function e(t,r,n){return a(this,t,r,n,true)};s.prototype.removeListener=function e(t,n,i,a){var s=r?r+t:t;if(!this._events[s])return this;if(!n){o(this,s);return this}var c=this._events[s];if(c.fn){if(c.fn===n&&(!a||c.once)&&(!i||c.context===i)){o(this,s)}}else{for(var u=0,l=[],d=c.length;u<d;u++){if(c[u].fn!==n||a&&!c[u].once||i&&c[u].context!==i){l.push(c[u])}}if(l.length)this._events[s]=l.length===1?l[0]:l;else o(this,s)}return this};s.prototype.removeAllListeners=function e(t){var i;if(t){i=r?r+t:t;if(this._events[i])o(this,i)}else{this._events=new n;this._eventsCount=0}return this};s.prototype.off=s.prototype.removeListener;s.prototype.addListener=s.prototype.on;s.prefixed=r;s.EventEmitter=s;{e.exports=s}})(Mc);var Oc=Us;var Vc=Ts;var Rc="Map";hc(Rc,function(e){return function t(){return e(this,arguments.length>0?arguments[0]:undefined)}},{get:function e(t){var r=Oc.getEntry(Vc(this,Rc),t);return r&&r.v},set:function e(t,r){return Oc.def(Vc(this,Rc),t===0?0:t,r)}},Oc,true);var Dc=Z;Dc(Dc.P+Dc.R,"Map",{toJSON:Sc("Map")});wc("Map");kc("Map");var Pc=h.exports.Map;var Fc=Pc;e.Barcode=void 0;(function(e){function t(e){var t;try{t=decodeURIComponent(escape(String.fromCharCode.apply(null,e.rawData)))}catch(e){t=""}return{symbology:e.symbology,data:t,rawData:new Uint8Array(e.rawData),location:{topLeft:{x:e.location[0][0],y:e.location[0][1]},topRight:{x:e.location[1][0],y:e.location[1][1]},bottomRight:{x:e.location[2][0],y:e.location[2][1]},bottomLeft:{x:e.location[3][0],y:e.location[3][1]}},compositeFlag:e.compositeFlag,isGs1DataCarrier:e.isGs1DataCarrier,encodingArray:e.encodingArray}}e.createFromWASMResult=t;(function(e){e["AZTEC"]="aztec";e["CODABAR"]="codabar";e["CODE11"]="code11";e["CODE128"]="code128";e["CODE25"]="code25";e["CODE32"]="code32";e["CODE39"]="code39";e["CODE93"]="code93";e["DATA_MATRIX"]="data-matrix";e["DOTCODE"]="dotcode";e["EAN13"]="ean13";e["EAN8"]="ean8";e["FIVE_DIGIT_ADD_ON"]="five-digit-add-on";e["GS1_DATABAR"]="databar";e["GS1_DATABAR_EXPANDED"]="databar-expanded";e["GS1_DATABAR_LIMITED"]="databar-limited";e["IATA_2_OF_5"]="iata2of5";e["INTERLEAVED_2_OF_5"]="itf";e["KIX"]="kix";e["LAPA4SC"]="lapa4sc";e["MATRIX_2_OF_5"]="matrix2of5";e["MAXICODE"]="maxicode";e["MICRO_PDF417"]="micropdf417";e["MICRO_QR"]="microqr";e["MSI_PLESSEY"]="msi-plessey";e["PDF417"]="pdf417";e["QR"]="qr";e["RM4SCC"]="rm4scc";e["TWO_DIGIT_ADD_ON"]="two-digit-add-on";e["UPCA"]="upca";e["UPCE"]="upce";e["USPS_INTELLIGENT_MAIL"]="usps-intelligent-mail"})(e.Symbology||(e.Symbology={}));(function(e){e[e["NONE"]=0]="NONE";e[e["UNKNOWN"]=1]="UNKNOWN";e[e["LINKED"]=2]="LINKED";e[e["GS1_A"]=4]="GS1_A";e[e["GS1_B"]=8]="GS1_B";e[e["GS1_C"]=16]="GS1_C"})(e.CompositeFlag||(e.CompositeFlag={}));(function(e){var t=new Fc([[e.AZTEC,"Aztec"],[e.CODABAR,"Codabar"],[e.CODE11,"Code 11"],[e.CODE128,"Code 128"],[e.CODE25,"Code 25"],[e.CODE32,"Code 32"],[e.CODE39,"Code 39"],[e.CODE93,"Code 93"],[e.DATA_MATRIX,"Data Matrix"],[e.DOTCODE,"DotCode"],[e.EAN13,"EAN-13"],[e.EAN8,"EAN-8"],[e.FIVE_DIGIT_ADD_ON,"Five-Digit Add-On"],[e.GS1_DATABAR_EXPANDED,"GS1 DataBar Expanded"],[e.GS1_DATABAR_LIMITED,"GS1 DataBar Limited"],[e.GS1_DATABAR,"GS1 DataBar 14"],[e.IATA_2_OF_5,"IATA 2 of 5"],[e.INTERLEAVED_2_OF_5,"Interleaved 2 of 5"],[e.KIX,"KIX"],[e.LAPA4SC,"LAPA4SC"],[e.MATRIX_2_OF_5,"Matrix 2 of 5"],[e.MAXICODE,"MaxiCode"],[e.MICRO_PDF417,"MicroPDF417"],[e.MICRO_QR,"Micro QR"],[e.MSI_PLESSEY,"MSI-Plessey"],[e.PDF417,"PDF417"],[e.QR,"QR"],[e.RM4SCC,"RM4SCC"],[e.TWO_DIGIT_ADD_ON,"Two-Digit Add-On"],[e.UPCA,"UPC-A"],[e.UPCE,"UPC-E"],[e.USPS_INTELLIGENT_MAIL,"USPS Intelligent Mail"]]);var r=new Fc([[e.AZTEC,"aztec"],[e.CODABAR,"codabar"],[e.CODE11,"code11"],[e.CODE128,"code128"],[e.CODE25,"code25"],[e.CODE32,"code32"],[e.CODE39,"code39"],[e.CODE93,"code93"],[e.DATA_MATRIX,"data-matrix"],[e.DOTCODE,"dotcode"],[e.EAN13,"ean13"],[e.EAN8,"ean8"],[e.FIVE_DIGIT_ADD_ON,"five-digit-add-on"],[e.GS1_DATABAR_EXPANDED,"databar-expanded"],[e.GS1_DATABAR_LIMITED,"databar-limited"],[e.GS1_DATABAR,"databar"],[e.IATA_2_OF_5,"iata2of5"],[e.INTERLEAVED_2_OF_5,"itf"],[e.KIX,"kix"],[e.LAPA4SC,"lapa4sc"],[e.MATRIX_2_OF_5,"matrix2of5"],[e.MAXICODE,"maxicode"],[e.MICRO_PDF417,"micropdf417"],[e.MICRO_QR,"microqr"],[e.MSI_PLESSEY,"msi-plessey"],[e.PDF417,"pdf417"],[e.QR,"qr"],[e.RM4SCC,"rm4scc"],[e.TWO_DIGIT_ADD_ON,"two-digit-add-on"],[e.UPCA,"upca"],[e.UPCE,"upce"],[e.USPS_INTELLIGENT_MAIL,"usps-intelligent-mail"]]);function n(e){var r;return(r=t.get(e.toLowerCase()))!==null&&r!==void 0?r:"Unknown"}e.toHumanizedName=n;function i(e){var t;return(t=r.get(e.toLowerCase()))!==null&&t!==void 0?t:"unknown"}e.toJSONName=i})(e.Symbology||(e.Symbology={}))})(e.Barcode||(e.Barcode={}));function jc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r){e[n]=r[n]}}return e}var Bc={read:function(e){if(e[0]==='"'){e=e.slice(1,-1)}return e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function Uc(e,t){function r(r,n,i){if(typeof document==="undefined"){return}i=jc({},t,i);if(typeof i.expires==="number"){i.expires=new Date(Date.now()+i.expires*864e5)}if(i.expires){i.expires=i.expires.toUTCString()}r=encodeURIComponent(r).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var o in i){if(!i[o]){continue}a+="; "+o;if(i[o]===true){continue}a+="="+i[o].split(";")[0]}return document.cookie=r+"="+e.write(n,r)+a}function n(t){if(typeof document==="undefined"||arguments.length&&!t){return}var r=document.cookie?document.cookie.split("; "):[];var n={};for(var i=0;i<r.length;i++){var a=r[i].split("=");var o=a.slice(1).join("=");try{var s=decodeURIComponent(a[0]);n[s]=e.read(o,s);if(t===s){break}}catch(e){}}return t?n[t]:n}return Object.create({set:r,get:n,remove:function(e,t){r(e,"",jc({},t,{expires:-1}))},withAttributes:function(e){return Uc(this.converter,jc({},this.attributes,e))},withConverter:function(e){return Uc(jc({},this.converter,e),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(e)}})}var Gc=Uc(Bc,{path:"/"});var zc={exports:{}};(function(e,t){
/* UAParser.js v1.0.2
	   Copyright © 2012-2021 Faisal Salman <f@faisalman.com>
	   MIT License */
(function(r,n){var i="1.0.2",a="",o="?",s="function",c="undefined",u="object",l="string",d="major",f="model",h="name",v="type",g="vendor",m="version",p="architecture",y="console",b="mobile",E="tablet",S="smarttv",A="wearable",_="embedded",w=255;var C="Amazon",T="Apple",N="ASUS",I="BlackBerry",k="Browser",L="Chrome",x="Edge",M="Firefox",O="Google",V="Huawei",R="LG",D="Microsoft",P="Motorola",F="Opera",j="Samsung",B="Sony",U="Xiaomi",G="Zebra",z="Facebook";var W=function(e,t){var r={};for(var n in e){if(t[n]&&t[n].length%2===0){r[n]=t[n].concat(e[n])}else{r[n]=e[n]}}return r},H=function(e){var t={};for(var r=0;r<e.length;r++){t[e[r].toUpperCase()]=e[r]}return t},Y=function(e,t){return typeof e===l?Q(t).indexOf(Q(e))!==-1:false},Q=function(e){return e.toLowerCase()},Z=function(e){return typeof e===l?e.replace(/[^\d\.]/g,a).split(".")[0]:n},q=function(e,t){if(typeof e===l){e=e.replace(/^\s\s*/,a).replace(/\s\s*$/,a);return typeof t===c?e:e.substring(0,w)}};var X=function(e,t){var r=0,i,a,o,c,l,d;while(r<t.length&&!l){var f=t[r],h=t[r+1];i=a=0;while(i<f.length&&!l){l=f[i++].exec(e);if(!!l){for(o=0;o<h.length;o++){d=l[++a];c=h[o];if(typeof c===u&&c.length>0){if(c.length===2){if(typeof c[1]==s){this[c[0]]=c[1].call(this,d)}else{this[c[0]]=c[1]}}else if(c.length===3){if(typeof c[1]===s&&!(c[1].exec&&c[1].test)){this[c[0]]=d?c[1].call(this,d,c[2]):n}else{this[c[0]]=d?d.replace(c[1],c[2]):n}}else if(c.length===4){this[c[0]]=d?c[3].call(this,d.replace(c[1],c[2])):n}}else{this[c]=d?d:n}}}}r+=2}},K=function(e,t){for(var r in t){if(typeof t[r]===u&&t[r].length>0){for(var i=0;i<t[r].length;i++){if(Y(t[r][i],e)){return r===o?n:r}}}else if(Y(t[r],e)){return r===o?n:r}}return e};var J={"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},$={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"};var ee={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[m,[h,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[m,[h,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[h,m],[/opios[\/ ]+([\w\.]+)/i],[m,[h,F+" Mini"]],[/\bopr\/([\w\.]+)/i],[m,[h,F]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[h,m],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[m,[h,"UC"+k]],[/\bqbcore\/([\w\.]+)/i],[m,[h,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[m,[h,"WeChat"]],[/konqueror\/([\w\.]+)/i],[m,[h,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[m,[h,"IE"]],[/yabrowser\/([\w\.]+)/i],[m,[h,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[h,/(.+)/,"$1 Secure "+k],m],[/\bfocus\/([\w\.]+)/i],[m,[h,M+" Focus"]],[/\bopt\/([\w\.]+)/i],[m,[h,F+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[m,[h,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[m,[h,"Dolphin"]],[/coast\/([\w\.]+)/i],[m,[h,F+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[m,[h,"MIUI "+k]],[/fxios\/([-\w\.]+)/i],[m,[h,M]],[/\bqihu|(qi?ho?o?|360)browser/i],[[h,"360 "+k]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[h,/(.+)/,"$1 "+k],m],[/(comodo_dragon)\/([\w\.]+)/i],[[h,/_/g," "],m],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[h,m],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i],[h],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[h,z],m],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[h,m],[/\bgsa\/([\w\.]+) .*safari\//i],[m,[h,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[m,[h,L+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[h,L+" WebView"],m],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[m,[h,"Android "+k]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[h,m],[/version\/([\w\.]+) .*mobile\/\w+ (safari)/i],[m,[h,"Mobile Safari"]],[/version\/([\w\.]+) .*(mobile ?safari|safari)/i],[m,h],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[h,[m,K,J]],[/(webkit|khtml)\/([\w\.]+)/i],[h,m],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[h,"Netscape"],m],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[m,[h,M+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[h,m]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[p,"amd64"]],[/(ia32(?=;))/i],[[p,Q]],[/((?:i[346]|x)86)[;\)]/i],[[p,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[p,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[p,"armhf"]],[/windows (ce|mobile); ppc;/i],[[p,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[p,/ower/,a,Q]],[/(sun4\w)[;\)]/i],[[p,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[p,Q]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[f,[g,j],[v,E]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[f,[g,j],[v,b]],[/\((ip(?:hone|od)[\w ]*);/i],[f,[g,T],[v,b]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[f,[g,T],[v,E]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[f,[g,V],[v,E]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}-[atu]?[ln][01259x][012359][an]?)\b(?!.+d\/s)/i],[f,[g,V],[v,b]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[f,/_/g," "],[g,U],[v,b]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[f,/_/g," "],[g,U],[v,E]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[f,[g,"OPPO"],[v,b]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[f,[g,"Vivo"],[v,b]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[f,[g,"Realme"],[v,b]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[f,[g,P],[v,b]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[f,[g,P],[v,E]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[f,[g,R],[v,E]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[f,[g,R],[v,b]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[f,[g,"Lenovo"],[v,E]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[f,/_/g," "],[g,"Nokia"],[v,b]],[/(pixel c)\b/i],[f,[g,O],[v,E]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[f,[g,O],[v,b]],[/droid.+ ([c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[f,[g,B],[v,b]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[f,"Xperia Tablet"],[g,B],[v,E]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[f,[g,"OnePlus"],[v,b]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[f,[g,C],[v,E]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[f,/(.+)/g,"Fire Phone $1"],[g,C],[v,b]],[/(playbook);[-\w\),; ]+(rim)/i],[f,g,[v,E]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[f,[g,I],[v,b]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[f,[g,N],[v,E]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[f,[g,N],[v,b]],[/(nexus 9)/i],[f,[g,"HTC"],[v,E]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony)[-_ ]?([-\w]*)/i],[g,[f,/_/g," "],[v,b]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[f,[g,"Acer"],[v,E]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[f,[g,"Meizu"],[v,b]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[f,[g,"Sharp"],[v,b]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[g,f,[v,b]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[g,f,[v,E]],[/(surface duo)/i],[f,[g,D],[v,E]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[f,[g,"Fairphone"],[v,b]],[/(u304aa)/i],[f,[g,"AT&T"],[v,b]],[/\bsie-(\w*)/i],[f,[g,"Siemens"],[v,b]],[/\b(rct\w+) b/i],[f,[g,"RCA"],[v,E]],[/\b(venue[\d ]{2,7}) b/i],[f,[g,"Dell"],[v,E]],[/\b(q(?:mv|ta)\w+) b/i],[f,[g,"Verizon"],[v,E]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[f,[g,"Barnes & Noble"],[v,E]],[/\b(tm\d{3}\w+) b/i],[f,[g,"NuVision"],[v,E]],[/\b(k88) b/i],[f,[g,"ZTE"],[v,E]],[/\b(nx\d{3}j) b/i],[f,[g,"ZTE"],[v,b]],[/\b(gen\d{3}) b.+49h/i],[f,[g,"Swiss"],[v,b]],[/\b(zur\d{3}) b/i],[f,[g,"Swiss"],[v,E]],[/\b((zeki)?tb.*\b) b/i],[f,[g,"Zeki"],[v,E]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[g,"Dragon Touch"],f,[v,E]],[/\b(ns-?\w{0,9}) b/i],[f,[g,"Insignia"],[v,E]],[/\b((nxa|next)-?\w{0,9}) b/i],[f,[g,"NextBook"],[v,E]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[g,"Voice"],f,[v,b]],[/\b(lvtel\-)?(v1[12]) b/i],[[g,"LvTel"],f,[v,b]],[/\b(ph-1) /i],[f,[g,"Essential"],[v,b]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[f,[g,"Envizen"],[v,E]],[/\b(trio[-\w\. ]+) b/i],[f,[g,"MachSpeed"],[v,E]],[/\btu_(1491) b/i],[f,[g,"Rotor"],[v,E]],[/(shield[\w ]+) b/i],[f,[g,"Nvidia"],[v,E]],[/(sprint) (\w+)/i],[g,f,[v,b]],[/(kin\.[onetw]{3})/i],[[f,/\./g," "],[g,D],[v,b]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[f,[g,G],[v,E]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[f,[g,G],[v,b]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[g,f,[v,y]],[/droid.+; (shield) bui/i],[f,[g,"Nvidia"],[v,y]],[/(playstation [345portablevi]+)/i],[f,[g,B],[v,y]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[f,[g,D],[v,y]],[/smart-tv.+(samsung)/i],[g,[v,S]],[/hbbtv.+maple;(\d+)/i],[[f,/^/,"SmartTV"],[g,j],[v,S]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[g,R],[v,S]],[/(apple) ?tv/i],[g,[f,T+" TV"],[v,S]],[/crkey/i],[[f,L+"cast"],[g,O],[v,S]],[/droid.+aft(\w)( bui|\))/i],[f,[g,C],[v,S]],[/\(dtv[\);].+(aquos)/i],[f,[g,"Sharp"],[v,S]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[g,q],[f,q],[v,S]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[v,S]],[/((pebble))app/i],[g,f,[v,A]],[/droid.+; (glass) \d/i],[f,[g,O],[v,A]],[/droid.+; (wt63?0{2,3})\)/i],[f,[g,G],[v,A]],[/(quest( 2)?)/i],[f,[g,z],[v,A]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[g,[v,_]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[f,[v,b]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[f,[v,E]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[v,E]],[/(phone|mobile(?:[;\/]| safari)|pda(?=.+windows ce))/i],[[v,b]],[/(android[-\w\. ]{0,9});.+buil/i],[f,[g,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[m,[h,x+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[m,[h,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[h,m],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[m,h]],os:[[/microsoft (windows) (vista|xp)/i],[h,m],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[h,[m,K,$]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[h,"Windows"],[m,K,$]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[m,/_/g,"."],[h,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[h,"Mac OS"],[m,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86)/i],[m,h],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[h,m],[/\(bb(10);/i],[m,[h,I]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[m,[h,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[m,[h,M+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[m,[h,"webOS"]],[/crkey\/([\d\.]+)/i],[m,[h,L+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[h,"Chromium OS"],m],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[h,m],[/(sunos) ?([\w\.\d]*)/i],[[h,"Solaris"],m],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[h,m]]};var te=function(e,t){if(typeof e===u){t=e;e=n}if(!(this instanceof te)){return new te(e,t).getResult()}var i=e||(typeof r!==c&&r.navigator&&r.navigator.userAgent?r.navigator.userAgent:a);var o=t?W(ee,t):ee;this.getBrowser=function(){var e={};e[h]=n;e[m]=n;X.call(e,i,o.browser);e.major=Z(e.version);return e};this.getCPU=function(){var e={};e[p]=n;X.call(e,i,o.cpu);return e};this.getDevice=function(){var e={};e[g]=n;e[f]=n;e[v]=n;X.call(e,i,o.device);return e};this.getEngine=function(){var e={};e[h]=n;e[m]=n;X.call(e,i,o.engine);return e};this.getOS=function(){var e={};e[h]=n;e[m]=n;X.call(e,i,o.os);return e};this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}};this.getUA=function(){return i};this.setUA=function(e){i=typeof e===l&&e.length>w?q(e,w):e;return this};this.setUA(i);return this};te.VERSION=i;te.BROWSER=H([h,m,d]);te.CPU=H([p]);te.DEVICE=H([f,g,v,y,b,S,E,A,_]);te.ENGINE=te.OS=H([h,m]);{if(e.exports){t=e.exports=te}t.UAParser=te}var re=typeof r!==c&&(r.jQuery||r.Zepto);if(re&&!re.ua){var ne=new te;re.ua=ne.getResult();re.ua.get=function(){return ne.getUA()};re.ua.set=function(e){ne.setUA(e);var t=ne.getResult();for(var r in t){re.ua[r]=t[r]}}}})(typeof window==="object"?window:r)})(zc,zc.exports);var Wc=zc.exports;e.BrowserCompatibility=void 0;(function(e){(function(e){e["BLOB"]="blob";e["MEDIA_DEVICES"]="mediaDevices";e["OFFSCREEN_CANVAS"]="offscreenCanvas";e["HTTP_PROTOCOL"]="httpProtocol";e["SECURE_CONTEXT"]="secureContext";e["URL_OBJECT"]="urlObject";e["WEB_WORKERS"]="webWorkers";e["WEB_ASSEMBLY"]="webAssembly";e["WEB_ASSEMBLY_ERROR_FREE"]="webAssemblyErrorFree";e["WEBGL"]="webgl"})(e.Feature||(e.Feature={}))})(e.BrowserCompatibility||(e.BrowserCompatibility={}));e.BrowserHelper=void 0;(function(t){t.userAgentInfo=new Wc(navigator.userAgent);t.canvas=document.createElement("canvas");function r(){if("orientation"in window){return false}else{var e,t;var r="(any-pointer: coarse)";var n=(e=(t=window).matchMedia)===null||e===void 0?void 0:e.call(t,r);if(navigator.maxTouchPoints===0||(n===null||n===void 0?void 0:n.media)===r&&(n===null||n===void 0?void 0:n.matches)===false){return true}else{return false}}}t.isDesktopDevice=r;function n(){function r(e,t,n){var i=e[t[0]];if(i==null){return false}if(t.length===1){return typeof i===n}else{return(typeof i==="function"||typeof i==="object")&&r(i,t.slice(1),n)}}function n(e){return e.name==="iOS"&&e.version!=null&&["11.2.2","11.2.5","11.2.6"].includes(e.version)}var i=true;var a=true;var o=[];if(!location.protocol.startsWith("http")){o.push(e.BrowserCompatibility.Feature.HTTP_PROTOCOL);i=a=false}if(r(window,["isSecureContext"],"boolean")&&window.isSecureContext===false){o.push(e.BrowserCompatibility.Feature.SECURE_CONTEXT)}if(!r(navigator,["mediaDevices","getUserMedia"],"function")&&!r(navigator,["enumerateDevices"],"function")&&!r(window,["MediaStreamTrack","getSources"],"function")){o.push(e.BrowserCompatibility.Feature.MEDIA_DEVICES);i=false}if(!r(window,["Worker"],"function")){o.push(e.BrowserCompatibility.Feature.WEB_WORKERS);i=a=false}if(!r(window,["WebAssembly"],"object")){o.push(e.BrowserCompatibility.Feature.WEB_ASSEMBLY);i=a=false}if(!r(window,["Blob"],"function")){o.push(e.BrowserCompatibility.Feature.BLOB);i=a=false}if(!r(window,["URL","createObjectURL"],"function")){o.push(e.BrowserCompatibility.Feature.URL_OBJECT);i=a=false}if(!r(window,["OffscreenCanvas"],"function")){o.push(e.BrowserCompatibility.Feature.OFFSCREEN_CANVAS)}try{if(!r(window,["WebGLRenderingContext"],"function")||t.canvas.getContext("webgl")==null&&t.canvas.getContext("experimental-webgl")==null){throw new Error}}catch(t){o.push(e.BrowserCompatibility.Feature.WEBGL)}var s=t.userAgentInfo.getOS();if(n(s)){o.push(e.BrowserCompatibility.Feature.WEB_ASSEMBLY_ERROR_FREE);i=a=false}return{fullSupport:i,scannerSupport:a,missingFeatures:o}}t.checkBrowserCompatibility=n;function i(){var e="scandit-device-id";var t=localStorage.getItem(e);if(t!=null&&t!==""){return t}t=Gc.get(e);if(t!=null&&t!==""){localStorage.setItem(e,t);return t}var r=new Uint8Array(20);crypto.getRandomValues(r);t=ws(r).map(function(e){var t=e.toString(16);return t.length===1?"0".concat(t):t}).join("");localStorage.setItem(e,t);return t}t.getDeviceId=i;function a(e){return e instanceof HTMLElement||e!=null&&typeof e==="object"&&typeof e.tagName==="string"}t.isValidHTMLElement=a})(e.BrowserHelper||(e.BrowserHelper={}));function Hc(){const e="/scandit_sync_folder_preload";const t="/scandit_sync_folder";const r="resources";const n=[];const i=[];const a=typeof self.OffscreenCanvas==="function";let o;let s;let c;let u;let l;let d;let f;let h;let v;let g;let m;let p;let y;let b;let E=false;let S=false;let A=false;let _=false;let w=false;let C=false;let T=false;let N=false;let I=false;let k=Promise.resolve();let L=false;let x=false;function M(n,i,o,s,c,f,v,g,m){function p(){postMessage(["library-loaded"]);O(c,f,g)}function y(){if(!C&&_&&w){A=false;Module.callMain();C=true;p();if(!c){F();B()}}}if(A){return Promise.resolve()}if(C){p();return Promise.resolve()}A=true;const b=WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,1,253,15,253,98,11]));const E=X(i,v,b),S=E.jsURI,T=E.wasmURI;u=s;l=s?e:t;d="".concat(i).concat(r,"/");h=f;self.window=self.document=self;self.path=o;self.deviceModelName=m;Module={arguments:[n],canvas:a?new self.OffscreenCanvas(32,32):undefined,instantiateWasm:function e(t,r){var n;const i=(n=self.wasmJSVersion)!==null&&n!==void 0?n:"undefined";if(i!=="5.9.3"){Z("error","The Scandit Data Capture library JS file found at ".concat(S," seems invalid: ")+"expected version doesn't match (received: ".concat(i,", expected: ","5.9.3","). ")+"Please ensure the correct Scandit Data Capture file (with correct version) is retrieved.")}if(typeof self.WebAssembly.instantiateStreaming==="function"){oe(t,T,v,b,r)}else{ae(t,T,v,b,r)}return{}},noInitialRun:true,preRun:[function(){return le().catch(function(e){Z("debug","No IndexedDB support, some data will not be persisted:",e)}).then(function(){_=true;y()})}],onRuntimeInitialized:function e(){w=true;y()},print:function e(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++){r[n]=arguments[n]}Z("info",...r)},printErr:function e(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++){r[n]=arguments[n]}Z("error",...r)}};function N(){try{var e;return(e=importScripts(S))!==null&&e!==void 0?e:Promise.resolve()}catch(e){return Promise.reject(e)}}return q(N,250,4e3,function(e){Z("warn",e);Z("warn","Couldn't retrieve Scandit Data Capture library at ".concat(S,", retrying..."))}).catch(function(e){Z("error",e);Z("error","Couldn't retrieve Scandit Data Capture library at ".concat(S,", did you configure the path for it correctly?"));return Promise.resolve(e)})}function O(e,t,r){function n(){postMessage(["context-created",{hiddenScanditLogoAllowed:Module._can_hide_logo()===1}])}if(I){return n()}if(e!=null){f=e}if(t!=null){h=t}if(r!=null){v=r}if(!C||f==null||h==null||!S&&!f||v==null){return}const i=lengthBytesUTF8(v)+1;const a=Module._malloc(i);stringToUTF8(v,a,i);const o=lengthBytesUTF8(l)+1;const s=Module._malloc(o);stringToUTF8(l,s,o);const c=lengthBytesUTF8(d)+1;const u=Module._malloc(c);stringToUTF8(d,u,c);Module._create_context(a,s,f,h,u,false);Module._free(a);Module._free(s);Module._free(u);I=true;ee();te();n()}function V(e,t,r){function n(){g=e;E=t;J();F()}g=undefined;T=false;if(t&&r){ue(true,false,true).then(n).catch(n)}else{n()}}function R(e){m=e;$();F()}function D(e){if(e.errorCode===260){var t;let r;if(((t=location.href)===null||t===void 0?void 0:t.indexOf("blob:null/"))===0){r="localhost"}else{r=new URL(location.pathname!=null&&location.pathname!==""&&!location.pathname.startsWith("/")?location.pathname:location.origin).hostname}if(r[0].startsWith("[")&&r.endsWith("]")){r=r.slice(1,-1)}e.errorMessage=e.errorMessage.replace("domain name","domain name (".concat(r,")"))}// License Key related error codes from 6 to 25 and 260
if([6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,260].includes(e.errorCode)&&v!=null&&v.length>0){e.errorMessage+=" License Key: ".concat(v.slice(0,15),"...")}}function P(e){if(e.highQualitySingleFrameMode){J(true)}const t=re(e.data);if(e.highQualitySingleFrameMode){J(false)}const r=JSON.parse(t);if(r.error!=null){D(r.error);postMessage(["work-error",{requestId:e.requestId,error:r.error},e.data],[e.data.buffer])}else{if(r.barcodeResult!=null&&r.textResult!=null){postMessage(["work-result",{requestId:e.requestId,result:{barcodes:r.barcodeResult,texts:r.textResult}},e.data],[e.data.buffer])}}}function F(){if(!C||n.length===0){return}if(!I){O()}if(!T){J()}if(!N){$()}if(!I||!T||!N){return}while(n.length!==0){var e;if(n[0].highQualitySingleFrameMode&&((e=p)===null||e===void 0?void 0:e.includes("code"))===true&&!E){break}P(n.shift())}}function j(e){const t=ne(e.dataFormat,e.data,e.options);const r=JSON.parse(t);if(r.error!=null){D(r.error);postMessage(["parse-error",{requestId:e.requestId,error:r.error}])}else{if(r.result!=null){postMessage(["parse-result",{requestId:e.requestId,result:r.result}])}}}function B(){if(!C||i.length===0){return}if(!I){O();if(!I){return}}while(i.length!==0){j(i.shift())}}function U(e){S=true;n.push(e);F()}function G(e){S=true;i.push(e);B()}function z(){if(T){Module._scanner_session_clear()}}function W(e){function t(){postMessage(["create-blurry-table-result",e])}if(!C||!I){return}const r=lengthBytesUTF8(e)+1;const n=Module._malloc(r);stringToUTF8(e,n,r);Module._create_blurry_table(n);Module._free(n);k.then(t).catch(t)}function H(e,t){y={cameraType:e,autofocus:t};ee()}function Y(e){if(b!==e){b=e;te()}}function Q(){z();n.length=0;i.length=0;g=undefined;m=undefined;S=false;T=false;N=false}function Z(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++){r[n-1]=arguments[n]}r.forEach(function(e,t){if(e instanceof Error){const n={name:e.name,message:e.message,stack:e.stack};r[t]=n}});postMessage(["log",{level:e,data:r}])}function q(e,t,r,n){return new Promise(function(i,a){e().then(i).catch(function(o){const s=t*2;if(s>r){return a(o)}n(o);setTimeout(function(){q(e,s,r,n).then(i).catch(a)},t)})})}function X(e,t,r){let n=false;if(/^https?:\/\/([^\/.]*\.)*cdn.jsdelivr.net\//.test(e)){e="https://cdn.jsdelivr.net/npm/scandit-sdk@5.9.3/build/";n=true}else if(/^https?:\/\/([^\/.]*\.)*unpkg.com\//.test(e)){e="https://unpkg.com/scandit-sdk@5.9.3/build/";n=true}let i="";if(t){i+="-ocr";if(r){i+="-simd"}}if(n){return{jsURI:"".concat(e,"scandit-engine-sdk").concat(i,".min.js"),wasmURI:"".concat(e,"scandit-engine-sdk").concat(i,".wasm")}}return{jsURI:"".concat(e,"scandit-engine-sdk").concat(i,".min.js?v=5.9.3"),wasmURI:"".concat(e,"scandit-engine-sdk").concat(i,".wasm?v=5.9.3")}}function K(e){return Array.from(new Uint8Array(e)).map(function(e){const t=e.toString(16);return t.length===1?"0".concat(t):t}).join("")}function J(){var e,t,r,n;let i=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(!C||!I||!S||g==null){return}T=false;const o=JSON.parse(g);p=o.recognitionMode;(e=o.textRecognitionSettings)!==null&&e!==void 0?e:o.textRecognitionSettings=JSON.stringify({});const s=lengthBytesUTF8(g)+1;const c=Module._malloc(s);stringToUTF8(g,c,s);const u=lengthBytesUTF8(o.textRecognitionSettings)+1;const l=Module._malloc(u);stringToUTF8(o.textRecognitionSettings,l,u);const d=Module._scanner_settings_new_from_json(c,l,((t=p)===null||t===void 0?void 0:t.includes("code"))===true,((r=p)===null||r===void 0?void 0:r.includes("text"))===true,o.blurryRecognition===true&&E,(n=o.matrixScanEnabled)!==null&&n!==void 0?n:false,i,o.gpuAcceleration===true&&a);Module._free(c);const f=UTF8ToString(d);if(f!==""){T=true;Z("debug","External Scandit Data Capture scan settings:",JSON.parse(f))}}function $(){if(!C||!I||!S||m==null){return}N=false;let e;if(m.format.valueOf()===1){e=3}else if(m.format.valueOf()===2){e=4}else{e=1}Module._scanner_image_settings_new(m.width,m.height,e);if(s!=null){Module._free(s)}c=m.width*m.height*e;s=Module._malloc(c);N=true}function ee(){if(!C||!I||y==null){return}Module._report_camera_properties(y.cameraType==="front",y.autofocus)}function te(){if(!C||!I||b==null){return}const e=lengthBytesUTF8(b)+1;const t=Module._malloc(e);stringToUTF8(b,t,e);Module._set_device_name(t);Module._free(t)}function re(e){if(e.byteLength!==c){return JSON.stringify({barcodeResult:[],textResult:[]})}Module.HEAPU8.set(e,s);return UTF8ToString(Module._scanner_scan(s))}function ne(e,t,r){const n=typeof t==="string"?lengthBytesUTF8(t)+1:t.byteLength;const i=Module._malloc(n);if(typeof t==="string"){stringToUTF8(t,i,n)}else{Module.HEAPU8.set(t,i)}const a=lengthBytesUTF8(r)+1;const o=Module._malloc(a);stringToUTF8(r,o,a);const s=Module._parser_parse_string(e.valueOf(),i,n-1,o);Module._free(i);Module._free(o);return UTF8ToString(s)}function ie(e,t,r,n){function i(n){var i,a;if(typeof((i=crypto)===null||i===void 0?void 0:(a=i.subtle)===null||a===void 0?void 0:a.digest)==="function"){crypto.subtle.digest("SHA-256",n).then(function(n){const i=K(n);let a="40e84fd0fce799334e8e70ee8adb1c7ecef93306071fd42bcb20034d54703211";if(t){a=r?"0497e539c177b04c8bcf96144b50d43e0aab60ac3d348df0c4392e5a935eb756":"25cb9569675714d461302099fe476d161a6152bb10b8dfe11564567f6fe4afbd"}if(i!==a){Z("error","The Scandit Data Capture library WASM file found at ".concat(e," seems invalid: ")+"expected file hash doesn't match (received: ".concat(i,", ")+"expected: ".concat(a,"). ")+"Please ensure the correct Scandit Data Capture file (with correct version) is retrieved.")}}).catch(function(){})}else{Z("warn","Insecure context (see https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts): "+"The hash of the Scandit Data Capture library WASM file found at ".concat(e," could not be verified"))}}function a(){return new Promise(function(t,r){fetch(e).then(function(e){if(e.ok){e.clone().arrayBuffer().then(function(r){if(n){t(e)}i(r)}).catch(function(e){if(n){r(e)}});if(!n){t(e)}}else{r(new Error("HTTP status code is not ok"))}}).catch(function(e){r(e)})})}return q(a,250,4e3,function(t){Z("warn",t);Z("warn","Couldn't retrieve Scandit Data Capture library at ".concat(e,", retrying..."))}).catch(function(t){Z("error",t);Z("error","Couldn't retrieve/instantiate Scandit Data Capture library at ".concat(e,", ")+"did you configure the path for it correctly?");return Promise.reject(t)})}function ae(e,t,r,n,i){ie(t,r,n,true).then(function(e){return e.arrayBuffer()}).then(function(r){return self.WebAssembly.instantiate(r,e).then(function(e){i(e.instance)}).catch(function(e){Z("error",e);Z("error","Couldn't instantiate Scandit Data Capture library at ".concat(t,", ")+"did you configure the path for it correctly?")})}).catch(function(){})}function oe(e,t,r,n,i){ie(t,r,n,false).then(function(a){self.WebAssembly.instantiateStreaming(a,e).then(function(e){i(e.instance)}).catch(function(a){Z("warn",a);Z("warn","WebAssembly streaming compile failed. "+"Falling back to ArrayBuffer instantiation (this will make things slower)");ae(e,t,r,n,i)})}).catch(function(){})}function se(){const r="FILE_DATA";let n;let i;let a;function o(){var e,t,r,o;(e=i)===null||e===void 0?void 0:(t=e.result)===null||t===void 0?void 0:t.close();(r=a)===null||r===void 0?void 0:(o=r.result)===null||o===void 0?void 0:o.close();n(0)}function s(){try{const s=[];const c=i.result.transaction(r,"readonly");c.onerror=o;const u=c.objectStore(r).openCursor();u.onsuccess=function(){const c=u.result;if(c==null){try{let e=0;const t=a.result.transaction(r,"readwrite");const c=t.objectStore(r);t.onerror=o;t.oncomplete=function(){i.result.close();a.result.close();return n(e)};for(const t of s){const r=c.count(t.primaryKey);r.onsuccess=function(){if(r.result===0){++e;c.add(t.value,t.primaryKey)}}}}catch(e){o.call({error:e})}}else{s.push({value:c.value,primaryKey:c.primaryKey.toString().replace("".concat(e,"/"),"".concat(t,"/"))});c.continue()}};u.onerror=o}catch(e){o.call({error:e})}}return new Promise(function(c){n=c;i=indexedDB.open(e);i.onupgradeneeded=function(){try{i.result.createObjectStore(r)}catch(e){}};i.onsuccess=function(){if(!Array.from(i.result.objectStoreNames).includes(r)){return c(0)}a=indexedDB.open(t);a.onupgradeneeded=function(){try{a.result.createObjectStore(r)}catch(e){}};a.onsuccess=function(){s()};a.onblocked=a.onerror=o};i.onblocked=i.onerror=o})}function ce(e,t){if(o==null){return Promise.resolve()}L=true;return new Promise(function(r,n){(!u&&e?se():Promise.resolve(0)).then(function(i){if(!u&&e&&!t&&i===0){L=false;return r()}o(e,function(e){L=false;if(e!=null){return n(e)}r()})}).catch(n)})}function ue(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;let r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(!x||r){if(L){x=true;k=k.then(function(){x=false;return ce(e,t)})}else{k=ce(e,t)}}return k}function le(){o=FS.syncfs;FS.syncfs=function(e,t){const r=t;t=function e(t){r(t)};ue(e).then(t).catch(t)};try{FS.mkdir(l)}catch(e){if(e.code!=="EEXIST"){o=undefined;return Promise.reject(e)}}FS.mount(IDBFS,{},l);return ue(true,true)}return{loadLibrary:M,setScanSettings:V,setImageSettings:R,workOnScanQueue:F,workOnParseQueue:B,addScanWorkUnit:U,addParseWorkUnit:G,clearSession:z,createBlurryTable:W,setCameraProperties:H,setDeviceName:Y,reset:Q}}function Yc(){const e=Hc();onmessage=function t(r){
// Creating context triggers license key verification and activation: delay until first frame processed
const n=r.data;switch(n.type){case"load-library":e.loadLibrary(n.deviceId,n.libraryLocation,n.path,n.preload,n.delayedRegistration,n.highEndBlurryRecognition,n.textRecognition,n.licenseKey,n.deviceModelName);break;case"scan-settings":e.setScanSettings(n.settings,n.blurryRecognitionAvailable,n.blurryRecognitionRequiresUpdate);break;case"image-settings":e.setImageSettings(n.imageSettings);break;case"scan-image":e.addScanWorkUnit({requestId:n.requestId,data:n.data,highQualitySingleFrameMode:n.highQualitySingleFrameMode});break;case"parse":e.addParseWorkUnit({requestId:n.requestId,dataFormat:n.dataFormat,data:n.data,options:n.options});break;case"clear-session":e.clearSession();break;case"create-blurry-table":e.createBlurryTable(n.symbology);break;case"camera-properties":e.setCameraProperties(n.cameraType,n.autofocus);break;case"device-name":e.setDeviceName(n.deviceName);break;case"reset":e.reset();break}}}const Qc=new Blob(["var Module;".concat(Hc.toString(),"(").concat(Yc.toString(),")()")],{type:"text/javascript"});var Zc=function(){function t(e){Ui(this,t);Fi(this,"preloadedDataCaptureWorker",void 0);Fi(this,"preloadedDataCaptureWorkerAvailable",void 0);if(e){this.preloadedDataCaptureWorker=new Worker(URL.createObjectURL(Qc));t.load(this.preloadedDataCaptureWorker)}this.preloadedDataCaptureWorkerAvailable=e}Bi(t,[{key:"getDataCaptureWorker",value:function e(){if(this.preloadedDataCaptureWorkerAvailable&&this.preloadedDataCaptureWorker!=null){this.preloadedDataCaptureWorkerAvailable=false;return this.preloadedDataCaptureWorker}else{return new Worker(URL.createObjectURL(Qc))}}},{key:"returnDataCaptureWorker",value:function e(t){if(this.preloadedDataCaptureWorker==null){this.preloadedDataCaptureWorker=t}if(this.preloadedDataCaptureWorker===t){this.preloadedDataCaptureWorker.onmessage=null;this.preloadedDataCaptureWorker.postMessage({type:"reset"});this.preloadedDataCaptureWorkerAvailable=true}else{t.terminate()}}}],[{key:"load",value:function t(r){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;r.postMessage({type:"load-library",deviceId:Xf,libraryLocation:e.scanditDataCaptureLocation,path:window.location.pathname,preload:n,delayedRegistration:i,highEndBlurryRecognition:e.highEndBlurryRecognition,textRecognition:e.textRecognition,licenseKey:e.userLicenseKey,deviceModelName:e.BrowserHelper.userAgentInfo.getDevice().model})}}]);return t}();e.Logger=void 0;(function(e){var t;(function(e){e["DEBUG"]="debug";e["INFO"]="info";e["WARN"]="warn";e["ERROR"]="error";e["QUIET"]="quiet"})(t=e.Level||(e.Level={}));var r=new Fc([[t.DEBUG,1],[t.INFO,2],[t.WARN,3],[t.ERROR,4],[t.QUIET,5]]);var n=t.DEBUG;function i(e){n=e}e.setLevel=i;function a(e){var i,a,o,s;if(r.get(n)>r.get(e)){return}for(var c=arguments.length,u=new Array(c>1?c-1:0),l=1;l<c;l++){u[l-1]=arguments[l]}switch(e){case t.DEBUG:(i=console).debug.apply(i,u);break;case t.INFO:(a=console).log.apply(a,u);break;case t.WARN:(o=console).warn.apply(o,u);break;case t.ERROR:(s=console).error.apply(s,u);break}}e.log=a})(e.Logger||(e.Logger={}));var qc=function(){function t(e){Ui(this,t);Fi(this,"eventEmitter",new Mc.exports.EventEmitter);Fi(this,"preload",void 0);Fi(this,"queuedBlurryRecognitionSymbologies",ws(t.availableBlurryRecognitionSymbologies.values()));Fi(this,"readyBlurryRecognitionSymbologies",new xc);Fi(this,"dataCaptureWorker",void 0);this.preload=e}Bi(t,[{key:"prepareBlurryTables",value:function(){var r=fi(vi.mark(function r(){var n;return vi.wrap(function r(i){while(1){switch(i.prev=i.next){case 0:n=true;if(!this.preload){i.next=11;break}i.prev=2;i.next=5;return this.checkBlurryTablesAlreadyAvailable();case 5:n=i.sent;i.next=11;break;case 8:i.prev=8;i.t0=i["catch"](2);e.Logger.log(e.Logger.Level.ERROR,i.t0);case 11:if(n){this.queuedBlurryRecognitionSymbologies=[];this.readyBlurryRecognitionSymbologies=new xc(t.availableBlurryRecognitionSymbologies);this.eventEmitter.emit("blurryTablesUpdate",new xc(this.readyBlurryRecognitionSymbologies))}else{this.dataCaptureWorker=new Worker(URL.createObjectURL(Qc));this.dataCaptureWorker.onmessage=this.dataCaptureWorkerOnMessage.bind(this);Zc.load(this.dataCaptureWorker,true,true)}case 12:case"end":return i.stop()}}},r,this,[[2,8]])}));function n(){return r.apply(this,arguments)}return n}()},{key:"on",value:function e(r,n){if(r==="blurryTablesUpdate"){if(this.readyBlurryRecognitionSymbologies.size===t.availableBlurryRecognitionSymbologies.size){n(this.readyBlurryRecognitionSymbologies)}else{this.eventEmitter.on(r,n)}}}},{key:"updateBlurryRecognitionPriority",value:function e(t){var r=this.queuedBlurryRecognitionSymbologies.slice();this.getEnabledSymbologies(t).forEach(function(e){var t=r.indexOf(e);if(t!==-1){r.unshift(r.splice(t,1)[0])}});this.queuedBlurryRecognitionSymbologies=r}},{key:"isBlurryRecognitionAvailable",value:function e(t){var r=this;var n=this.getEnabledSymbologies(t);return n.every(function(e){return r.readyBlurryRecognitionSymbologies.has(e)})}},{key:"getEnabledSymbologies",value:function e(r){return ws(t.availableBlurryRecognitionSymbologies.values()).filter(function(e){return r.isSymbologyEnabled(e)})}},{key:"createNextBlurryTableSymbology",value:function e(){var t;do{t=this.queuedBlurryRecognitionSymbologies.shift()}while(t!=null&&this.readyBlurryRecognitionSymbologies.has(t));if(t!=null){this.dataCaptureWorker.postMessage({type:"create-blurry-table",symbology:t})}}},{key:"checkBlurryTablesAlreadyAvailable",value:function r(){return new li(function(r){var n=indexedDB.open(t.writableDataPath);function i(){var e;n===null||n===void 0?void 0:(e=n.result)===null||e===void 0?void 0:e.close();r(false)}n.onupgradeneeded=function(){try{n.result.createObjectStore(t.fsObjectStoreName)}catch(e){}};n.onsuccess=function(){try{var a=n.result.transaction(t.fsObjectStoreName,"readonly");a.onerror=i;var o=a.objectStore(t.fsObjectStoreName).getAllKeys();o.onsuccess=function(){n.result.close();if((e.highEndBlurryRecognition?t.highEndBlurryTableFiles:t.defaultBlurryTableFiles).every(function(e){return o.result.indexOf(e)!==-1})){return r(true)}else{return r(false)}};o.onerror=i}catch(e){i.call({error:e})}};n.onblocked=n.onerror=i})}},{key:"dataCaptureWorkerOnMessage",value:function r(n){var i=this;var a=n.data;if(a[1]!=null){switch(a[0]){case"context-created":this.createNextBlurryTableSymbology();break;case"create-blurry-table-result":this.readyBlurryRecognitionSymbologies.add(a[1]);if([e.Barcode.Symbology.EAN8,e.Barcode.Symbology.EAN13,e.Barcode.Symbology.UPCA,e.Barcode.Symbology.UPCE].includes(a[1])){this.readyBlurryRecognitionSymbologies.add(e.Barcode.Symbology.EAN13);this.readyBlurryRecognitionSymbologies.add(e.Barcode.Symbology.EAN8);this.readyBlurryRecognitionSymbologies.add(e.Barcode.Symbology.UPCA);this.readyBlurryRecognitionSymbologies.add(e.Barcode.Symbology.UPCE)}else if([e.Barcode.Symbology.CODE32,e.Barcode.Symbology.CODE39].includes(a[1])){this.readyBlurryRecognitionSymbologies.add(e.Barcode.Symbology.CODE32);this.readyBlurryRecognitionSymbologies.add(e.Barcode.Symbology.CODE39)}this.eventEmitter.emit("blurryTablesUpdate",new xc(this.readyBlurryRecognitionSymbologies));if(this.readyBlurryRecognitionSymbologies.size===t.availableBlurryRecognitionSymbologies.size){setTimeout(function(){i.dataCaptureWorker.terminate()},250)}else{this.createNextBlurryTableSymbology()}break}}}}],[{key:"create",value:function(){var r=fi(vi.mark(function r(n){var i,a;return vi.wrap(function r(o){while(1){switch(o.prev=o.next){case 0:if(!n){o.next=5;break}i=e.BrowserHelper.userAgentInfo.getBrowser().name;if(!(i!=null&&i.includes("Edge"))){o.next=5;break}a=new Worker(URL.createObjectURL(new Blob(["(".concat(t.workerIndexedDBSupportTestFunction.toString(),")()")],{type:"text/javascript"})));return o.abrupt("return",new li(function(e){a.onmessage=function(r){a.terminate();e(new t(r.data))}}));case 5:return o.abrupt("return",new t(n));case 6:case"end":return o.stop()}}},r)}));function n(e){return r.apply(this,arguments)}return n}()},{key:"workerIndexedDBSupportTestFunction",value:function e(){try{indexedDB.deleteDatabase("scandit_indexeddb_support_test");postMessage(true)}catch(e){postMessage(false)}}}]);return t}();Fi(qc,"writableDataPath","/scandit_sync_folder_preload");Fi(qc,"fsObjectStoreName","FILE_DATA");Fi(qc,"defaultBlurryTableFiles",["/606674e04e9da6f3ff049665e249a2d3.scandit","/05ccc70dd555fe1dd48784bd0cf8e386.scandit","/c5f9e9352415c38c40498e5e95dadfe7.scandit","/977fe759fdd7cdfe10730e7c6a313cf1.scandit","/1537c55cf10f0541c82353754f4c64fd.scandit","/975d994615bcffd9b2a73fa3a678eab0.scandit","/dd1689816469f85afcf8474667d8f03d.scandit","/8f244e6545292e588c1df97a086c6c1b.scandit","/a575dcaf6e5494a4fcc1ab4acde73ec8.scandit","/dabb5674b7672c4942b526b140087d72.scandit","/515813776005b3f7f83a2f1dda0c3512.scandit","/1803599e0a639ac73d4fa17406f626d0.scandit","/1c853515cb625cb5599ffbc55d49660b.scandit","/02f134be7444abe8670302d63154ee12.scandit","/f66d20444d640fb5696ad1fd84844da1.scandit","/cda0058badf2e2826f38e015b4bc2086.scandit","/a7f53b46cfafa92cda842f8e5552fe94.scandit","/520af862bc387cbcd123bf4f6c0a2309.scandit","/fe5dee8bc5034b58510f0525996d3fd1.scandit","/6fa9155af734f2c952b17414e455dd9d.scandit","/b43dfae194695c822dfccba33ff2c86d.scandit"].map(function(e){return"".concat(qc.writableDataPath).concat(e)}));Fi(qc,"highEndBlurryTableFiles",["/1874dc4934d21603e5d9a5ae43a778e4.scandit","/63c129cdcf76aea7d93d5be187fe2538.scandit","/115d22696b705b9981072313d6be73ea.scandit","/4608867660a119fc208c2e2d9cb324a5.scandit","/d17c176dc829d0963c15e161a80e5494.scandit","/5323ad9f4f68808ccbccf152360d858b.scandit","/280fc47c520d4da71bd7b46e800bf56d.scandit","/285e85aaef2ce3fc3e02bd3a122c88a3.scandit","/c511cd547c936a071b8d02714716e1ca.scandit","/4957f614000cb4e1c37230ddf6ae2695.scandit","/32b179628cb7fe9f7b9ec76f05f71843.scandit","/064d712f2a6804bf7eadcb4b03aac94b.scandit","/148896f408d127c37065bd889e097a48.scandit","/99f6c6df8988e4fa954ca95fc96d417a.scandit","/85502aef6aded3d4278bd979c10ad55e.scandit","/24b31e817a962593346bc5bedfecfd42.scandit","/13034b70bf6c595a3ae6df6d6ee1d6a4.scandit","/4cb12590b4dac0ac0f8724b8aa45b75d.scandit","/b3dfd3876ce0f8413c5069d87f8e8795.scandit","/40d900c40fd427d6cc7ea1418209a293.scandit","/feb5b253b7b4a9a210058f7cafa38461.scandit","/aabd7f1b722807e223293dfaf212be23.scandit","/2a9858ec9bba816cdfbdf1b14c8719a9.scandit","/d8011fc47cc6aec6b172aae4af4fdd9b.scandit","/e8747cf80b9ff066ca5026a8ca092b09.scandit","/5fdf50ec8f84271ea21dd77be8d44872.scandit","/661b785b69d6ca90e9d1ea8ab542b59f.scandit","/07fa32ccbca1132b1d4799883e98b39a.scandit","/5603271a54266a81ca40966e66e97265.scandit","/d623ba3aa0c43fb3fc1c7be7aa2c69d2.scandit","/bb770ea7325ee07808a318a236f2ec00.scandit","/c4ddab70bcfb9e88bd75786459211217.scandit","/9097adb842cd84073fd834d83520e3d3.scandit","/642f7fb3cf1b48a7391c2ac0358f2bc2.scandit","/a29f17de80be594245277fc418bf6a28.scandit","/5295187c71b6c414d89f41909a92d74e.scandit","/9dd44ec739d98429fc5fbdafb0127c43.scandit","/7bc6d7c115ffb99739447c56e1faa181.scandit","/2e84c1f83144a30ce5e3384766cd0918.scandit","/be65a2a8af180ba9461b4607de385afe.scandit","/8507e094c3e139c87cdba48291e5b888.scandit","/06c61f29f834fa28b36700587e777f89.scandit"].map(function(e){return"".concat(qc.writableDataPath).concat(e)}));Fi(qc,"availableBlurryRecognitionSymbologies",new xc([e.Barcode.Symbology.EAN13,e.Barcode.Symbology.EAN8,e.Barcode.Symbology.CODE32,e.Barcode.Symbology.CODE39,e.Barcode.Symbology.CODE128,e.Barcode.Symbology.CODE93,e.Barcode.Symbology.INTERLEAVED_2_OF_5,e.Barcode.Symbology.MSI_PLESSEY,e.Barcode.Symbology.CODABAR,e.Barcode.Symbology.UPCA,e.Barcode.Symbology.UPCE]));function Xc(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function Kc(){if(typeof Reflect==="undefined"||!Oi)return false;if(Oi.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Oi(Boolean,[],function(){}));return true}catch(e){return false}}function Jc(e,t,r){if(Kc()){Jc=Oi}else{Jc=function e(t,r,n){var i=[null];i.push.apply(i,r);var a=Function.bind.apply(t,i);var o=new a;if(n)ca(o,n.prototype);return o}}return Jc.apply(null,arguments)}function $c(e){var t=typeof Fc==="function"?new Fc:undefined;$c=function e(r){if(r===null||!Xc(r))return r;if(typeof r!=="function"){throw new TypeError("Super expression must either be null or a function")}if(typeof t!=="undefined"){if(t.has(r))return t.get(r);t.set(r,n)}function n(){return Jc(r,arguments,ds(this).constructor)}n.prototype=Hi(r.prototype,{constructor:{value:n,enumerable:false,writable:true,configurable:true}});return ca(n,r)};return $c(e)}function eu(e){var t=tu();return function r(){var n=ds(e),i;if(t){var a=ds(this).constructor;i=Oi(n,arguments,a)}else{i=n.apply(this,arguments)}return rs(this,i)}}function tu(){if(typeof Reflect==="undefined"||!Oi)return false;if(Oi.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Oi(Boolean,[],function(){}));return true}catch(e){return false}}var ru=function(e){ua(r,e);var t=eu(r);function r(){var e;var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},i=n.name,a=i===void 0?"":i,o=n.message,s=o===void 0?"":o;Ui(this,r);e=t.call(this,s);Object.setPrototypeOf(ts(e),r.prototype);e.name=a;return e}return Bi(r)}($c(Error));function nu(e){var t=iu();return function r(){var n=ds(e),i;if(t){var a=ds(this).constructor;i=Oi(n,arguments,a)}else{i=n.apply(this,arguments)}return rs(this,i)}}function iu(){if(typeof Reflect==="undefined"||!Oi)return false;if(Oi.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Oi(Boolean,[],function(){}));return true}catch(e){return false}}var au=function(e){ua(r,e);var t=nu(r);function r(e){var n;Ui(this,r);n=t.call(this,{name:"UnsupportedBrowserError",message:"This OS / browser has one or more missing features preventing it from working correctly (".concat(e.missingFeatures.join(", "),")")});Fi(ts(n),"data",void 0);n.data=e;return n}return Bi(r)}(ru);var ou=t('.scandit.scandit-container{align-items:center;display:flex;height:100%;justify-content:center;overflow:hidden;width:100%}.scandit.scandit-barcode-picker{background-color:#000;height:100%;min-height:1px;min-width:1px;position:relative;width:100%}.scandit .scandit-video{display:block;height:100%;position:relative;width:100%}.scandit .scandit-video.mirrored{transform:scaleX(-1)}.scandit .scandit-logo{bottom:5%;max-height:12.5%;max-width:35%;right:5%;z-index:20}.scandit .scandit-laser,.scandit .scandit-logo{pointer-events:none;position:absolute;transform:translateZ(0)}.scandit .scandit-laser{align-items:center;box-sizing:border-box;display:flex;top:-9999px;z-index:10}.scandit .scandit-laser img{max-height:47px;width:100%}.scandit .scandit-laser img,.scandit .scandit-viewfinder{animation-duration:.25s;position:absolute;transition:opacity .25s ease}.scandit .scandit-viewfinder{border:2px solid #fff;border-radius:10px;box-sizing:border-box;pointer-events:none;top:-9999px;transform:translateZ(0);z-index:10}.scandit .scandit-viewfinder.paused{opacity:.4}.scandit .scandit-camera-switcher,.scandit .scandit-torch-toggle{-webkit-tap-highlight-color:rgba(255,255,255,0);cursor:pointer;filter:drop-shadow(0 2px 0 #808080);max-height:15%;max-width:15%;position:absolute;top:5%;transform:translateZ(0);z-index:10}.scandit .scandit-camera-switcher{left:5%}.scandit .scandit-torch-toggle{right:5%}.scandit .scandit-camera-recovery{background-color:#000;color:#fff;cursor:pointer;position:absolute;top:0;transform:translateZ(0);z-index:15}.scandit .scandit-camera-recovery,.scandit .scandit-camera-upload{align-items:center;display:flex;height:100%;justify-content:center;width:100%}.scandit .scandit-camera-upload{-webkit-tap-highlight-color:rgba(255,255,255,0);flex-direction:column;z-index:5}.scandit .scandit-camera-upload label{align-items:center;border-radius:50%;cursor:pointer;display:flex;flex-direction:column;height:180px;justify-content:center;margin-top:18px;width:180px}.scandit .scandit-camera-upload label input[type=file]{position:absolute;top:-9999px}.scandit .radial-progress{animation-duration:.25s;background-color:transparent;border-radius:50%;border-style:solid;border-width:3px;box-sizing:border-box;height:180px;position:absolute;transition:opacity 1s ease,border-color .5s;width:180px}.scandit .radial-progress[data-progress="0"]{opacity:.2}.scandit .radial-progress[data-progress="5"]{opacity:.24}.scandit .radial-progress[data-progress="10"]{opacity:.28}.scandit .radial-progress[data-progress="15"]{opacity:.32}.scandit .radial-progress[data-progress="20"]{opacity:.36}.scandit .radial-progress[data-progress="25"]{opacity:.4}.scandit .radial-progress[data-progress="30"]{opacity:.44}.scandit .radial-progress[data-progress="35"]{opacity:.48}.scandit .radial-progress[data-progress="40"]{opacity:.52}.scandit .radial-progress[data-progress="45"]{opacity:.56}.scandit .radial-progress[data-progress="50"]{opacity:.6}.scandit .radial-progress[data-progress="55"]{opacity:.64}.scandit .radial-progress[data-progress="60"]{opacity:.68}.scandit .radial-progress[data-progress="65"]{opacity:.72}.scandit .radial-progress[data-progress="70"]{opacity:.76}.scandit .radial-progress[data-progress="75"]{opacity:.8}.scandit .radial-progress[data-progress="80"]{opacity:.84}.scandit .radial-progress[data-progress="85"]{opacity:.88}.scandit .radial-progress[data-progress="90"]{opacity:.92}.scandit .radial-progress[data-progress="95"]{opacity:.96}.scandit .radial-progress[data-progress="100"]{opacity:1}.scandit .scandit-flash-color{animation-name:scandit-flash-color}.scandit .scandit-flash-white{animation-name:scandit-flash-white}.scandit .scandit-flash-inset{animation-name:scandit-flash-inset}.scandit .scandit-opacity-pulse{animation-delay:0s,.333s;animation-duration:.333s,1s;animation-iteration-count:1,infinite;animation-name:scandit-opacity-pulse-before,scandit-opacity-pulse;animation-timing-function:cubic-bezier(.645,.045,.355,1),cubic-bezier(.645,.045,.355,1)}.scandit .scandit-hidden-opacity{opacity:0}.scandit-hidden{display:none!important}@keyframes scandit-flash-color{0%{filter:none}50%{filter:drop-shadow(0 0 .75rem #fff) drop-shadow(0 0 2.5rem #7ed9e2)}to{filter:none}}@keyframes scandit-flash-white{0%{filter:none}50%{filter:drop-shadow(0 0 .5rem #fff) drop-shadow(0 0 1rem #fff) drop-shadow(0 0 2.5rem #fff)}to{filter:none}}@keyframes scandit-flash-inset{0%{box-shadow:none}50%{box-shadow:inset 0 0 .5rem,inset 0 0 1rem,inset 0 0 2.5rem}to{box-shadow:none}}@keyframes scandit-opacity-pulse-before{0%{opacity:1}to{opacity:.4}}@keyframes scandit-opacity-pulse{0%{opacity:.4}50%{opacity:.6}to{opacity:.4}}');var su={};
/*! howler.js v2.2.3 | (c) 2013-2020, James Simpson of GoldFire Studios | MIT License | howlerjs.com */(function(e){!function(){var t=function(){this.init()};t.prototype={init:function(){var e=this||n;return e._counter=1e3,e._html5AudioPool=[],e.html5PoolSize=10,e._codecs={},e._howls=[],e._muted=!1,e._volume=1,e._canPlayEvent="canplaythrough",e._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,e.masterGain=null,e.noAudio=!1,e.usingWebAudio=!0,e.autoSuspend=!0,e.ctx=null,e.autoUnlock=!0,e._setup(),e},volume:function(e){var t=this||n;if(e=parseFloat(e),t.ctx||d(),void 0!==e&&e>=0&&e<=1){if(t._volume=e,t._muted)return t;t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e,n.ctx.currentTime);for(var r=0;r<t._howls.length;r++)if(!t._howls[r]._webAudio)for(var i=t._howls[r]._getSoundIds(),a=0;a<i.length;a++){var o=t._howls[r]._soundById(i[a]);o&&o._node&&(o._node.volume=o._volume*e)}return t}return t._volume},mute:function(e){var t=this||n;t.ctx||d(),t._muted=e,t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e?0:t._volume,n.ctx.currentTime);for(var r=0;r<t._howls.length;r++)if(!t._howls[r]._webAudio)for(var i=t._howls[r]._getSoundIds(),a=0;a<i.length;a++){var o=t._howls[r]._soundById(i[a]);o&&o._node&&(o._node.muted=!!e||o._muted)}return t},stop:function(){for(var e=this||n,t=0;t<e._howls.length;t++)e._howls[t].stop();return e},unload:function(){for(var e=this||n,t=e._howls.length-1;t>=0;t--)e._howls[t].unload();return e.usingWebAudio&&e.ctx&&void 0!==e.ctx.close&&(e.ctx.close(),e.ctx=null,d()),e},codecs:function(e){return(this||n)._codecs[e.replace(/^x-/,"")]},_setup:function(){var e=this||n;if(e.state=e.ctx?e.ctx.state||"suspended":"suspended",e._autoSuspend(),!e.usingWebAudio)if("undefined"!=typeof Audio)try{var t=new Audio;void 0===t.oncanplaythrough&&(e._canPlayEvent="canplay")}catch(t){e.noAudio=!0}else e.noAudio=!0;try{var t=new Audio;t.muted&&(e.noAudio=!0)}catch(e){}return e.noAudio||e._setupCodecs(),e},_setupCodecs:function(){var e=this||n,t=null;try{t="undefined"!=typeof Audio?new Audio:null}catch(t){return e}if(!t||"function"!=typeof t.canPlayType)return e;var r=t.canPlayType("audio/mpeg;").replace(/^no$/,""),i=e._navigator?e._navigator.userAgent:"",a=i.match(/OPR\/([0-6].)/g),o=a&&parseInt(a[0].split("/")[1],10)<33,s=-1!==i.indexOf("Safari")&&-1===i.indexOf("Chrome"),c=i.match(/Version\/(.*?) /),u=s&&c&&parseInt(c[1],10)<15;return e._codecs={mp3:!(o||!r&&!t.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!r,opus:!!t.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(t.canPlayType('audio/wav; codecs="1"')||t.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!t.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!t.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/m4a;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(t.canPlayType("audio/x-m4b;")||t.canPlayType("audio/m4b;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(t.canPlayType("audio/x-mp4;")||t.canPlayType("audio/mp4;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!(u||!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!(u||!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!t.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(t.canPlayType("audio/x-flac;")||t.canPlayType("audio/flac;")).replace(/^no$/,"")},e},_unlockAudio:function(){var e=this||n;if(!e._audioUnlocked&&e.ctx){e._audioUnlocked=!1,e.autoUnlock=!1,e._mobileUnloaded||44100===e.ctx.sampleRate||(e._mobileUnloaded=!0,e.unload()),e._scratchBuffer=e.ctx.createBuffer(1,1,22050);var t=function(r){for(;e._html5AudioPool.length<e.html5PoolSize;)try{var n=new Audio;n._unlocked=!0,e._releaseHtml5Audio(n)}catch(r){e.noAudio=!0;break}for(var i=0;i<e._howls.length;i++)if(!e._howls[i]._webAudio)for(var a=e._howls[i]._getSoundIds(),o=0;o<a.length;o++){var s=e._howls[i]._soundById(a[o]);s&&s._node&&!s._node._unlocked&&(s._node._unlocked=!0,s._node.load())}e._autoResume();var c=e.ctx.createBufferSource();c.buffer=e._scratchBuffer,c.connect(e.ctx.destination),void 0===c.start?c.noteOn(0):c.start(0),"function"==typeof e.ctx.resume&&e.ctx.resume(),c.onended=function(){c.disconnect(0),e._audioUnlocked=!0,document.removeEventListener("touchstart",t,!0),document.removeEventListener("touchend",t,!0),document.removeEventListener("click",t,!0),document.removeEventListener("keydown",t,!0);for(var r=0;r<e._howls.length;r++)e._howls[r]._emit("unlock")}};return document.addEventListener("touchstart",t,!0),document.addEventListener("touchend",t,!0),document.addEventListener("click",t,!0),document.addEventListener("keydown",t,!0),e}},_obtainHtml5Audio:function(){var e=this||n;if(e._html5AudioPool.length)return e._html5AudioPool.pop();var t=(new Audio).play();return t&&"undefined"!=typeof Promise&&(t instanceof Promise||"function"==typeof t.then)&&t.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(e){var t=this||n;return e._unlocked&&t._html5AudioPool.push(e),t},_autoSuspend:function(){var e=this;if(e.autoSuspend&&e.ctx&&void 0!==e.ctx.suspend&&n.usingWebAudio){for(var t=0;t<e._howls.length;t++)if(e._howls[t]._webAudio)for(var r=0;r<e._howls[t]._sounds.length;r++)if(!e._howls[t]._sounds[r]._paused)return e;return e._suspendTimer&&clearTimeout(e._suspendTimer),e._suspendTimer=setTimeout(function(){if(e.autoSuspend){e._suspendTimer=null,e.state="suspending";var t=function(){e.state="suspended",e._resumeAfterSuspend&&(delete e._resumeAfterSuspend,e._autoResume())};e.ctx.suspend().then(t,t)}},3e4),e}},_autoResume:function(){var e=this;if(e.ctx&&void 0!==e.ctx.resume&&n.usingWebAudio)return"running"===e.state&&"interrupted"!==e.ctx.state&&e._suspendTimer?(clearTimeout(e._suspendTimer),e._suspendTimer=null):"suspended"===e.state||"running"===e.state&&"interrupted"===e.ctx.state?(e.ctx.resume().then(function(){e.state="running";for(var t=0;t<e._howls.length;t++)e._howls[t]._emit("resume")}),e._suspendTimer&&(clearTimeout(e._suspendTimer),e._suspendTimer=null)):"suspending"===e.state&&(e._resumeAfterSuspend=!0),e}};var n=new t,i=function(e){var t=this;if(!e.src||0===e.src.length)return void console.error("An array of source files must be passed with any new Howl.");t.init(e)};i.prototype={init:function(e){var t=this;return n.ctx||d(),t._autoplay=e.autoplay||!1,t._format="string"!=typeof e.format?e.format:[e.format],t._html5=e.html5||!1,t._muted=e.mute||!1,t._loop=e.loop||!1,t._pool=e.pool||5,t._preload="boolean"!=typeof e.preload&&"metadata"!==e.preload||e.preload,t._rate=e.rate||1,t._sprite=e.sprite||{},t._src="string"!=typeof e.src?e.src:[e.src],t._volume=void 0!==e.volume?e.volume:1,t._xhr={method:e.xhr&&e.xhr.method?e.xhr.method:"GET",headers:e.xhr&&e.xhr.headers?e.xhr.headers:null,withCredentials:!(!e.xhr||!e.xhr.withCredentials)&&e.xhr.withCredentials},t._duration=0,t._state="unloaded",t._sounds=[],t._endTimers={},t._queue=[],t._playLock=!1,t._onend=e.onend?[{fn:e.onend}]:[],t._onfade=e.onfade?[{fn:e.onfade}]:[],t._onload=e.onload?[{fn:e.onload}]:[],t._onloaderror=e.onloaderror?[{fn:e.onloaderror}]:[],t._onplayerror=e.onplayerror?[{fn:e.onplayerror}]:[],t._onpause=e.onpause?[{fn:e.onpause}]:[],t._onplay=e.onplay?[{fn:e.onplay}]:[],t._onstop=e.onstop?[{fn:e.onstop}]:[],t._onmute=e.onmute?[{fn:e.onmute}]:[],t._onvolume=e.onvolume?[{fn:e.onvolume}]:[],t._onrate=e.onrate?[{fn:e.onrate}]:[],t._onseek=e.onseek?[{fn:e.onseek}]:[],t._onunlock=e.onunlock?[{fn:e.onunlock}]:[],t._onresume=[],t._webAudio=n.usingWebAudio&&!t._html5,void 0!==n.ctx&&n.ctx&&n.autoUnlock&&n._unlockAudio(),n._howls.push(t),t._autoplay&&t._queue.push({event:"play",action:function(){t.play()}}),t._preload&&"none"!==t._preload&&t.load(),t},load:function(){var e=this,t=null;if(n.noAudio)return void e._emit("loaderror",null,"No audio support.");"string"==typeof e._src&&(e._src=[e._src]);for(var r=0;r<e._src.length;r++){var i,o;if(e._format&&e._format[r])i=e._format[r];else{if("string"!=typeof(o=e._src[r])){e._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}i=/^data:audio\/([^;,]+);/i.exec(o),i||(i=/\.([^.]+)$/.exec(o.split("?",1)[0])),i&&(i=i[1].toLowerCase())}if(i||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),i&&n.codecs(i)){t=e._src[r];break}}return t?(e._src=t,e._state="loading","https:"===window.location.protocol&&"http:"===t.slice(0,5)&&(e._html5=!0,e._webAudio=!1),new a(e),e._webAudio&&s(e),e):void e._emit("loaderror",null,"No codec support for selected audio sources.")},play:function(e,t){var r=this,i=null;if("number"==typeof e)i=e,e=null;else{if("string"==typeof e&&"loaded"===r._state&&!r._sprite[e])return null;if(void 0===e&&(e="__default",!r._playLock)){for(var a=0,o=0;o<r._sounds.length;o++)r._sounds[o]._paused&&!r._sounds[o]._ended&&(a++,i=r._sounds[o]._id);1===a?e=null:i=null}}var s=i?r._soundById(i):r._inactiveSound();if(!s)return null;if(i&&!e&&(e=s._sprite||"__default"),"loaded"!==r._state){s._sprite=e,s._ended=!1;var c=s._id;return r._queue.push({event:"play",action:function(){r.play(c)}}),c}if(i&&!s._paused)return t||r._loadQueue("play"),s._id;r._webAudio&&n._autoResume();var u=Math.max(0,s._seek>0?s._seek:r._sprite[e][0]/1e3),l=Math.max(0,(r._sprite[e][0]+r._sprite[e][1])/1e3-u),d=1e3*l/Math.abs(s._rate),f=r._sprite[e][0]/1e3,h=(r._sprite[e][0]+r._sprite[e][1])/1e3;s._sprite=e,s._ended=!1;var v=function(){s._paused=!1,s._seek=u,s._start=f,s._stop=h,s._loop=!(!s._loop&&!r._sprite[e][2])};if(u>=h)return void r._ended(s);var g=s._node;if(r._webAudio){var m=function(){r._playLock=!1,v(),r._refreshBuffer(s);var e=s._muted||r._muted?0:s._volume;g.gain.setValueAtTime(e,n.ctx.currentTime),s._playStart=n.ctx.currentTime,void 0===g.bufferSource.start?s._loop?g.bufferSource.noteGrainOn(0,u,86400):g.bufferSource.noteGrainOn(0,u,l):s._loop?g.bufferSource.start(0,u,86400):g.bufferSource.start(0,u,l),d!==1/0&&(r._endTimers[s._id]=setTimeout(r._ended.bind(r,s),d)),t||setTimeout(function(){r._emit("play",s._id),r._loadQueue()},0)};"running"===n.state&&"interrupted"!==n.ctx.state?m():(r._playLock=!0,r.once("resume",m),r._clearTimer(s._id))}else{var p=function(){g.currentTime=u,g.muted=s._muted||r._muted||n._muted||g.muted,g.volume=s._volume*n.volume(),g.playbackRate=s._rate;try{var i=g.play();if(i&&"undefined"!=typeof Promise&&(i instanceof Promise||"function"==typeof i.then)?(r._playLock=!0,v(),i.then(function(){r._playLock=!1,g._unlocked=!0,t?r._loadQueue():r._emit("play",s._id)}).catch(function(){r._playLock=!1,r._emit("playerror",s._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),s._ended=!0,s._paused=!0})):t||(r._playLock=!1,v(),r._emit("play",s._id)),g.playbackRate=s._rate,g.paused)return void r._emit("playerror",s._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==e||s._loop?r._endTimers[s._id]=setTimeout(r._ended.bind(r,s),d):(r._endTimers[s._id]=function(){r._ended(s),g.removeEventListener("ended",r._endTimers[s._id],!1)},g.addEventListener("ended",r._endTimers[s._id],!1))}catch(e){r._emit("playerror",s._id,e)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===g.src&&(g.src=r._src,g.load());var y=window&&window.ejecta||!g.readyState&&n._navigator.isCocoonJS;if(g.readyState>=3||y)p();else{r._playLock=!0,r._state="loading";var b=function(){r._state="loaded",p(),g.removeEventListener(n._canPlayEvent,b,!1)};g.addEventListener(n._canPlayEvent,b,!1),r._clearTimer(s._id)}}return s._id},pause:function(e){var t=this;if("loaded"!==t._state||t._playLock)return t._queue.push({event:"pause",action:function(){t.pause(e)}}),t;for(var r=t._getSoundIds(e),n=0;n<r.length;n++){t._clearTimer(r[n]);var i=t._soundById(r[n]);if(i&&!i._paused&&(i._seek=t.seek(r[n]),i._rateSeek=0,i._paused=!0,t._stopFade(r[n]),i._node))if(t._webAudio){if(!i._node.bufferSource)continue;void 0===i._node.bufferSource.stop?i._node.bufferSource.noteOff(0):i._node.bufferSource.stop(0),t._cleanBuffer(i._node)}else isNaN(i._node.duration)&&i._node.duration!==1/0||i._node.pause();arguments[1]||t._emit("pause",i?i._id:null)}return t},stop:function(e,t){var r=this;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"stop",action:function(){r.stop(e)}}),r;for(var n=r._getSoundIds(e),i=0;i<n.length;i++){r._clearTimer(n[i]);var a=r._soundById(n[i]);a&&(a._seek=a._start||0,a._rateSeek=0,a._paused=!0,a._ended=!0,r._stopFade(n[i]),a._node&&(r._webAudio?a._node.bufferSource&&(void 0===a._node.bufferSource.stop?a._node.bufferSource.noteOff(0):a._node.bufferSource.stop(0),r._cleanBuffer(a._node)):isNaN(a._node.duration)&&a._node.duration!==1/0||(a._node.currentTime=a._start||0,a._node.pause(),a._node.duration===1/0&&r._clearSound(a._node))),t||r._emit("stop",a._id))}return r},mute:function(e,t){var r=this;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"mute",action:function(){r.mute(e,t)}}),r;if(void 0===t){if("boolean"!=typeof e)return r._muted;r._muted=e}for(var i=r._getSoundIds(t),a=0;a<i.length;a++){var o=r._soundById(i[a]);o&&(o._muted=e,o._interval&&r._stopFade(o._id),r._webAudio&&o._node?o._node.gain.setValueAtTime(e?0:o._volume,n.ctx.currentTime):o._node&&(o._node.muted=!!n._muted||e),r._emit("mute",o._id))}return r},volume:function(){var e,t,r=this,i=arguments;if(0===i.length)return r._volume;if(1===i.length||2===i.length&&void 0===i[1]){r._getSoundIds().indexOf(i[0])>=0?t=parseInt(i[0],10):e=parseFloat(i[0])}else i.length>=2&&(e=parseFloat(i[0]),t=parseInt(i[1],10));var a;if(!(void 0!==e&&e>=0&&e<=1))return a=t?r._soundById(t):r._sounds[0],a?a._volume:0;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"volume",action:function(){r.volume.apply(r,i)}}),r;void 0===t&&(r._volume=e),t=r._getSoundIds(t);for(var o=0;o<t.length;o++)(a=r._soundById(t[o]))&&(a._volume=e,i[2]||r._stopFade(t[o]),r._webAudio&&a._node&&!a._muted?a._node.gain.setValueAtTime(e,n.ctx.currentTime):a._node&&!a._muted&&(a._node.volume=e*n.volume()),r._emit("volume",a._id));return r},fade:function(e,t,r,i){var a=this;if("loaded"!==a._state||a._playLock)return a._queue.push({event:"fade",action:function(){a.fade(e,t,r,i)}}),a;e=Math.min(Math.max(0,parseFloat(e)),1),t=Math.min(Math.max(0,parseFloat(t)),1),r=parseFloat(r),a.volume(e,i);for(var o=a._getSoundIds(i),s=0;s<o.length;s++){var c=a._soundById(o[s]);if(c){if(i||a._stopFade(o[s]),a._webAudio&&!c._muted){var u=n.ctx.currentTime,l=u+r/1e3;c._volume=e,c._node.gain.setValueAtTime(e,u),c._node.gain.linearRampToValueAtTime(t,l)}a._startFadeInterval(c,e,t,r,o[s],void 0===i)}}return a},_startFadeInterval:function(e,t,r,n,i,a){var o=this,s=t,c=r-t,u=Math.abs(c/.01),l=Math.max(4,u>0?n/u:n),d=Date.now();e._fadeTo=r,e._interval=setInterval(function(){var i=(Date.now()-d)/n;d=Date.now(),s+=c*i,s=Math.round(100*s)/100,s=c<0?Math.max(r,s):Math.min(r,s),o._webAudio?e._volume=s:o.volume(s,e._id,!0),a&&(o._volume=s),(r<t&&s<=r||r>t&&s>=r)&&(clearInterval(e._interval),e._interval=null,e._fadeTo=null,o.volume(r,e._id),o._emit("fade",e._id))},l)},_stopFade:function(e){var t=this,r=t._soundById(e);return r&&r._interval&&(t._webAudio&&r._node.gain.cancelScheduledValues(n.ctx.currentTime),clearInterval(r._interval),r._interval=null,t.volume(r._fadeTo,e),r._fadeTo=null,t._emit("fade",e)),t},loop:function(){var e,t,r,n=this,i=arguments;if(0===i.length)return n._loop;if(1===i.length){if("boolean"!=typeof i[0])return!!(r=n._soundById(parseInt(i[0],10)))&&r._loop;e=i[0],n._loop=e}else 2===i.length&&(e=i[0],t=parseInt(i[1],10));for(var a=n._getSoundIds(t),o=0;o<a.length;o++)(r=n._soundById(a[o]))&&(r._loop=e,n._webAudio&&r._node&&r._node.bufferSource&&(r._node.bufferSource.loop=e,e&&(r._node.bufferSource.loopStart=r._start||0,r._node.bufferSource.loopEnd=r._stop,n.playing(a[o])&&(n.pause(a[o],!0),n.play(a[o],!0)))));return n},rate:function(){var e,t,r=this,i=arguments;if(0===i.length)t=r._sounds[0]._id;else if(1===i.length){var a=r._getSoundIds(),o=a.indexOf(i[0]);o>=0?t=parseInt(i[0],10):e=parseFloat(i[0])}else 2===i.length&&(e=parseFloat(i[0]),t=parseInt(i[1],10));var s;if("number"!=typeof e)return s=r._soundById(t),s?s._rate:r._rate;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"rate",action:function(){r.rate.apply(r,i)}}),r;void 0===t&&(r._rate=e),t=r._getSoundIds(t);for(var c=0;c<t.length;c++)if(s=r._soundById(t[c])){r.playing(t[c])&&(s._rateSeek=r.seek(t[c]),s._playStart=r._webAudio?n.ctx.currentTime:s._playStart),s._rate=e,r._webAudio&&s._node&&s._node.bufferSource?s._node.bufferSource.playbackRate.setValueAtTime(e,n.ctx.currentTime):s._node&&(s._node.playbackRate=e);var u=r.seek(t[c]),l=(r._sprite[s._sprite][0]+r._sprite[s._sprite][1])/1e3-u,d=1e3*l/Math.abs(s._rate);!r._endTimers[t[c]]&&s._paused||(r._clearTimer(t[c]),r._endTimers[t[c]]=setTimeout(r._ended.bind(r,s),d)),r._emit("rate",s._id)}return r},seek:function(){var e,t,r=this,i=arguments;if(0===i.length)r._sounds.length&&(t=r._sounds[0]._id);else if(1===i.length){var a=r._getSoundIds(),o=a.indexOf(i[0]);o>=0?t=parseInt(i[0],10):r._sounds.length&&(t=r._sounds[0]._id,e=parseFloat(i[0]))}else 2===i.length&&(e=parseFloat(i[0]),t=parseInt(i[1],10));if(void 0===t)return 0;if("number"==typeof e&&("loaded"!==r._state||r._playLock))return r._queue.push({event:"seek",action:function(){r.seek.apply(r,i)}}),r;var s=r._soundById(t);if(s){if(!("number"==typeof e&&e>=0)){if(r._webAudio){var c=r.playing(t)?n.ctx.currentTime-s._playStart:0,u=s._rateSeek?s._rateSeek-s._seek:0;return s._seek+(u+c*Math.abs(s._rate))}return s._node.currentTime}var l=r.playing(t);l&&r.pause(t,!0),s._seek=e,s._ended=!1,r._clearTimer(t),r._webAudio||!s._node||isNaN(s._node.duration)||(s._node.currentTime=e);var d=function(){l&&r.play(t,!0),r._emit("seek",t)};if(l&&!r._webAudio){var f=function(){r._playLock?setTimeout(f,0):d()};setTimeout(f,0)}else d()}return r},playing:function(e){var t=this;if("number"==typeof e){var r=t._soundById(e);return!!r&&!r._paused}for(var n=0;n<t._sounds.length;n++)if(!t._sounds[n]._paused)return!0;return!1},duration:function(e){var t=this,r=t._duration,n=t._soundById(e);return n&&(r=t._sprite[n._sprite][1]/1e3),r},state:function(){return this._state},unload:function(){for(var e=this,t=e._sounds,r=0;r<t.length;r++)t[r]._paused||e.stop(t[r]._id),e._webAudio||(e._clearSound(t[r]._node),t[r]._node.removeEventListener("error",t[r]._errorFn,!1),t[r]._node.removeEventListener(n._canPlayEvent,t[r]._loadFn,!1),t[r]._node.removeEventListener("ended",t[r]._endFn,!1),n._releaseHtml5Audio(t[r]._node)),delete t[r]._node,e._clearTimer(t[r]._id);var i=n._howls.indexOf(e);i>=0&&n._howls.splice(i,1);var a=!0;for(r=0;r<n._howls.length;r++)if(n._howls[r]._src===e._src||e._src.indexOf(n._howls[r]._src)>=0){a=!1;break}return o&&a&&delete o[e._src],n.noAudio=!1,e._state="unloaded",e._sounds=[],e=null,null},on:function(e,t,r,n){var i=this,a=i["_on"+e];return"function"==typeof t&&a.push(n?{id:r,fn:t,once:n}:{id:r,fn:t}),i},off:function(e,t,r){var n=this,i=n["_on"+e],a=0;if("number"==typeof t&&(r=t,t=null),t||r)for(a=0;a<i.length;a++){var o=r===i[a].id;if(t===i[a].fn&&o||!t&&o){i.splice(a,1);break}}else if(e)n["_on"+e]=[];else{var s=Object.keys(n);for(a=0;a<s.length;a++)0===s[a].indexOf("_on")&&Array.isArray(n[s[a]])&&(n[s[a]]=[])}return n},once:function(e,t,r){var n=this;return n.on(e,t,r,1),n},_emit:function(e,t,r){for(var n=this,i=n["_on"+e],a=i.length-1;a>=0;a--)i[a].id&&i[a].id!==t&&"load"!==e||(setTimeout(function(e){e.call(this,t,r)}.bind(n,i[a].fn),0),i[a].once&&n.off(e,i[a].fn,i[a].id));return n._loadQueue(e),n},_loadQueue:function(e){var t=this;if(t._queue.length>0){var r=t._queue[0];r.event===e&&(t._queue.shift(),t._loadQueue()),e||r.action()}return t},_ended:function(e){var t=this,r=e._sprite;if(!t._webAudio&&e._node&&!e._node.paused&&!e._node.ended&&e._node.currentTime<e._stop)return setTimeout(t._ended.bind(t,e),100),t;var i=!(!e._loop&&!t._sprite[r][2]);if(t._emit("end",e._id),!t._webAudio&&i&&t.stop(e._id,!0).play(e._id),t._webAudio&&i){t._emit("play",e._id),e._seek=e._start||0,e._rateSeek=0,e._playStart=n.ctx.currentTime;var a=1e3*(e._stop-e._start)/Math.abs(e._rate);t._endTimers[e._id]=setTimeout(t._ended.bind(t,e),a)}return t._webAudio&&!i&&(e._paused=!0,e._ended=!0,e._seek=e._start||0,e._rateSeek=0,t._clearTimer(e._id),t._cleanBuffer(e._node),n._autoSuspend()),t._webAudio||i||t.stop(e._id,!0),t},_clearTimer:function(e){var t=this;if(t._endTimers[e]){if("function"!=typeof t._endTimers[e])clearTimeout(t._endTimers[e]);else{var r=t._soundById(e);r&&r._node&&r._node.removeEventListener("ended",t._endTimers[e],!1)}delete t._endTimers[e]}return t},_soundById:function(e){for(var t=this,r=0;r<t._sounds.length;r++)if(e===t._sounds[r]._id)return t._sounds[r];return null},_inactiveSound:function(){var e=this;e._drain();for(var t=0;t<e._sounds.length;t++)if(e._sounds[t]._ended)return e._sounds[t].reset();return new a(e)},_drain:function(){var e=this,t=e._pool,r=0,n=0;if(!(e._sounds.length<t)){for(n=0;n<e._sounds.length;n++)e._sounds[n]._ended&&r++;for(n=e._sounds.length-1;n>=0;n--){if(r<=t)return;e._sounds[n]._ended&&(e._webAudio&&e._sounds[n]._node&&e._sounds[n]._node.disconnect(0),e._sounds.splice(n,1),r--)}}},_getSoundIds:function(e){var t=this;if(void 0===e){for(var r=[],n=0;n<t._sounds.length;n++)r.push(t._sounds[n]._id);return r}return[e]},_refreshBuffer:function(e){var t=this;return e._node.bufferSource=n.ctx.createBufferSource(),e._node.bufferSource.buffer=o[t._src],e._panner?e._node.bufferSource.connect(e._panner):e._node.bufferSource.connect(e._node),e._node.bufferSource.loop=e._loop,e._loop&&(e._node.bufferSource.loopStart=e._start||0,e._node.bufferSource.loopEnd=e._stop||0),e._node.bufferSource.playbackRate.setValueAtTime(e._rate,n.ctx.currentTime),t},_cleanBuffer:function(e){var t=this,r=n._navigator&&n._navigator.vendor.indexOf("Apple")>=0;if(n._scratchBuffer&&e.bufferSource&&(e.bufferSource.onended=null,e.bufferSource.disconnect(0),r))try{e.bufferSource.buffer=n._scratchBuffer}catch(e){}return e.bufferSource=null,t},_clearSound:function(e){/MSIE |Trident\//.test(n._navigator&&n._navigator.userAgent)||(e.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var a=function(e){this._parent=e,this.init()};a.prototype={init:function(){var e=this,t=e._parent;return e._muted=t._muted,e._loop=t._loop,e._volume=t._volume,e._rate=t._rate,e._seek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++n._counter,t._sounds.push(e),e.create(),e},create:function(){var e=this,t=e._parent,r=n._muted||e._muted||e._parent._muted?0:e._volume;return t._webAudio?(e._node=void 0===n.ctx.createGain?n.ctx.createGainNode():n.ctx.createGain(),e._node.gain.setValueAtTime(r,n.ctx.currentTime),e._node.paused=!0,e._node.connect(n.masterGain)):n.noAudio||(e._node=n._obtainHtml5Audio(),e._errorFn=e._errorListener.bind(e),e._node.addEventListener("error",e._errorFn,!1),e._loadFn=e._loadListener.bind(e),e._node.addEventListener(n._canPlayEvent,e._loadFn,!1),e._endFn=e._endListener.bind(e),e._node.addEventListener("ended",e._endFn,!1),e._node.src=t._src,e._node.preload=!0===t._preload?"auto":t._preload,e._node.volume=r*n.volume(),e._node.load()),e},reset:function(){var e=this,t=e._parent;return e._muted=t._muted,e._loop=t._loop,e._volume=t._volume,e._rate=t._rate,e._seek=0,e._rateSeek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++n._counter,e},_errorListener:function(){var e=this;e._parent._emit("loaderror",e._id,e._node.error?e._node.error.code:0),e._node.removeEventListener("error",e._errorFn,!1)},_loadListener:function(){var e=this,t=e._parent;t._duration=Math.ceil(10*e._node.duration)/10,0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),"loaded"!==t._state&&(t._state="loaded",t._emit("load"),t._loadQueue()),e._node.removeEventListener(n._canPlayEvent,e._loadFn,!1)},_endListener:function(){var e=this,t=e._parent;t._duration===1/0&&(t._duration=Math.ceil(10*e._node.duration)/10,t._sprite.__default[1]===1/0&&(t._sprite.__default[1]=1e3*t._duration),t._ended(e)),e._node.removeEventListener("ended",e._endFn,!1)}};var o={},s=function(e){var t=e._src;if(o[t])return e._duration=o[t].duration,void l(e);if(/^data:[^;]+;base64,/.test(t)){for(var r=atob(t.split(",")[1]),n=new Uint8Array(r.length),i=0;i<r.length;++i)n[i]=r.charCodeAt(i);u(n.buffer,e)}else{var a=new XMLHttpRequest;a.open(e._xhr.method,t,!0),a.withCredentials=e._xhr.withCredentials,a.responseType="arraybuffer",e._xhr.headers&&Object.keys(e._xhr.headers).forEach(function(t){a.setRequestHeader(t,e._xhr.headers[t])}),a.onload=function(){var t=(a.status+"")[0];if("0"!==t&&"2"!==t&&"3"!==t)return void e._emit("loaderror",null,"Failed loading audio file with status: "+a.status+".");u(a.response,e)},a.onerror=function(){e._webAudio&&(e._html5=!0,e._webAudio=!1,e._sounds=[],delete o[t],e.load())},c(a)}},c=function(e){try{e.send()}catch(t){e.onerror()}},u=function(e,t){var r=function(){t._emit("loaderror",null,"Decoding audio data failed.")},i=function(e){e&&t._sounds.length>0?(o[t._src]=e,l(t,e)):r()};"undefined"!=typeof Promise&&1===n.ctx.decodeAudioData.length?n.ctx.decodeAudioData(e).then(i).catch(r):n.ctx.decodeAudioData(e,i,r)},l=function(e,t){t&&!e._duration&&(e._duration=t.duration),0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue())},d=function(){if(n.usingWebAudio){try{"undefined"!=typeof AudioContext?n.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?n.ctx=new webkitAudioContext:n.usingWebAudio=!1}catch(e){n.usingWebAudio=!1}n.ctx||(n.usingWebAudio=!1);var e=/iP(hone|od|ad)/.test(n._navigator&&n._navigator.platform),t=n._navigator&&n._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),r=t?parseInt(t[1],10):null;if(e&&r&&r<9){var i=/safari/.test(n._navigator&&n._navigator.userAgent.toLowerCase());n._navigator&&!i&&(n.usingWebAudio=!1)}n.usingWebAudio&&(n.masterGain=void 0===n.ctx.createGain?n.ctx.createGainNode():n.ctx.createGain(),n.masterGain.gain.setValueAtTime(n._muted?0:n._volume,n.ctx.currentTime),n.masterGain.connect(n.ctx.destination)),n._setup()}};e.Howler=n,e.Howl=i,"undefined"!=typeof r?(r.HowlerGlobal=t,r.Howler=n,r.Howl=i,r.Sound=a):"undefined"!=typeof window&&(window.HowlerGlobal=t,window.Howler=n,window.Howl=i,window.Sound=a)}()})(su);var cu="data:audio/mp3;base64,//uwAAAAA8ROTJVigAB4icmSrFAAE/IjVfj6gAJ+RGq/H1AAADEN55555509PSUkYjEMQ5DCaBiMBmSoGPBh6QGGJAZo8BoDwGYJADEBmQbAAbMBcAJ0IIRQuFwuF8vm6aaaaaaCCH/9RcIubDkCgBQAzBOLL5cLhog3p////6BgTBFC4yZfTah/////WmYFwuBgTh///5cEDgnB8AMQ3nnnnnnT09JSRiMQxDkMJoGIwGZKgY8GHpAYYkBmjwGgPAZgkAMQGZBsABswFwAnQghFC4XC4Xy+bppppppoIIf/1Fwi5sOQKAFADME4svlwuGiDen////oGBMEULjJl9NqH////9aZgXC4GBOH///lwQOCcH7usq4IwABEoZUkABBACSAH6LQxWQ1ekTmN4ZafMA1wANy7UyDUPgZzK4WdA1sdhHQGm0eAcG0Uwxsang94vpi3jMEgeLBTM1nUEFdDatet8mwsLJddIZ0CIGTVYoADBkuf9NrJ1f3UsUMJtLy/dMOCTfrUURBBm/6mKA7P6lkcLj/z5mI2/+plE5/9TFgqrf/qYpFf/9v///9Z7////Weu6yrgjAAEShlSQAEEAJIAfotDFZDV6ROY3hlp8wDXAA3LtTINQ+BnMrhZ0DWx2EdAabR4BwbRTDGxqeD3i+mLeMwSB4sFMzWdQQV0Nq163ybCwsl10hnQIgZNVigAMGS5/02snV/dSxQwm0vL90w4JN+tRREEGb/qYoDs/qWRwuP/PmYjb/6mUTn/1MWCqt/+pikV//2////1nv///9Z57qrtSAAaAEOPo6q0VkVoBSMfBmZVHFMomra/sFv//+7IADwAEcXjR92KgAo4vGj7sVABRJeNFzHKLAiS8aLmOUWARYQFAEDoGXFeBv7iAZHHAGKwQLnD0RkkCKmpzOKUjUjUiy0nUlpOh2UUjSoc4VsAaFAMkgspOZb1de+/222v3lN9ikN8FBKOaa0lI/b/+32+TGsxIaGIRJknav9///1fSInqSWHRKS6v///6/nCEJvdVdqQADQAhx9HVWisitAKRj4MzKo4plE1bX9gt/iLCAoAgdAy4rwN/cQDI44AxWCBc4eiMkgRU1OZxSkakakWWk6ktJ0OyikaVDnCtgDQoBkkFlJzLerr33+221+8pvsUhvgoJRzTWkpH7f/2+3yY1mJDQxCJMk7V/v//+r6RE9SSw6JSXV////X84QhNqq9yGAAtDIPgN54cGQ0s4MLUdIZgz1qumUxddqEpWGZfQdAYAOR0btmDgYpm3SG6ec7wnc1aVs2dj+1bbTnyweolsigCR4Bd4UcqIoKbf1mlbVoekvRo/NT+yIW3Ci11PUfr6dTaC7b2fe/yLtUspAgFDuR53///+pvOkM14YR+pvt/+v6/koSLVV7kMABaGQfAbzw4MhpZwYWo6QzBnrVdMpi67UJSsMy+g6AwAcjo3bMHAxTNukN0853hO5q0rZs7H9q22nPlg9RLZFAEjwC7wo5URQU2/rNK2rQ9JejR+an9kQtuFFrqeo/X06m0F23s+9/kXapZSBAKHcjzv///9TedIZrwwj9Tfb/9f1/JQkVi7zplQAFIAgwMk9GmLaGUorLwS8iIOIgIHDACBpGPGPIQTeb9Ig1+zoNGAMN6Ijtv5KI3h0rZfrLVE0dZ6n/+7IAHwAEk3jRez2kEJJvGi9ntIIT3eU/7PqwQnu8p/2fVgg7IPUzJfLB65iPwTcgPIEeWDqpvvvo6N2qSs9T1fIxKtlg1Fg5Kkp6z7nWWdSqqUulspS3s9vkhqoBb8Kg7POv6///9vUQVqqgx7Xmf7f//rbyUN1Rd50yoACkAQYGSejTFtDKUVl4JeREHEQEDhgBA0jHjHkIJvN+kQa/Z0GjAGG9ER238lEbw6Vsv1lqiaOs9SdkHqZkvlg9cxH4JuQHkCPLB1U3330dG7VJWep6vkYlWywaiwclSU9Z9zrLOpVVKXS2Upb2e3yQ1UAt+FQdnnX9f//+3qIK1VQY9rzP9v//1t5KG6jmYd0IAA0gIAD4Llq2gAnFo8YQd9sJd67dV09LYmltad5GkSGPh80IAtg4NUiAWeV15W6FXRpnnczdM46C/SvZzut0SUNUjYiIywAAvA1QCg40iSbnTJdtr85/P3fO63YhxpWgiDUWgsOUjjzp+tq2+r+++jtYd2dURoFQ+LhSOZ0/Xrb/9T9Sz21xU3rrCIH1Zi9ev9/1atZ7aRwqb1nMw7oQABpAQAHwXLVtABOLR4wg77YS7126rp6WxNLa07yNIkMfD5oQBbBwapEAs8rryt0KujTPO5m6Zx0F+lezndbokoapGxERlgABeBqgFBxpEk3OmS7bX5z+fu+d1uxDjStBEGotBYcpHHnT9bVt9X999Haw7s6ojQKh8XCkczp+vW3/6n6lntripvXWEQPqzF69f7/q1az20jhU3rV7maZEAAWQDDArs+W/cFQBSysHAKdYWnzUwc2mlLOlivqupASYLMR//In/+7IAFQAEsHlRe4mkoJYPKi9xNJQSUeVF7hqSwko8qL3DUliIwQla+ytB9/jCGTwOk7YLCgqBZuy6Dc6/c4eQc0L4CDQAc0T4T5smsq7e5vm9np2bqoaspnmWgiEzoOAqU861fWtS6kamrTW703pasnfL4YpEzZ2sf+32//WnrnSY1XDcPXnP/r/q/baZjfd7maZEAAWQDDArs+W/cFQBSysHAKdYWnzUwc2mlLOlivqupASYLMR//ImIwQla+ytB9/jCGTwOk7YLCgqBZuy6Dc6/c4eQc0L4CDQAc0T4T5smsq7e5vm9np2bqoaspnmWgiEzoOAqU861fWtS6kamrTW703pasnfL4YpEzZ2sf+32//WnrnSY1XDcPXnP/r/q/baZjfdpycyVAATgBDA1ALqbMHAeBrYsAWWvHH2AywaA7BHvZmwaGmklUBEh5MPfAYCKjjZQRAGyw/4fwM8hGdB9J4CJscei+u5YLTImQ+QavAASY+iycWpPbNd999Hba+rMXrrCZ0W1StZar1utXOa91mj1O3XkCZ1SkCRAiy16n9Tfq//P+onVdYcXq02/9f9bf+P47nacnMlQAE4AQwNQC6mzBwHga2LAFlrxx9gMsGgOwR72ZsGhppJVARIeTD3wGAio42UEQBssP+H8DPIRnQfSeAibHHovruWC0yJkPkGrwAEmPosnFqT2zXfffR22vqzF66wmdFtUrWWq9brVzmvdZo9Tt15AmdUpAkQIstep/U36v/z/qJ1XWHF6tNv/X/W3/j+O543/+6UACbAYaztA4tsHCcKBx5S8EJ48ScsKkEaV3wtIwd45ACAQBij/+7IAFAAEt3hUfWKgApbvCo+sVABSgV9f+YoAAlAr6/8xQAAgAbKYoGDwWBIDlhrJuWqzTL9SbKMay9NzZaZstX1Hqz6AYYCxHFLl9Pf+tVapulmK7UWt9B61l8Neg3tQSZCrztaV88yFfW7oCbU6RmLPAOCwEggQQ0TqfapGrV//Uf9RC6EzDAiSHKL/////nREb//dKABNgMNZ2gcW2DhOFA48peCE8eJOWFSCNK74WkYO8cgBAIAxQQANlMUDB4LAkByw1k3LVZpl+pNlGNZem5stM2Wr6j1Z9AMMBYjily+nv/WqtU3SzFdqLW+g9ay+GvQb2oJMhV52tK+eZCvrd0BNqdIzFngHBYCQQIIaJ1PtUjVq//qP+ohdCZhgRJDlF/////zoi5C6lVAABQCoDYQD4ZCwVB9kTFKkiv9NQcExMLk3ipgtxrzPf8LZgdNYHsgYIPgbIgAEXEAwCgpAie4XVi5BaBlBUxSQfMO7yfQPFcsGReNjIgX0QvmASaIgQc3SJkgpqr+myNNNNJSSX/n1Hw/4CgwqkXN3qSMTVX//U2skkQuTq9JJEy/+ybvT6p1IjCCpfiL/+SuQupVQAAUAqA2EA+GQsFQfZExSpIr/TUHBMTC5N4qYLca8z3/C2YHTWB7IGCD4GyIABFxAMAoKQInuF1YuQWgZQVMUkHzDu8n0DxXLBkXjYyIF9EL5gEmiIEHN0iZIKaq/psjTTTSUkl/59R8P+AoMKpFzd6kjE1V//1NrJJELk6vSSRMv/sm70+qdSIwgqX4i//klMQU1FMy45OS41VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+7IAAA/wAABpBwAACAAADSDgAAEAAAGkAAAAIAAANIAAAARMQU1FMy45OS41VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVU=";var uu="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUcAAAAhCAMAAAB9TZmqAAABgFBMVEVHcEyCgoL+/v6Kior///+FhYXW1tbn5+eAgIDp6en+/v6BgYH///////////+BgYH///////////+wsLCCgoL4+PiBgYH///+srKyAgID////s7OyCgoKBgYGDg4P///+BgYH6+vqBgYH////MzMz39/f///+BgYGbm5uDg4OMjIyBgYG+vr6QkJD///////+BgYGDg4P+/v7Hx8eOjo6BgYH09PT7+/v///////+MjIz9/f3////////Y2Nj6+vrPz8+BgYH9/f3///+3t7f///+Ghob///+AgICDg4P///+IiIj///////+CgoL6+vqmpqb////////t7e3////////////b29vj4+PNzc3y8vLl5eXv7+/U1NTDw8O8vLyRkZH////x8fGJiYmZmZnDw8Pf39/S0tLT09PCwsKfn5/4+PjV1dWlpaWwsLCjo6OsrKzj4+OZmZnCwsLq6uqurq7///+AgICfn5+Tk5OFhYXCwsLJycmYmJjU1NS/v79wPZvPAAAAdnRSTlMAcvoPxiTEAsby9L8p/eusNEoJBlEZ2Pb67nz25fVGOv1Eh+RW7oyC/ToXzkALzmqTe8BJHmf9Uu+n/B2Dnt7/+6MvEP2ZKrmzXHIx2dScYv6wkf3o3SL+/uDhqLbnuNrVV4u4ie7LNGlhweeUnrTsZOjkis/PjpWtfQAACfhJREFUaN7tmXlbGksWxtlMEwRUVjUgrSQqEAQccXdQQRUVVYxqoolqjGa9WW7uW25Xv/pUdxe9q2TM88zMM55/aE5V1/Lr03XeqrZYHuzBHuzB/vPmX+hzgdmcyh/sXrIx95LKPQ64/JoG5oaHHVztzya8Ssl0rV1PfO6A03YbR4xdzUBnblbgXphZm2hv+W0z9bW0+H7tjmL9d2w6VDPon7XX/CsuxR2fTcr1hervk+oWBM9KDa0bLqVys5pOn1vTrxfvG6SrCT3HpwNiS3O1Gzt/E8dN5RHVadNAsL6aXB9ch3/9zWyUdDF/Bqh8/ngm2Shpkp+QB49xEdJy3MbgW4UjaVQ42nola73ywDWt5XhKpIcWbP4h9F3CIOuOEOodiwNz4wvdDsDW/N/PMYPhb1GiGOMY82CiSeWWObYgXsI2SWo4tq7jusOco9xC7yAGF005WixOocIq1mt1eerrw/BT6/L8cu69C3Hfb+EY3NkJ/tINHOU4Vl/VORxGiTOQ9DOTVjGugrVGwmdn/Zxkcv0qds/gOS9rOa6isM+Zc3TaRUsmvhQw2WDO0Z+mNoRnpEnurgjs8RLVPeD3vNkNhMz+2h1PgZP6anrxkTT69d4hhI8IHzCpX8Eb8gyrU1qOxIHJ/A0c5XqHwL7flCOL9GdK2NMR4JRv7LJmnYQvoF2OEHcsqEpY/s1YzK1JYJy7WRu8KoeGo75iMea7iWMxdncYb6CXLBq8I5jhSd7s1YBnnxzjMqLjSDv8kb6Do8+L6556OXYCpYR41RFdbWXx2NwfBrCRYU+jOO4FgBfjEsn+8EpxZBjAHHsX9Y4Tm+3EtKLFV10CPA73SrjfwPFgA0C8KlIOusILtVmHq1pil1HOsC548YcKgMpWUOHJCtbJrJZjwwi2eu7gaGnHdlu6To4DgHdIugwQIi2+GRvwogJgRByxzwF4+vqos5uNY8EBl/Cfrad6Ry3PGCoGHYCLqr94Nxx6joceeIWqfSLzNVQkQptATE0sBk+rXU9rDJ4IKZtxnMAOCQWB0byO46YNqwN3cIzRv+U6OQauAfSNd9KJ+qMkx1SUY3M2cVIFFiQl6xqaTSQW55hkpWy8Q9zs83EgY+pQOBorDiUT9gMbYOCIjWl7YmDBI2nrFmCaxURFS2YG+JlpoRYrWpT5ewlvN+MYp4Gapbm0dV7H0dKN9ak7OAaB8+U6OXaQkihgPX3jsY5yQkqJS05BWkQ+SbN14FGbkIe+ApvC/8dAZxP18IMYsZg5ngP/MPPHgD9C9K9zBXis5+j9FhL6fCMmu2R0kAV/BaWs9h3eqclf20RQntInkjLD6IYtRAKU2WQbp+NY9KK0eDtHH3CWqpNjmieRz2vDAABHjEVTiU6Izqr3pbgiruydET6Vip6yMHuMV07SluLJJfotZg6Fo9Y/gieERFNREnlm5PiIF6uSdZH5/DXinCQsRxM6OB8vtx6/evXKBWyM1Rb5T2TeXG06hEBtwSBJ6DjSMkGM38axCJxH6uRoyRFCUl0fMmthwNYpvVKjTtpPQ5YQq1Cjh0QD6WBn+6DMcbKNSgx77hqvLCYOTuGorVihOSLAWfzl6JWR498hGh1+K3+JPmG5GZVE2DiuQoaskuNrSvl7ks3fRabMOK5hh1AwPhvOcnqO/iVcBG7lOA2Qtno5WqziS8ununY8GKbL5AIKKTFL+UNSo87zR3PDAFwyngsxH3HvGA294/kNFV0oSYmsfGHkOCohyZcQFm6JbGFClDmrVhOBmlueorZvw1d7bSFrMtP3w/iDCDuefpQa9Ryp5Cvs+2/jeEDDvN54PDhwp/NNIkryUsyNhyiw5Jbo6hHerT/D8DjoOcY3Gc9LqfyRzFHjUMWj1m/DOza/SSPHI1b0Djah055V4aE2Y5BP3iwmd3GdZenktNGkPAZXRNQg7diKpvUcKd0r620cZ/CT1Ls+VsTHzi3mm6LkTEzQfwIDTH0HBS0edGEuaEl25H7IeB7pOWodz2+o+ATHrNfvRo4f2OUxnoh6jB/EEE0QF/O3iPIFXPED0so7GTEpb0c/ifpFoAWm6dQcm4GvJzdz9HvxhkzVyXECGyyTpXtOgRaR41BtGC6fEN04mhcCtrdOjtxNHK/wTOoraDNyPGSXn7Al/s5fYI2L4yxwC8cqXksCrxOF0QFjeT8FIULyu9DbZeBI8W9/uZnjAsIhYq2T4+eauhZDoUAfWm4d0jGn7wXWRJoFKlWWc4Hde8YjtwqssPmb6J4iGx1axd4DZx5bC7Yj/lvOOV9QTlL+6MNWzlhuw0diZQnnOmXkOBbGxY0cm13YIaShTo6hLWBElLxjM8Ak7TWwCqwVhT0c0MlZuCFgj65RxRkAT+8Vj6lteDJFy2YVg0aOWKKj4IbC2JYStJBp4mjtugXjGuIptuGYtmHLsDlvQTwqbca5DLblhVbhSOVA4QaO/swwlt6qovMOjsvnTwDEHf1LAK6ERWSRXILKcscwcCEsLuV1YGNuyePZGUR84T7rY9PoNoBhYK5k5HgMvOinZetnbEWkmQaFc/3BUay7ZmteeN4TnhEZssE2Mt4uGdubd2OXtNWOx2znASPHohdajp7J1xOC9dOCjSOiUp13cCwT8qbCDunfED4typ2/Kh4AG19FcZs72wLgWWpZvgBm7hOPHYTfcYRRqWav8d2gezJxAN7dc8LmK2SaSacxdSjmfR+R8wD3YVspcFnYy/5Gnmkcq8tGjpYMUFBzVMy2+5aQrKVejtw8IVPPYysrnSdZQpbZeUVTsjkWzBK+Q/p7FIv57LT47AMnngazl62Hhb3eUTs3M1RsJHw+WaQCf7KmiJgtEkJCs+7OzUBUURpvCzg1nIV1zhz/U7KXexFCInJ24QK915evWdGUsFhy1eq+fJiW2V0NmXDkltQcgzPHl5OvBXu5N0p4MsXVzdFiTwnbWmdjiCeE3ZcVZLmTpmjxZMkeIiREi/muCIlY78Nx+nCPtkzbfevCnp7jMh1FY5uAU0mB64roU0z+fEAHPK+e2WKjUiChsfNKnlCug+6owrH45YyopGde9W0ipJEKY8+JlqPffaTZz3DlkHRfY7mGPyBAldtpmBfGFuqgOMRA//c5Al+cUT6UnVG+M8kcB/I0vEjblDxW3xJKyybppcNas7J+8Wwo14qkoSfzqnjOW2WmbUQRSemImuOs3HhA33iS53VP1Up0m6iBRLncodFf6cWEah+RTCTEJhpmuXt9cHAgXG3pzPQDJbM8PKsaQ7W9D4PniYfP9Sa2mPsJAMBwyfQjgNqGgfBp6IGZKUfCf1vonmkfWiZt9ru+r1bb9++E/f9qThLNBhL5RkKsd1XN9qRIJP2AzNTSTdLJYVv+znWWZu7ow+p4ow1Ys3Snnry7Yj5rHfjfmda/AA1uqYyEPVX6AAAAAElFTkSuQmCC";var lu="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAuwAAAAvCAMAAACPHW/9AAAAwFBMVEVHcExUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFVydJUyNFUyNFUyNFUyNH8/v5UyNFUyNFUyNFVydJUyNFUyNFUyNFVydJUyNFVydL3/f1YytNUyNFUyNFUyNHx+/ve9fbp+PnR8fNUyNGF2N9009q15+uW3ePD7O+l4+dv0dlv0dj///9Ujp4pAAAAP3RSTlMAiXJnBFsIARM5oA1+UKsuG5W3JEULBishQj5iAm0QkTQZ/h5MF3snWISbSHb8plMFjfjv9Oeyua3Ww9/Nn4y/IgemAAAIrElEQVR42u2da1saOxCAq8jRVuql0qOVIgcvgHhBrBbUYv//vzpzySSTZBeWqo8fOm+E9Vv3eXxnOptNJh8+vD3rhvFC3lHR73/GmmEsxdKKVY+N3ONFN3OT8O+S/GMYnmXtid0rCJAy7b3nrPDyQn5dnk3DiFnaoeJ4Ife98ZnqTnTSPHZ38R0ezWPDMF6BeY6lseK0F+Ej3Vl1MJ1EZ78rmXrmBvxWTLcCO4axU8WUEsk2nIMhJsh6Et75HnQn10l1NB093xB9F9p4UsBBKXuGsQSlIuXSScSQ/Og8Ch9097aT66I6mo6S74i1c++mn7G/v4+fQrYNYymKPWLBEvEkOtD7LhoPvmN+R93R9sR1UR1FR8n7/cqS/oejjI+G8UIyqbb9NQ4NtB6MJ99J99j2deU6q35AnrPDFew99FcY+MN8K6VpGHMpVecwQL5p/1h+dL6/Bwm+i9k92M6yY2IPrpPqaLqT2omrR7hk9l4ETvEHRuAzD8OogNNFgUpd8DeRhgYGACkPvqPuO5jc2XZM7SGxK9dRdRSdknNicIy+Ey/xyDMYDRR1dzGMaihrHKCUxweFhALpD8qj76Q71jLOdknt6y6xB9dZdRCddU4ibpSgdA606q2cWqtWq7VqfDWMUpwk8BVRd99xPHAYkP6oPPkOurPtVMlwaneyU2KHZ1NxHVVvXqDm3uXC0GuR1Nrr+J7bODyr9IGByNUwYtr+wrYEgcClJCZ0FJD6YDz5Drqz7Vi3U2oX2amKgcR+1nWuk+okelmOrmVWB6XxVi9xBHpFNHoNw0gpUkU8WsUfCYoQBLW2uA/Cj0aQ353tBydcyHAdQ8+na5TYsYg52GPXUXUwnbXW2TnC/atKbO+x47xxnrFiGBXIxEGbkoCQAHD2k/CgO2T3JtkOT6ldl9q17JtUxOz1xXXM6WC6N5qVVtm6B2ZfRmrnPo9Xxkxn3InYlWEYGudFDOjDpHEAyin7UXoQnnVn27mQodQusksVw0UMuj6CrM6mU7ZO/6ehIFNZ28uNXjudFUPNJxz8ZRgxw09eDbgEQCEdERwCSn+X+EF48B11B9uxkqFCZmNjk4t2/3xKFTsl9m9Ndh1N7zUa5eWHZO1Y7qFzW+7/GgZ+AVvXW1v0RR/DKMGZgldAFJKAcP7vDhP30fkG6I7ZnWynQoZS+9ev/ISKz6euioHEDkWMdx1UJ8Wdz+NOqEZU1vaJW9ntxBZ+5nzhYRgJJEYBKhQoAjL3wXr0nXRH20+bnNpdHQNPqCQ7VzGS2C9GXnUQncQe+nyNZcjsegZMZ1NgMp0Aj8Av5AF5Qu6RH8wdcctcBY49v42/m6CC8oN8YXnu2CSyivwi01A5dO8RJZxMp+jl8/Pzee+yXasPJLV3pWj3slMVgxV78xTyunN93KG8HWoqjKkZfKZb06A6u462P4DtTyT7Pdn+g3S/I9tvyfYrHInpJPvxbzP+79Qc//BBddEdPLm9cvmRZCfd78t0d7ZP2fbn3mq7VcfU7uqYWPYjnnekKmYAiV1cZ9W5MnGmo+jadQotSuwPvySxR64H1dl2dh1/LLMbLHyku8/sV2z6rU/tJPvTvbhO1cSjtx2E5NzeoNT++SLUMaWy1yPZOZ+L7VtTlP3ndPqFbJ9M0irmKVQxktddYpfMTrofp5ndMNlF9WNnep7ZXWIH2x+C7uT6Y5zaWfZvy8o+lPIF8/oW6z5F3Sec2UNiDxX7vS7Z7+6KqhjU3TK7kVTsKrOz7XeuaM/KGK5iojpmSmU7uT43s0c1Oz2fNs7P8elUlewzrGJwkO6+Yp/oil1ndl2ySxnjXD9OUrv9vU12pzqNUMWEZ9TwiPoUinYpYySzu0dUKmNKa3Y9G0MTj5doO0/G4BzMDAZ+fZrRXEw0FePLmHQu5l5l9rRmvzLZjeLUfhW7ns3GJM+nfj5mqlzHB9Ti2Zh8nr2l5tnjF/67qL9+PxomJYd6ziZ6bVQwz24Y5XPt2SQ7jvDGiebZr7Np9irz7Okb1IvsDeqKjNIXqJ3s/elQvWOS6Rz1psneoRrlL1D16yN+gxpeoPplBLslb1BXy9+ghrUx3cK1Mb2CtTGN4oWMWv6Ol1/nfnkvRStkeJmMrZExooUxTo4E8kjWioXFYdHSsEZj0dqYSqseLwuQNY9h0WMjW0Yz9sTrHnnFY0fu3jCcCR2vc77ocbwyztf/hmWPbtVjbf6qR1nP3o3Xs9fdevaa3yeithz5bRpxMMT6Fy1o53vlj61tN+I17JEX2Xr282SDh9/TIbs5eD37YDRvPXvpTqV6vcI+Jdou5f1XWzr0fwL5ZiW+a9uZY0T7lBpzNioFsfVOJdr9WXGnkt+DulG+B7Vk+3eyZa+m4qCdbEBVwWCbT41Ke1H1/tOgdbtoE6reg3qa7kHd1HtQo+4Ce2l3gfLeAoO4X0YSBfWstUAr7Bo3jMXtBdiatMGA7i5Qj3pshO4C4rokdtVdwPeNOYv7xnD7o6W6xnzWoTBIWsdwRFjrGGNBw5ikT4YyelDaN+ZU+sYcUp+k4r4xlTqCHc7radcsagiWBINvCGYdwYxqHcFO855g1BWMWs2VtwRTHcHQ9aOoI9jcXo/S3NEP/3tOHBSuRV4WGNbq0ajW7DFr+Mg9F2Oy5qfS6/Eg9HpUib2ki+8ed/HtL27iK91PS9ugWhtf4zW6+H7MO/lux518ky6+2vWsZ3VRf/ZqzdnD70l39m1rz268eoN2TML9/Vi90J/9ZE5/9kUnbyx77gYOfdqGHbxhvPLRGycFZ2+EkzfO+LQZOXnjZi0/Z6boTKVFJyrJLy84UcmOVDJefqhSctDYnDOVotPy3GGQ1Q7LO8JhZ+UZ731cHoqojsuT0/Ju1uYeDpmfg/pmp6DaMajGWx2EOvcc1OTg32oHXN+89HxrO+DaeNMjrqsd7M5Huxfy/Y9ZM4wlWVoyZ+mHd2LdMF7Ma5j4P+hE04Z78rHKAAAAAElFTkSuQmCC";var du="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAuwAAAAvCAMAAACPHW/9AAAAYFBMVEVHcExUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFTyNFUyNE9ws1UyNFUyNFUyNFTyNFCxM5UyNFHxc9RyNE5wcwd5ZO7AAAAH3RSTlMAZ35yAQgbBAwTI4lbRDmUoKtQLrc080osVZvhKMyyq5oARwAAB8JJREFUeNrtnYtS4koQhhUENRFRRBQRff+3PNP3nktCRHbPqTr9T5jErdrVrfr6t5PMdF9d/XndhEK/1H8T0dtQ6K/ol7FxAWIX+Veh0AVVoLaYEAojoP8C1btQ6O8KmBsPiSbwnvSfsHvPB4w7ucBhRyh0EQlROgw5/kKjwDNf4G6ke8yngrrkaYmDr+hIk35CoXPlOKJTAZxQSCHhiK9xV9aFdKN3BNNOJ5w7nTs60tR1PIdCZ2pp52VHXC3lBMh1SqEGBjHPvJe056gj6UsFt6HPdMAH5s9K73zQ9I6Tnlp6CYVqGSCf/hK4+pQTq6OJg4KQF+AVdzV2Yt2jjlDjP1ux2cLzFUZTj3A8hkLn6JXn1yEReRofSD0gT7wb7WLtjnVGHTkHpo3YbIxrBccKjlDoskKucLQiA+lPzAPw7O6OdoNdWGfUCXSBtxhyKnh+g5GEU0sbGqHQKb1tGJYBlFY854EgyL+8GO5CO8HOxm6sA+oIOsEsDBffqODYaZ+OfTpMD6HQWdrLKQ0T8JWFhqIJzAPviHuDdjV2ZZ1RB9ALjgXmzd7jDD/S/qFG+pqGnUKhn+iBJkUojToaLAwIe+Q94f5utJewo7Ej68nWkXTkfIov489AP5PTPA0+zfmY21eh0KgEE4GHh2DlwsFHAQAvuCvtYO0edjV29HVgnUh3/vxwPeLOAnGB8awcIrsKhXLNGY+5Xs95QqJ8PABzHn5kHnh3tDtrB9idsad7U2adSDeY9eCpsueZwV2r7+lInxme+15OoVCtmcwzZgYpqoOCsWP6EXjAHdw90Y53qWbtBjsbO7KebF1QL3Cm06yJdT9jlBXjNQ1/QvEpFCrUu6t+vc4B8rEAmOX0E6CKO3q7WbvBTlmMJOyJdUad4B6U0t0b3X2J8sdHOgo9PcGUBkyhEIphIELwYK1pAph8LHj6e3Z/wZ1p50SG8pgbn7KzsaccZg+oK+gDCcea4e6N7g+Hdv4feYYRCv1IT8/PRE4WExYEAr/aPvGutIu1Ux6T7lARdjV2TGI2zDom2y4d6UvTZr4rujOwv56/vvQj2tIIhTIxGIUSRIkeHwQV/Agj8Q7unmgvrL2GHZMY9nVCvfDrD8k8GGTgFnQUHY4H067SN4xv/IRCA9p9IyeAS6bDzthKpJG2RwqTFAxA/pp4v0bazdqHYSfWGfXCs51tM+nHLX5LZZ1x38kwzr9tootQqME5kQFnYl5QJ6CYdcOdgUfchfaUyoC1D8LedZTFJGNnX/eoU9b95HMTJn0rpAPqauye853EKYNunAfvoYx0vVJ3d/Z+8N5+VNq3Ge2QzaC1b+DxI+Qxbdg/4fZ0442dWLc7BYe6ZNyKumd9dyh8fWesh7OHTno7o54lM4ec92OWyhydtc+asN82nV1gtyTm+Snz9crYt01nrzj3pLfiOfQ/t/WdT9kbeXuGepbFHC1td87+yrDfD+bslsb0RcpON8HFvamzdkvZd2buyrsDPjtCoTx/cfeombET621nB9iJ9fWUnL28QeU71LU+hDHuFXez9/phzO7QeBKzC7xDU4DftY39MJTDoK9Lyi6wjz6NyZ6zu/dJ/Oq2krzcGnvOrnGhj9jtcvu1jSfuoS8/CIniYXv1tql6zN54zr5qP2fP36Bu9rJYYKbvlXgZV/0a1cVA/TRen+M82Q1uvEkNTXt7ys9F+Jax8Qb1w1bU9PIGdT72BvXU2pjB9bi6irGIgew3QGthDK16gGiIpTEhvzYGgfjQ1TFea8d2c21MP2VtzPCqx2LRY75GvV726NaEzZr+H2sdQ+csg2xxravF3YrfYtXjamDV4/B69odsb4Yuma83G7UX/orzZxexkj00bU27QqMI5dt/5oJ4vqB9bD37lJ1KugHK9gaWW/Aa2zlm/heBj4LYqRQa36k0L7ZoCNSzYqOS36pEG5XGdypN2YO69xtc29uqiyiY2xanYkfhtW0zDIXG9qEaN5JdtPZku53Y+/3pPagj1QVaVT2stMCD1hfgKgMaAdmmcPndEAqdridwnW13tu3PVYGBPeKt9QVcdYHHkeoCi2bdGKuB9DasRuWjfVYzBn4U/o3gym5w0YIoKRNqFYmRCyOmVF43hsopcbEkrJPUrhszXBFMC4LVFcHa4npKqywWaJKIeMvLPoVCw0XB+PxWFwdbYTmwt6o4nlQEex+oCCbWPlbr0RcqxWqTUgGyVebRRUUodPFqj4JYWfDxNav1WLBusOdVfJdVFd/091/k896q4Gs1VduFfF1J1KjoG5pUvZeReR2u4fviSvm6Mr6uii+zvrAqvpzHtOqzj8nXZu/qQu3D9dijPHvoRGn2F/XUkpbPrDC7VWdnyLVA+1B99qrzhnaPmdwehnsgVO0Lou9G6A904ei6svdG1XhDSF8M95nJeyqdbKR0r81tfI8buaBQuY+OSqFLNVVSsvyF76zkQB/oqZThzt3ysPHeYqRDnmtTZh3yrK0Zf+7sD0KhczvkOYQyohyM2jAvsbsY65ZX9UFd/KAP6p2c7vwVd6ksm1ZG787Q+V1P2X4BOYKNDfzOMETKF+N9UH/V4XpRNB1e6BdFM1b+hEKT+lkLLbd5P1+meZGBVzZX/0Fjdwf+dN3+pg98KPRDjbF49S/pJhT6tS5B4j8UFQCShr1YqAAAAABJRU5ErkJggg==";var fu="PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MCA1MCIgd2lkdGg9IjEwMCIgaGVpZ2h0PSIxMDAiIGZpbGw9IiNmZmYiPjxwYXRoIGQ9Ik0xNyA1Yy0uOCAwLTEuNC41LTEuOCAxLS40LjUtLjcgMS0xLjEgMS41cy0uNiAxLS44IDEuM2wtLjMuM0gzYy0xLjYgMC0zIDEuNC0zIDN2MjdjMCAxLjYgMS40IDMgMyAzaDQ0YzEuNiAwIDMtMS40IDMtM3YtMjdjMC0xLjYtMS40LTMtMy0zSDM3bC0uMy0uM2MtLjItLjMtLjUtLjctLjgtMS4ycy0uNi0xLTEuMS0xLjVjLS40LS41LTEtMS0xLjgtMXptMCAyaDE2Yy0uMSAwIC4xIDAgLjMuM3MuNS44LjggMS4zLjcgMSAxLjEgMS41IDEgMSAxLjggMWgxMGMuNiAwIDEgLjQgMSAxdjI3YzAgLjYtLjQgMS0xIDFIM2MtLjYgMC0xLS40LTEtMXYtMjdjMC0uNi40LTEgMS0xaDEwYy44IDAgMS40LS41IDEuOC0xcy44LTEgMS4xLTEuNS42LTEgLjgtMS4yLjQtLjMuMy0uM3ptOCA0Yy03LjIgMC0xMyA1LjgtMTMgMTNzNS44IDEzIDEzIDEzIDEzLTUuOCAxMy0xMy01LjgtMTMtMTMtMTN6bTAgMmM2LjEgMCAxMSA0LjkgMTEgMTFzLTQuOSAxMS0xMSAxMS0xMS00LjktMTEtMTEgNC45LTExIDExLTExek04IDE0Yy0xLjEgMC0yIC45LTIgMnMuOSAyIDIgMmgxYzEuMSAwIDItLjkgMi0ycy0uOS0yLTItMnptMTcgMWMtNSAwLTkgNC05IDlzNCA5IDkgOSA5LTQgOS05LTQtOS05LTl6bTAgMmMzLjkgMCA3IDMuMSA3IDdzLTMuMSA3LTcgNy03LTMuMS03LTcgMy4xLTcgNy03eiIvPjwvc3ZnPgo=";var hu="PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNzIgMTcyIiB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgZmlsbD0iI2ZmZiI+PHBhdGggZD0iTTEwLjMgMTMuOEM0LjcgMTMuOCAwIDE4LjQgMCAyNHYxMjdjLS4yLjctLjEgMS42LjIgMi4zIDEgNC43IDUuMiA4LjMgMTAuMSA4LjNoMTM0LjJjNS4xIDAgOS4zLTMuOSAxMC04LjhsLjItLjd2LS4ybC4xLS41di0uMWwxNy05Mi4zLjItLjN2LS4zYzAtNS43LTQuNy0xMC4zLTEwLjMtMTAuM1YzNy44YzAtNS42LTQuNy0xMC4zLTEwLjMtMTAuM0g2MmE3IDcgMCAwIDEtMS0xYy0uOS0xLTEuOS0yLjUtMy00LjItMS0xLjgtMi4yLTMuNi0zLjYtNS4ycy0zLjQtMy4zLTYuMi0zLjN6bTAgNi44aDM3LjljLS4zIDAgLjIgMCAxIDEgLjkgMSAxLjkgMi42IDMgNC4zYTQxIDQxIDAgMCAwIDMuNiA1LjJjMS40IDEuNiAzLjMgMy4zIDYuMSAzLjNoODkuNWMxLjkgMCAzLjQgMS41IDMuNCAzLjR2MTAuNEgyNy41Yy01LjQgMC05LjcgNC4zLTEwIDkuNmgtLjJsLS4xLjctMTAuMyA1NS43VjI0YzAtMiAxLjUtMy41IDMuNC0zLjV6TTI3LjUgNTVoMTM0LjJjMiAwIDMuNCAxLjUgMy40IDMuNWwtMTYuOSA5MS4ydi4zbC0uMi40VjE1MWwtLjIuNnYuN2EzLjQgMy40IDAgMCAxLTMuMyAyLjRIMTAuM2MtMiAwLTMuNC0xLjUtMy40LTMuNGwxNy05Mi4zLjItLjN2LS4zYzAtMiAxLjUtMy41IDMuNC0zLjV6Ii8+PC9zdmc+Cg==";var vu="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NCA2NCIgd2lkdGg9IjEwMCIgaGVpZ2h0PSIxMDAiIGZpbGw9IiNmZmYiPjxwYXRoIGQ9Ik0yNi4xNCA4YTQuOTkgNC45OSAwIDAgMC00LjE2IDIuMjI3bC0yLjIxOCAzLjMyOGExLjAwMyAxLjAwMyAwIDAgMS0uODMyLjQ0NUgxOHYtMmMwLTEuMTAyLS44OTgtMi0yLTJoLTZjLTEuMTAyIDAtMiAuODk4LTIgMnYySDVjLTEuNjUyIDAtMyAxLjM0OC0zIDN2MzZjMCAxLjY1MiAxLjM0OCAzIDMgM2g1NGMxLjY1MiAwIDMtMS4zNDggMy0zVjE3YzAtMS42NTItMS4zNDgtMy0zLTNoLTN2LTFjMC0xLjEwMi0uODk4LTItMi0yaC0yYy0xLjEwMiAwLTIgLjg5OC0yIDJ2MWgtNC45MzhhLjk5Ny45OTcgMCAwIDEtLjgyOC0uNDQxbC0yLjI1NC0zLjM1MkE1LjAwMSA1LjAwMSAwIDAgMCAzNy44MjggOHptMCAyaDExLjY4OGMxIDAgMS45MzQuNDk2IDIuNDkyIDEuMzI0bDIuMjU0IDMuMzUyQTIuOTk4IDIuOTk4IDAgMCAwIDQ1LjA2MyAxNkg1OWMuNTUgMCAxIC40NSAxIDF2MzZjMCAuNTUtLjQ1IDEtMSAxSDVjLS41NSAwLTEtLjQ1LTEtMVYxN2MwLS41NS40NS0xIDEtMWgxMy45M2MxLjAwNCAwIDEuOTM3LS41IDIuNDk2LTEuMzM2bDIuMjE5LTMuMzI4QTIuOTk4IDIuOTk4IDAgMCAxIDI2LjE0IDEwek0xMCAxMmg2djJoLTZ6bTQyIDFoMnYxaC0yem0tMjAgNWMtNS4yOSAwLTEwLjI0NiAyLjgzNi0xMi45MzQgNy4zOThhLjk5Ni45OTYgMCAwIDAgLjM1NiAxLjM2OC45OTcuOTk3IDAgMCAwIDEuMzY3LS4zNTZBMTMuMDY1IDEzLjA2NSAwIDAgMSAzMiAyMGM3LjE2OCAwIDEzIDUuODMyIDEzIDEzIDAgLjE4OC0uMDE2LjM3NS0uMDIzLjU2M2wtMi4yNy0yLjI3YTEgMSAwIDEgMC0xLjQxNCAxLjQxNGw0IDRjLjE5NS4xOTUuNDUuMjkzLjcwNy4yOTNhLjk5My45OTMgMCAwIDAgLjcwNy0uMjkzbDQtNGExIDEgMCAxIDAtMS40MTQtMS40MTRsLTIuMzIgMi4zMTZjLjAxMS0uMjAzLjAyNy0uNDA2LjAyNy0uNjA5IDAtOC4yNy02LjczLTE1LTE1LTE1ek0xOCAyOWExIDEgMCAwIDAtLjcwNy4yOTNsLTQgNGExIDEgMCAxIDAgMS40MTQgMS40MTRsMi4zMTMtMi4zMTZjLS4wMDguMjAzLS4wMi40MDYtLjAyLjYwOSAwIDguMjcgNi43MyAxNSAxNSAxNSA1LjM2NyAwIDEwLjM2LTIuODk4IDEzLjAyNy03LjU2M2EuOTk5Ljk5OSAwIDEgMC0xLjczNC0uOTkyQTEzLjA0MiAxMy4wNDIgMCAwIDEgMzIgNDZjLTcuMTY4IDAtMTMtNS44MzItMTMtMTMgMC0uMTg4LjAxMi0uMzc5LjAyLS41NjZsMi4yNzMgMi4yNzNjLjE5NS4xOTUuNDUuMjkzLjcwNy4yOTNhMSAxIDAgMCAwIC43MDctMS43MDdsLTQtNEExIDEgMCAwIDAgMTggMjl6bTkgMmMtLjU1NSAwLTEgLjQ0NS0xIDF2MmMwIC41NTUuNDQ1IDEgMSAxIC41NTUgMCAxLS40NDUgMS0xdi0yYzAtLjU1NS0uNDQ1LTEtMS0xem01IDBjLS41NTUgMC0xIC40NDUtMSAxdjJjMCAuNTU1LjQ0NSAxIDEgMSAuNTU1IDAgMS0uNDQ1IDEtMXYtMmMwLS41NTUtLjQ0NS0xLTEtMXptNSAwYy0uNTU1IDAtMSAuNDQ1LTEgMXYyYzAgLjU1NS40NDUgMSAxIDEgLjU1NSAwIDEtLjQ0NSAxLTF2LTJjMC0uNTU1LS40NDUtMS0xLTF6Ii8+PC9zdmc+Cg==";var gu="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NCA2NCIgd2lkdGg9IjEwMCIgaGVpZ2h0PSIxMDAiIGZpbGw9IiNmZmYiPjxwYXRoIGQ9Ik0zMC45MzggMWMtLjQ0Ni4wMi0xIC4yMy0xLjMxMy42NTZhMS4zMDIgMS4zMDIgMCAwIDAtLjA2My4wOTRsLTYuNzggMTIuMDYzLS4wNjMuMDkzYy0uNTU1Ljc4NS0uNzI3IDEuNzMtLjU5NCAyLjY1NmwtMjAuNSAyMi41NjMtLjAzMS4wMzFjLTEuMDcgMS4yMTktLjY2NCAzLjAxMi40NjggNC4xNTdoLjAzMmw0LjU5NCA0LjU5M2MuNTcuNTcgMS4yNjUuOTUgMiAxLjA2My43MzQuMTEzIDEuNTQ2LS4wNTUgMi4xNTYtLjU5NGguMDMxbDIyLjU2My0yMC41Yy45My4xMjkgMS44Ny0uMDQzIDIuNjU2LS41OTQuMDItLjAxNS4wNDMtLjAxNS4wNjItLjAzMWwuMDYzLS4wMzEgMTIuMDMxLTYuNzgyYy4wMzEtLjAxOS4wNjMtLjAzOS4wOTQtLjA2Mi40MjItLjMxMy42MzYtLjg2Ny42NTYtMS4zMTMuMDItLjQ0NS0uMDk4LS44NC0uMjUtMS4yNS0uMzA1LS44Mi0uODI4LTEuNjktMS41MzEtMi42ODctMS40MDctMS45OTItMy41MTYtNC4zOS01Ljc1LTYuNjI1LTIuMjM1LTIuMjM0LTQuNjAyLTQuMzEzLTYuNTk0LTUuNzE5LS45OTYtLjcwMy0xLjg2Ny0xLjIyNi0yLjY4OC0xLjUzMS0uNDEtLjE1Mi0uODA0LS4yNy0xLjI1LS4yNXptLjIxOCAyLjAzMWMuMDc4LjAxMi4xNTMuMDI0LjM0NC4wOTQuNTIuMTkxIDEuMy42MzMgMi4yMTkgMS4yODEgMS44MzYgMS4yOTcgNC4xNjggMy4zNTYgNi4zNDMgNS41MzIgMi4xNzYgMi4xNzUgNC4yMzUgNC40NzYgNS41MzIgNi4zMTIuNjQ4LjkxOCAxLjA5IDEuNzMgMS4yODEgMi4yNS4wNy4xOTEuMDgyLjI2Ni4wOTQuMzQ0TDM1LjEyNSAyNS41M2EuOTQ5Ljk0OSAwIDAgMC0uMTI1LjA5NGMtLjMxNi4yNDItLjg2LjMyOC0xLjQzOC4yMTlhMS4wNTYgMS4wNTYgMCAwIDAtLjE4Ny0uMDYzIDMuMTEzIDMuMTEzIDAgMCAxLTEuNDM4LS44MTJsLTYuOTA2LTYuOTA3Yy0uOTc2LS45ODQtMS4xMjktMi40MzctLjY1Ni0zLjA2MmEuNTMyLjUzMiAwIDAgMCAuMDk0LS4wOTR6bS04LjIxOCAxNS41OTRjLjE5OS4yOTcuNDMuNTg2LjY4Ny44NDRsNi45MDYgNi45MDZjLjI2Mi4yNjIuNTQzLjQ4OC44NDQuNjg4TDkuNTMxIDQ2LjkwNmMtLjA4Ni4wNzgtLjI1NC4xMzctLjUzMS4wOTQtLjI3Ny0uMDQzLS42MjktLjIyMy0uOTA2LS41TDMuNSA0MS45MDZjLS41NTktLjU2Ni0uNTYzLTEuMjYxLS40MDYtMS40Mzd6bS0yLjg3NSA4LjMxM2MtLjc3IDAtMS41NDMuMjkyLTIuMTI1Ljg3NWwtMi4xMjUgMi4xMjVhMy4wMjMgMy4wMjMgMCAwIDAgMCA0LjI1IDMuMDIzIDMuMDIzIDAgMCAwIDQuMjUgMGwyLjEyNS0yLjEyNmEzLjAyMyAzLjAyMyAwIDAgMCAwLTQuMjUgMy4wMDIgMy4wMDIgMCAwIDAtMi4xMjUtLjg3NXptMCAyYy4yNTMgMCAuNTE5LjA4Mi43MTguMjguMzk5LjQuMzk5IDEuMDQgMCAxLjQzOGwtMi4xMjUgMi4xMjVhMS4wMTQgMS4wMTQgMCAwIDEtMS40MzcgMCAxLjAxNCAxLjAxNCAwIDAgMSAwLTEuNDM3Yy40MjItLjQyMiAxLjY5OS0xLjY5NiAyLjEyNS0yLjEyNS4xOTktLjIuNDY1LS4yODIuNzE4LS4yODJ6Ii8+PC9zdmc+Cg==";e.Camera=void 0;(function(e){(function(e){e["FRONT"]="front";e["BACK"]="back"})(e.Type||(e.Type={}))})(e.Camera||(e.Camera={}));var mu=Z;mu(mu.S,"Array",{isArray:Va});var pu=h.exports.Array.isArray;var yu=pu;function bu(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function Eu(e){if(yu(e))return bu(e)}function Su(e){if(typeof Ko!=="undefined"&&e[$o]!=null||e["@@iterator"]!=null)return ws(e)}function Au(e,t){if(!e)return;if(typeof e==="string")return bu(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return ws(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bu(e,t)}function _u(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function wu(e){return Eu(e)||Su(e)||Au(e)||_u()}var Cu=h.exports;var Tu=Cu.JSON||(Cu.JSON={stringify:JSON.stringify});var Nu=function e(t){return Tu.stringify.apply(Tu,arguments)};var Iu=Nu;e.ImageSettings=void 0;(function(e){(function(e){e[e["GRAY_8U"]=0]="GRAY_8U";e[e["RGB_8U"]=1]="RGB_8U";e[e["RGBA_8U"]=2]="RGBA_8U"})(e.Format||(e.Format={}))})(e.ImageSettings||(e.ImageSettings={}));
/**
	 * A data string parser.
	 *
	 * Parsers are capable of parsing one particular data format, which is passed to them during construction.
	 *
	 * The parser is created through [[BarcodePicker.createParserForFormat]] or [[Scanner.createParserForFormat]].
	 *
	 * Note that you need to have a valid license key with the parsing feature enabled to use the parser functionalities.
	 *
	 * For documentation on the available formats, check the official parser library documentation here:
	 * https://docs.scandit.com/parser/formats.html.
	 */e.Parser=function(){function e(t,r){Ui(this,e);Fi(this,"scanner",void 0);Fi(this,"dataFormat",void 0);Fi(this,"options",void 0);this.scanner=t;this.dataFormat=r}Bi(e,[{key:"setOptions",value:function e(t){this.options=t}},{key:"parseRawData",value:function e(t){return this.scanner.parse(this.dataFormat,t,this.options)}
/**
	     * Process the given string data with the parser, retrieving the result as a [[ParserResult]] object.
	     *
	     * Multiple requests done without waiting for previous results will be queued and handled in order.
	     *
	     * If parsing of the data fails the returned promise is rejected with a `ScanditEngineError` error.
	     *
	     * Note that you should use [[parseRawData]] whenever possible: some codes, such as those found on driving licenses,
	     * might have non-printable characters and will need to use [[Barcode.rawData]] information to be parsed correctly.
	     *
	     * @param data The string data to be parsed.
	     * @returns A promise resolving to the [[ParserResult]] object.
	     */},{key:"parseString",value:function e(t){return this.scanner.parse(this.dataFormat,t,this.options)}}]);return e}();(function(e){(function(e){e[e["GS1_AI"]=1]="GS1_AI";e[e["HIBC"]=2]="HIBC";
/**
	     * AAMVA Driver License/Identification (DL/ID).
	     *
	     * See: http://www.aamva.org.
	     */e[e["DLID"]=3]="DLID";e[e["MRTD"]=4]="MRTD";e[e["SWISSQR"]=5]="SWISSQR";e[e["VIN"]=6]="VIN";e[e["US_USID"]=7]="US_USID"})(e.DataFormat||(e.DataFormat={}))})(e.Parser||(e.Parser={}));e.RecognizedText=void 0;(function(e){function t(e){return{location:{topLeft:{x:e.location[0][0],y:e.location[0][1]},topRight:{x:e.location[1][0],y:e.location[1][1]},bottomRight:{x:e.location[2][0],y:e.location[2][1]},bottomLeft:{x:e.location[3][0],y:e.location[3][1]}},value:e.value}}e.createFromWASMResult=t})(e.RecognizedText||(e.RecognizedText={}));var ku=function(){function t(r,n,i,a){var o=this;Ui(this,t);Fi(this,"barcodes",void 0);Fi(this,"texts",void 0);Fi(this,"imageData",void 0);Fi(this,"imageSettings",void 0);Fi(this,"rejectedCodes",void 0);Fi(this,"rejectedTexts",void 0);this.barcodes=[];r.forEach(function(t){o.barcodes.push(e.Barcode.createFromWASMResult(t))});this.texts=[];n.forEach(function(t){o.texts.push(e.RecognizedText.createFromWASMResult(t))});this.imageData=i;this.imageSettings=a;this.rejectedCodes=new xc;this.rejectedTexts=new xc}Bi(t,[{key:"rejectCode",value:function e(t){this.rejectedCodes.add(t)}},{key:"rejectText",value:function e(t){this.rejectedTexts.add(t)}}]);return t}();var Lu=_;var xu=Ve;var Mu=ne;var Ou=Qi.f;var Vu=function(e){return function(t){var r=Mu(t);var n=xu(r);var i=n.length;var a=0;var o=[];var s;while(i>a){s=n[a++];if(!Lu||Ou.call(r,s)){o.push(e?[s,r[s]]:r[s])}}return o}};var Ru=Z;var Du=Vu(false);Ru(Ru.S,"Object",{values:function e(t){return Du(t)}});var Pu=h.exports.Object.values;var Fu=Pu;e.SymbologySettings=function(){function e(t){var r,n,i;var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;Ui(this,e);Fi(this,"symbology",void 0);Fi(this,"enabled",void 0);Fi(this,"colorInvertedEnabled",void 0);Fi(this,"activeSymbolCounts",void 0);Fi(this,"extensions",void 0);Fi(this,"checksums",void 0);this.symbology=t;this.enabled=a;this.colorInvertedEnabled=false;this.activeSymbolCounts=(r=e.defaultActiveSymbolCounts[t])!==null&&r!==void 0?r:[];this.extensions=new xc((n=e.defaultExtensions[t])!==null&&n!==void 0?n:[]);this.checksums=new xc((i=e.defaultChecksums[t])!==null&&i!==void 0?i:[])}Bi(e,[{key:"isEnabled",value:function e(){return this.enabled}},{key:"setEnabled",value:function e(t){this.enabled=t;return this}},{key:"isColorInvertedEnabled",value:function e(){return this.colorInvertedEnabled}},{key:"setColorInvertedEnabled",value:function e(t){this.colorInvertedEnabled=t;return this}},{key:"getActiveSymbolCounts",value:function e(){return this.activeSymbolCounts}},{key:"setActiveSymbolCounts",value:function t(r){this.activeSymbolCounts=r;if(this.activeSymbolCounts.length===0){var n;this.activeSymbolCounts=(n=e.defaultActiveSymbolCounts[this.symbology])!==null&&n!==void 0?n:[]}return this}},{key:"setActiveSymbolCountsRange",value:function t(r,n){this.activeSymbolCounts=e.getNumberRange(r,n);if(this.activeSymbolCounts.length===0){var i;this.activeSymbolCounts=(i=e.defaultActiveSymbolCounts[this.symbology])!==null&&i!==void 0?i:[]}return this}},{key:"getEnabledExtensions",value:function e(){return this.extensions}},{key:"enableExtensions",value:function e(t){var r=this;if(typeof t==="object"){this.extensions=new xc([].concat(wu(this.extensions),wu(ws(t).filter(function(e){return r.isValidExtension(e)}))))}else if(this.isValidExtension(t)){this.extensions.add(t)}return this}},{key:"disableExtensions",value:function e(t){if(typeof t==="object"){this.extensions=new xc(wu(this.extensions).filter(function(e){return t instanceof Array?!t.includes(e):!t.has(e)}))}else if(this.isValidExtension(t)){this.extensions.delete(t)}return this}},{key:"getEnabledChecksums",value:function e(){return this.checksums}},{key:"enableChecksums",value:function e(t){var r=this;if(typeof t==="object"){this.checksums=new xc([].concat(wu(this.checksums),wu(ws(t).filter(function(e){return r.isValidChecksum(e)}))))}else if(this.isValidChecksum(t)){this.checksums.add(t)}return this}},{key:"disableChecksums",value:function e(t){if(typeof t==="object"){this.checksums=new xc(wu(this.checksums).filter(function(e){return t instanceof Array?!t.includes(e):!t.has(e)}))}else if(this.isValidChecksum(t)){this.checksums.delete(t)}return this}},{key:"toJSON",value:function e(){return{enabled:this.enabled,colorInvertedEnabled:this.colorInvertedEnabled,activeSymbolCounts:this.activeSymbolCounts.length===0?undefined:this.activeSymbolCounts,extensions:ws(this.extensions),checksums:ws(this.checksums)}}},{key:"isValidExtension",value:function t(r){return r in e.Extension||Fu(e.Extension).includes(r.toLowerCase())}},{key:"isValidChecksum",value:function t(r){return r in e.Checksum||Fu(e.Checksum).includes(r.toLowerCase())}}]);return e}();(function(t){function r(e,t){return ws({length:t-e+1},function(t,r){return r+e})}t.getNumberRange=r;var n;(function(e){e["DIRECT_PART_MARKING_MODE"]="direct_part_marking_mode";e["FULL_ASCII"]="full_ascii";e["RELAXED_SHARP_QUIET_ZONE_CHECK"]="relaxed_sharp_quiet_zone_check";e["REMOVE_LEADING_ZERO"]="remove_leading_zero";e["REMOVE_LEADING_UPCA_ZERO"]="remove_leading_upca_zero";e["RETURN_AS_UPCA"]="return_as_upca";e["STRICT"]="strict";e["STRIP_LEADING_FNC1"]="strip_leading_fnc1";e["DEBUG_CONTROL_CHARACTERS"]="debug_control_characters";e["GUESS_ENCODING"]="guess_encoding";e["MIRRORED"]="mirrored";e["NO_BLURRY_DECODING"]="no_blurry_decoding";e["USE_UTF8_AS_DEFAULT_ENCODING"]="use_utf8_as_default_encoding"})(n=t.Extension||(t.Extension={}));var i;(function(e){e["MOD_10"]="mod10";e["MOD_11"]="mod11";e["MOD_16"]="mod16";e["MOD_43"]="mod43";e["MOD_47"]="mod47";e["MOD_103"]="mod103";e["MOD_1010"]="mod1010";e["MOD_1110"]="mod1110"})(i=t.Checksum||(t.Checksum={}));t.defaultActiveSymbolCounts={[e.Barcode.Symbology.CODABAR]:r(7,20),[e.Barcode.Symbology.CODE11]:r(7,20),[e.Barcode.Symbology.CODE128]:r(6,40),[e.Barcode.Symbology.CODE25]:r(7,20),[e.Barcode.Symbology.CODE32]:[8],[e.Barcode.Symbology.CODE39]:r(6,40),[e.Barcode.Symbology.CODE93]:r(6,40),[e.Barcode.Symbology.EAN13]:[12],[e.Barcode.Symbology.EAN8]:[8],[e.Barcode.Symbology.FIVE_DIGIT_ADD_ON]:[5],[e.Barcode.Symbology.GS1_DATABAR_EXPANDED]:r(1,11),[e.Barcode.Symbology.GS1_DATABAR_LIMITED]:[1],[e.Barcode.Symbology.GS1_DATABAR]:[2],[e.Barcode.Symbology.IATA_2_OF_5]:r(7,20),[e.Barcode.Symbology.INTERLEAVED_2_OF_5]:r(6,40),[e.Barcode.Symbology.KIX]:r(7,24),[e.Barcode.Symbology.LAPA4SC]:[16],[e.Barcode.Symbology.MSI_PLESSEY]:r(6,32),[e.Barcode.Symbology.RM4SCC]:r(7,24),[e.Barcode.Symbology.TWO_DIGIT_ADD_ON]:[2],[e.Barcode.Symbology.UPCA]:[12],[e.Barcode.Symbology.UPCE]:[6]};t.defaultExtensions={[e.Barcode.Symbology.CODE128]:[n.STRIP_LEADING_FNC1],[e.Barcode.Symbology.DATA_MATRIX]:[n.STRIP_LEADING_FNC1]};t.defaultChecksums={[e.Barcode.Symbology.MSI_PLESSEY]:[i.MOD_10],[e.Barcode.Symbology.CODE11]:[i.MOD_11]}})(e.SymbologySettings||(e.SymbologySettings={}));var ju=function(){function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},r=t.recognizer,n=r===void 0?"mrzFullScreen":r,i=t.regex,a=t.characterWhitelist,o=t.textDuplicateFilter,s=o===void 0?0:o;Ui(this,e);Fi(this,"properties",void 0);Fi(this,"recognizer",void 0);Fi(this,"regex",void 0);Fi(this,"characterWhitelist",void 0);Fi(this,"textDuplicateFilter",void 0);this.recognizer=n;this.regex=i instanceof RegExp?i.source:i;this.characterWhitelist=a;this.textDuplicateFilter=s;this.properties=new Fc}Bi(e,[{key:"toJSONString",value:function e(){var t={};this.properties.forEach(function(e,r){t[r]=e});return Iu({recognizer:this.recognizer,regex:this.regex,characterWhitelist:this.characterWhitelist,duplicateFilter:this.textDuplicateFilter,properties:t})}},{key:"getRegex",value:function e(){return this.regex}},{key:"setRegex",value:function e(t){this.regex=t instanceof RegExp?t.source:t;return this}},{key:"getCharacterWhitelist",value:function e(){return this.characterWhitelist}},{key:"setCharacterWhitelist",value:function e(t){this.characterWhitelist=t;return this}},{key:"getTextDuplicateFilter",value:function e(){return this.textDuplicateFilter}},{key:"setTextDuplicateFilter",value:function e(t){this.textDuplicateFilter=t;return this}},{key:"getProperty",value:function e(t){if(this.properties.has(t)){return this.properties.get(t)}return-1}},{key:"setProperty",value:function e(t,r){this.properties.set(t,r);return this}}]);return e}();function Bu(e,t){var r=typeof Ko!=="undefined"&&e[$o]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Uu(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var i=function e(){};return{s:i,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=true,o=false,s;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();a=t.done;return t},e:function e(t){o=true;s=t},f:function e(){try{if(!a&&r.return!=null)r.return()}finally{if(o)throw s}}}}function Uu(e,t){if(!e)return;if(typeof e==="string")return Gu(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return ws(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gu(e,t)}function Gu(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}e.ScanSettings=function(){function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},r=e.textRecognitionSettings,n=r===void 0?new ju:r,i=e.recognitionMode,a=i===void 0?t.RecognitionMode.CODE:i,o=e.enabledSymbologies,s=o===void 0?[]:o,c=e.codeDuplicateFilter,u=c===void 0?0:c,l=e.maxNumberOfCodesPerFrame,d=l===void 0?1:l,f=e.searchArea,h=f===void 0?{x:0,y:0,width:1,height:1}:f,v=e.gpuAcceleration,g=v===void 0?true:v,m=e.blurryRecognition,p=m===void 0?true:m,y=e.codeDirectionHint,b=y===void 0?t.CodeDirection.LEFT_TO_RIGHT:y,E=e.deviceName;Ui(this,t);Fi(this,"symbologySettings",void 0);Fi(this,"properties",void 0);Fi(this,"textRecognitionSettings",void 0);Fi(this,"recognitionMode",void 0);Fi(this,"codeDuplicateFilter",void 0);Fi(this,"maxNumberOfCodesPerFrame",void 0);Fi(this,"baseSearchArea",void 0);Fi(this,"searchArea",void 0);Fi(this,"gpuAcceleration",void 0);Fi(this,"blurryRecognition",void 0);Fi(this,"codeDirectionHint",void 0);Fi(this,"deviceName",void 0);this.symbologySettings=new Fc;this.textRecognitionSettings=n;this.setRecognitionMode(a);this.enableSymbologies(s);this.codeDuplicateFilter=u;this.maxNumberOfCodesPerFrame=d;this.baseSearchArea={x:0,y:0,width:1,height:1};this.searchArea=h;this.gpuAcceleration=g;this.blurryRecognition=p;this.codeDirectionHint=b;this.deviceName=E;this.properties=new Fc([["advanced_localization",0]])}Bi(t,[{key:"toJSONString",value:function t(){var r={};this.symbologySettings.forEach(function(t,n){r[e.Barcode.Symbology.toJSONName(n)]=t});var n={};this.properties.forEach(function(e,t){n[t]=e});var i={x:Math.max(0,Math.min(1,this.baseSearchArea.x+this.searchArea.x*this.baseSearchArea.width)),y:Math.max(0,Math.min(1,this.baseSearchArea.y+this.searchArea.y*this.baseSearchArea.height)),width:Math.max(0,Math.min(1,this.baseSearchArea.width*this.searchArea.width)),height:Math.max(0,Math.min(1,this.baseSearchArea.height*this.searchArea.height))};var a=Math.round(i.x*100)===0&&Math.round(i.y*100)===0&&Math.round(i.width*100)===100&&Math.round(i.height*100)===100;return Iu({textRecognitionSettings:this.textRecognitionSettings.toJSONString(),recognitionMode:this.recognitionMode,symbologies:r,codeDuplicateFilter:this.codeDuplicateFilter,maxNumberOfCodesPerFrame:this.maxNumberOfCodesPerFrame,searchArea:i,codeLocation1d:a?undefined:{area:{x:i.x,y:i.y+i.height*.75/2,width:i.width,height:i.height*.25}},codeLocation2d:a?undefined:{area:i},gpuAcceleration:this.gpuAcceleration,blurryRecognition:this.blurryRecognition,codeDirectionHint:this.codeDirectionHint,properties:n})}},{key:"getTextRecognitionSettings",value:function e(){return this.textRecognitionSettings}},{key:"setTextRecognitionSettings",value:function e(t){this.textRecognitionSettings=t;return this}},{key:"getRecognitionMode",value:function e(){return this.recognitionMode}},{key:"setRecognitionMode",value:function t(r){this.recognitionMode=r;if(r.includes("text")&&!e.textRecognition){e.Logger.log(e.Logger.Level.WARN,"The library has not been configured to load text recognition (ScanditSDK.configure() - loadTextRecognition option): ScanSettings' recognition mode for text will be ignored")}return this}},{key:"getSymbologySettings",value:function t(r){if(this.symbologySettings.has(r)){return this.symbologySettings.get(r)}else{if(r in e.Barcode.Symbology||Fu(e.Barcode.Symbology).includes(r)){this.symbologySettings.set(r,new e.SymbologySettings(r));return this.symbologySettings.get(r)}else{throw new TypeError('Invalid symbology "'.concat(r,'"'))}}}},{key:"isSymbologyEnabled",value:function e(t){return this.symbologySettings.has(t)&&this.symbologySettings.get(t).isEnabled()}},{key:"enableSymbologies",value:function e(t){return this.setSymbologiesEnabled(t,true)}},{key:"disableSymbologies",value:function e(t){return this.setSymbologiesEnabled(t,false)}},{key:"getCodeDuplicateFilter",value:function e(){return this.codeDuplicateFilter}},{key:"setCodeDuplicateFilter",value:function e(t){this.codeDuplicateFilter=t;return this}},{key:"getMaxNumberOfCodesPerFrame",value:function e(){return this.maxNumberOfCodesPerFrame}},{key:"setMaxNumberOfCodesPerFrame",value:function e(t){this.maxNumberOfCodesPerFrame=t;return this}},{key:"getSearchArea",value:function e(){return this.searchArea}},{key:"setSearchArea",value:function e(t){this.searchArea=t;return this}},{key:"getBaseSearchArea",value:function e(){return this.baseSearchArea}},{key:"setBaseSearchArea",value:function e(t){this.baseSearchArea=t;return this}},{key:"isGpuAccelerationEnabled",value:function e(){return this.gpuAcceleration}},{key:"setGpuAccelerationEnabled",value:function e(t){this.gpuAcceleration=t;return this}},{key:"isBlurryRecognitionEnabled",value:function e(){return this.blurryRecognition}},{key:"setBlurryRecognitionEnabled",value:function e(t){this.blurryRecognition=t;return this}},{key:"getCodeDirectionHint",value:function e(){return this.codeDirectionHint}},{key:"setCodeDirectionHint",value:function e(t){this.codeDirectionHint=t;return this}},{key:"getDeviceName",value:function e(){return this.deviceName}},{key:"setDeviceName",value:function e(t){this.deviceName=t;return this}},{key:"getProperty",value:function e(t){if(this.properties.has(t)){return this.properties.get(t)}return-1}},{key:"setProperty",value:function e(t,r){this.properties.set(t,r);return this}},{key:"setSingleSymbologyEnabled",value:function t(r,n){if(r in e.Barcode.Symbology||Fu(e.Barcode.Symbology).includes(r)){if(this.symbologySettings.has(r)){this.symbologySettings.get(r).setEnabled(n)}else{this.symbologySettings.set(r,new e.SymbologySettings(r,n))}}else{throw new TypeError('Invalid symbology "'.concat(r,'"'))}}},{key:"setMultipleSymbologiesEnabled",value:function t(r,n){var i=Bu(r),a;try{for(i.s();!(a=i.n()).done;){var o=a.value;if(!(o in e.Barcode.Symbology||Fu(e.Barcode.Symbology).includes(o))){throw new TypeError('Invalid symbology "'.concat(o,'"'))}}}catch(e){i.e(e)}finally{i.f()}var s=Bu(r),c;try{for(s.s();!(c=s.n()).done;){var u=c.value;if(this.symbologySettings.has(u)){this.symbologySettings.get(u).setEnabled(n)}else{this.symbologySettings.set(u,new e.SymbologySettings(u,n))}}}catch(e){s.e(e)}finally{s.f()}}},{key:"setSymbologiesEnabled",value:function e(t,r){if(typeof t==="object"){this.setMultipleSymbologiesEnabled(t,r)}else{this.setSingleSymbologyEnabled(t,r)}return this}}]);return t}();(function(e){(function(e){e["CODE"]="code";e["TEXT"]="text";e["CODE_AND_TEXT"]="code-and-text"})(e.RecognitionMode||(e.RecognitionMode={}));(function(e){e["LEFT_TO_RIGHT"]="left-to-right";e["RIGHT_TO_LEFT"]="right-to-left";e["BOTTOM_TO_TOP"]="bottom-to-top";e["TOP_TO_BOTTOM"]="top-to-bottom";e["HORIZONTAL"]="horizontal";e["VERTICAL"]="vertical";e["NONE"]="none"})(e.CodeDirection||(e.CodeDirection={}))})(e.ScanSettings||(e.ScanSettings={}));var zu=function(){function t(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=r.scanSettings,i=n===void 0?new e.ScanSettings:n,a=r.imageSettings;Ui(this,t);Fi(this,"dataCaptureWorker",void 0);Fi(this,"eventEmitter",void 0);Fi(this,"scanSettings",void 0);Fi(this,"imageSettings",void 0);Fi(this,"workerParseRequestId",void 0);Fi(this,"workerScanQueueLength",void 0);Fi(this,"isReadyToWork",void 0);Fi(this,"licenseKeyFeatures",void 0);Fi(this,"imageDataConversionContext",void 0);Fi(this,"activeBlurryRecognitionSymbologies",void 0);Fi(this,"blurryRecognitionAvailable",void 0);var o=e.BrowserHelper.checkBrowserCompatibility();if(!o.scannerSupport){throw new au(o)}if(e.configurePhase!=="done"){throw new ru({name:"LibraryNotConfiguredError",message:e.configurePhase==="started"?"The library has not completed its configuration yet, please call 'configure' and wait for the returned\n            promise's resolution":"The library was not configured yet, 'configure' must be called with valid parameters before instantiating\n            the Scanner"})}this.eventEmitter=new Mc.exports.EventEmitter;this.isReadyToWork=false;this.workerScanQueueLength=0;this.workerParseRequestId=0;this.dataCaptureWorker=e.dataCaptureLoader.getDataCaptureWorker();this.dataCaptureWorker.onmessage=this.dataCaptureWorkerOnMessage.bind(this);Zc.load(this.dataCaptureWorker);this.activeBlurryRecognitionSymbologies=new xc;this.blurryRecognitionAvailable=false;this.applyScanSettings(i);if(a!=null){this.applyImageSettings(a)}e.blurryRecognitionPreloader.on("blurryTablesUpdate",this.handleBlurryTablesUpdate.bind(this))}Bi(t,[{key:"destroy",value:function t(){if(this.dataCaptureWorker!=null){e.dataCaptureLoader.returnDataCaptureWorker(this.dataCaptureWorker)}this.eventEmitter.removeAllListeners()}},{key:"applyScanSettings",value:function t(r){var n=this;this.scanSettings=r;e.blurryRecognitionPreloader.updateBlurryRecognitionPriority(this.scanSettings);var i=e.blurryRecognitionPreloader.getEnabledSymbologies(this.scanSettings);this.blurryRecognitionAvailable=e.blurryRecognitionPreloader.isBlurryRecognitionAvailable(this.scanSettings);this.dataCaptureWorker.postMessage({type:"scan-settings",settings:this.scanSettings.toJSONString(),blurryRecognitionAvailable:this.blurryRecognitionAvailable,blurryRecognitionRequiresUpdate:i.some(function(e){return!n.activeBlurryRecognitionSymbologies.has(e)})});var a=this.scanSettings.getDeviceName();if(a!=null){this.dataCaptureWorker.postMessage({type:"device-name",deviceName:a})}if(this.blurryRecognitionAvailable){this.activeBlurryRecognitionSymbologies=new xc([].concat(wu(this.activeBlurryRecognitionSymbologies),wu(i)))}this.eventEmitter.emit("newScanSettings",this.scanSettings);return this}},{key:"applyImageSettings",value:function e(t){this.imageSettings=t;this.dataCaptureWorker.postMessage({type:"image-settings",imageSettings:t});return this}},{key:"clearSession",value:function e(){this.dataCaptureWorker.postMessage({type:"clear-session"});return this}},{key:"processImage",value:function(){var r=fi(vi.mark(function r(n){var i=this;var a,o,s=arguments;return vi.wrap(function r(c){while(1){switch(c.prev=c.next){case 0:a=s.length>1&&s[1]!==undefined?s[1]:false;if(!(this.imageSettings==null)){c.next=3;break}throw new ru({name:"NoImageSettings",message:"No image settings set up in the scanner"});case 3:if(n instanceof HTMLImageElement){if(this.imageDataConversionContext==null){this.imageDataConversionContext=document.createElement("canvas").getContext("2d")}this.imageDataConversionContext.canvas.width=n.naturalWidth;this.imageDataConversionContext.canvas.height=n.naturalHeight;this.imageDataConversionContext.drawImage(n,0,0,n.naturalWidth,n.naturalHeight);n=new Uint8Array(this.imageDataConversionContext.getImageData(0,0,n.naturalWidth,n.naturalHeight).data.buffer)}c.t0=this.imageSettings.format.valueOf();c.next=c.t0===e.ImageSettings.Format.GRAY_8U?7:c.t0===e.ImageSettings.Format.RGB_8U?9:c.t0===e.ImageSettings.Format.RGBA_8U?11:13;break;case 7:o=1;return c.abrupt("break",15);case 9:o=3;return c.abrupt("break",15);case 11:o=4;return c.abrupt("break",15);case 13:o=1;return c.abrupt("break",15);case 15:if(!(this.imageSettings.width*this.imageSettings.height*o!==n.length)){c.next=17;break}throw new ru({name:"ImageSettingsDataMismatch",message:"The provided image data doesn't match the previously set image settings"});case 17:t.workerScanRequestId++;this.workerScanQueueLength++;return c.abrupt("return",new li(function(r,o){var s="workResult-".concat(t.workerScanRequestId);var c="workError-".concat(t.workerScanRequestId);i.eventEmitter.once(s,function(e,t){i.eventEmitter.removeAllListeners(c);i.workerScanQueueLength--;r(new ku(e.barcodes,e.texts,t,i.imageSettings))});i.eventEmitter.once(c,function(t,r){e.Logger.log(e.Logger.Level.ERROR,"Scandit Data Capture error (".concat(t.errorCode,"):"),t.errorMessage);i.eventEmitter.removeAllListeners(s);i.workerScanQueueLength--;var n=new ru({name:"ScanditEngineError",message:"".concat(t.errorMessage," (").concat(t.errorCode,")")});o(n)});i.dataCaptureWorker.postMessage({type:"scan-image",requestId:t.workerScanRequestId,data:n,highQualitySingleFrameMode:a},[n.buffer])}));case 20:case"end":return c.stop()}}},r,this)}));function n(e){return r.apply(this,arguments)}return n}()},{key:"isBusyProcessing",value:function e(){return this.workerScanQueueLength!==0}},{key:"isReady",value:function e(){return this.isReadyToWork}},{key:"on",value:function e(t,r){if(t==="ready"){if(this.isReadyToWork){r()}else{this.eventEmitter.once(t,r,this)}}else if(t==="contextCreated"){if(this.licenseKeyFeatures!=null){r(this.licenseKeyFeatures)}else{this.eventEmitter.once(t,r,this)}}else{this.eventEmitter.on(t,r,this)}return this}},{key:"addListener",value:function e(t,r){return this.on(t,r)}},{key:"createParserForFormat",value:function t(r){return new e.Parser(this,r)}},{key:"getImageSettings",value:function e(){return this.imageSettings}},{key:"getScanSettings",value:function e(){return this.scanSettings}},{key:"parse",value:function(){var t=fi(vi.mark(function t(r,n,i){var a=this;return vi.wrap(function t(o){while(1){switch(o.prev=o.next){case 0:this.workerParseRequestId++;return o.abrupt("return",new li(function(t,o){var s="parseResult-".concat(a.workerParseRequestId);var c="parseError-".concat(a.workerParseRequestId);a.eventEmitter.once(s,function(e){a.eventEmitter.removeAllListeners(c);var r={jsonString:e,fields:[],fieldsByName:{}};JSON.parse(e).forEach(function(e){r.fields.push(e);r.fieldsByName[e.name]=e});t(r)});a.eventEmitter.once(c,function(t){e.Logger.log(e.Logger.Level.ERROR,"Scandit Data Capture error (".concat(t.errorCode,"):"),t.errorMessage);a.eventEmitter.removeAllListeners(s);var r=new ru({name:"ScanditEngineError",message:"".concat(t.errorMessage," (").concat(t.errorCode,")")});o(r)});a.dataCaptureWorker.postMessage({type:"parse",requestId:a.workerParseRequestId,dataFormat:r,data:n,options:i==null?"{}":Iu(i)})}));case 2:case"end":return o.stop()}}},t,this)}));function r(e,r,n){return t.apply(this,arguments)}return r}()},{key:"reportCameraProperties",value:function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;this.dataCaptureWorker.postMessage({type:"camera-properties",cameraType:t,autofocus:r});return this}},{key:"removeListener",value:function e(t,r){this.eventEmitter.removeListener(t,r);return this}},{key:"removeAllListeners",value:function e(t){this.eventEmitter.removeAllListeners(t);return this}},{key:"handleBlurryTablesUpdate",value:function t(){if(this.blurryRecognitionAvailable){return}this.blurryRecognitionAvailable=e.blurryRecognitionPreloader.isBlurryRecognitionAvailable(this.scanSettings);if(this.blurryRecognitionAvailable){this.activeBlurryRecognitionSymbologies=new xc([].concat(wu(this.activeBlurryRecognitionSymbologies),wu(e.blurryRecognitionPreloader.getEnabledSymbologies(this.scanSettings))));this.dataCaptureWorker.postMessage({type:"scan-settings",settings:this.scanSettings.toJSONString(),blurryRecognitionAvailable:true,blurryRecognitionRequiresUpdate:true})}}},{key:"dataCaptureWorkerOnMessage",value:function t(r){var n=r.data;if(n[0]==="log"){n[1].data.forEach(function(e,t){if(e.name!=null&&e.message!=null){var r=new ru({name:e.name,message:e.message});r.stack=e.stack;n[1].data[t]=r}});e.Logger.log.apply(e.Logger,[n[1].level].concat(wu(n[1].data)));return}if(n[0]==="library-loaded"){this.isReadyToWork=true;this.eventEmitter.emit("ready");return}if(n[1]!=null){switch(n[0]){case"context-created":this.licenseKeyFeatures=n[1];this.eventEmitter.emit("contextCreated",this.licenseKeyFeatures);break;case"work-result":this.eventEmitter.emit("workResult-".concat(n[1].requestId),n[1].result,n[2]);break;case"work-error":this.eventEmitter.emit("workError-".concat(n[1].requestId),n[1].error,n[2]);break;case"parse-result":this.eventEmitter.emit("parseResult-".concat(n[1].requestId),n[1].result);break;case"parse-error":this.eventEmitter.emit("parseError-".concat(n[1].requestId),n[1].error);break}}}}],[{key:"ready",value:function e(){}}]);return t}();Fi(zu,"workerScanRequestId",0);e.SingleImageModeSettings=void 0;(function(e){function t(e,t){return{informationElement:document.createRange().createContextualFragment(e).firstElementChild,buttonElement:document.createRange().createContextualFragment(atob(t)).firstElementChild,containerStyle:{backgroundColor:"#333333"},informationStyle:{color:"#FFFFFF"},buttonStyle:{borderColor:"#FFFFFF",color:"#FFFFFF",fill:"#FFFFFF"}}}(function(e){e["NEVER"]="never";e["FALLBACK"]="fallback";e["ALWAYS"]="always"})(e.UsageStrategy||(e.UsageStrategy={}));e.defaultDesktop=t("<p>To scan:<br>1. Click on the folder icon<br>2. Select the picture to scan</p>",hu);e.defaultMobile=t("<p>To scan:<br>1. Tap the camera icon<br>2. Take a picture of the code(s)</p>",fu)})(e.SingleImageModeSettings||(e.SingleImageModeSettings={}));var Wu=h.exports.Object.getOwnPropertySymbols;var Hu=Wu;var Yu=Da;var Qu=Ia;var Zu=S;var qu=d.exports.Reflect;var Xu=qu&&qu.ownKeys||function e(t){var r=Yu.f(Zu(t));var n=Qu.f;return n?r.concat(n(t)):r};var Ku=Z;var Ju=Xu;var $u=ne;var el=Yi;var tl=vs;Ku(Ku.S,"Object",{getOwnPropertyDescriptors:function e(t){var r=$u(t);var n=el.f;var i=Ju(r);var a={};var o=0;var s,c;while(i.length>o){c=n(r,s=i[o++]);if(c!==undefined)tl(a,s,c)}return a}});var rl=h.exports.Object.getOwnPropertyDescriptors;var nl=rl;var il="\t\n\v\f\r   ᠎    "+"         　\u2028\u2029\ufeff";var al=Z;var ol=o;var sl=A;var cl=il;var ul="["+cl+"]";var ll="​";var dl=RegExp("^"+ul+ul+"*");var fl=RegExp(ul+ul+"*$");var hl=function(e,t,r){var n={};var i=sl(function(){return!!cl[e]()||ll[e]()!=ll});var a=n[e]=i?t(vl):cl[e];if(r)n[r]=a;al(al.P+al.F*i,"String",n)};var vl=hl.trim=function(e,t){e=String(ol(e));if(t&1)e=e.replace(dl,"");if(t&2)e=e.replace(fl,"");return e};var gl=hl;var ml=d.exports.parseInt;var pl=gl.trim;var yl=il;var bl=/^[-+]?0[xX]/;var El=ml(yl+"08")!==8||ml(yl+"0x16")!==22?function e(t,r){var n=pl(String(t),3);return ml(n,r>>>0||(bl.test(n)?16:10))}:ml;var Sl=Z;var Al=El;Sl(Sl.G+Sl.F*(parseInt!=Al),{parseInt:Al});var _l=h.exports.parseInt;var wl=_l;function Cl(e,t){var r=Object.keys(e);if(Hu){var n=Hu(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Tl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Cl(Object(r),!0).forEach(function(t){Fi(e,t,r[t])}):nl?Object.defineProperties(e,nl(r)):Cl(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}e.CameraAccess=void 0;(function(t){var r=new Fc([["DeviceCaptureError","AbortError"],["NotSupportedError","AbortError"],["ScreenCaptureError","AbortError"],["TabCaptureError","AbortError"],["TypeError","AbortError"],["InvalidStateError","NotAllowedError"],["MediaDeviceFailedDueToShutdown","NotAllowedError"],["MediaDeviceKillSwitchOn","NotAllowedError"],["PermissionDeniedError","NotAllowedError"],["PermissionDismissedError","NotAllowedError"],["DevicesNotFoundError","NotFoundError"],["SourceUnavailableError","NotReadableError"],["TrackStartError","NotReadableError"],["ConstraintNotSatisfiedError","OverconstrainedError"]]);var n=["rear","back","rück","arrière","trasera","trás","traseira","posteriore","后面","後面","背面","后置","後置","背置","задней","الخلفية","후","arka","achterzijde","หลัง","baksidan","bagside","sau","bak","tylny","takakamera","belakang","אחורית","πίσω","spate","hátsó","zadní","darrere","zadná","задня","stražnja","belakang","बैक"];var i;var a=false;t.mainCameraForTypeOverridesOnDesktop=new Fc;t.deviceIdToCameraObjects=new Fc;t.inaccessibleDeviceIds=new xc;function o(){a=true}function s(e){var t=e.toLowerCase();return n.some(function(e){return t.includes(e)})}function c(e){var t;if(e.message==="Invalid constraint"){t="OverconstrainedError"}else{var n;t=(n=r.get(e.name))!==null&&n!==void 0?n:e.name}Object.defineProperty(e,"name",{value:t})}function u(r,n){var i;if(e.BrowserHelper.isDesktopDevice()){if(t.mainCameraForTypeOverridesOnDesktop.has(n)){i=t.mainCameraForTypeOverridesOnDesktop.get(n)}else{i=r.filter(function(e){return e.cameraType===n})[0]}}else{var a=r.every(function(e){return e.label===""});var o=r.every(function(e){return e.label!==""});var s=r.length>1&&!a&&!o;if(a){i=r[n===e.Camera.Type.FRONT?0:r.length-1]}else if(s){var c=r.filter(function(e){return e.cameraType===n});if(c.length===1){i=c[0]}else if(c.length>1){i=c[n===e.Camera.Type.FRONT?0:c.length-1]}}else{i=r.filter(function(e){return e.cameraType===n}).sort(function(e,t){return e.label.localeCompare(t.label)})[0]}}return i}t.getMainCameraForType=u;function l(r,n){function i(e,r){var n=t.mainCameraForTypeOverridesOnDesktop.get(r);if(n!=null&&e.includes(n)){e=e.filter(function(e){return e!==n});e.unshift(n)}return e}var a=r.filter(function(t){return t.cameraType===e.Camera.Type.FRONT});var o=r.filter(function(t){return t.cameraType===e.Camera.Type.BACK});if(e.BrowserHelper.isDesktopDevice()){a=i(a,e.Camera.Type.FRONT);o=i(o,e.Camera.Type.BACK)}else if(r.every(function(e){return e.label===""})){o.reverse()}else{a.sort(function(e,t){return e.label.localeCompare(t.label)});o.sort(function(e,t){return e.label.localeCompare(t.label)})}return n===e.Camera.Type.FRONT?[].concat(wu(a),wu(o)):[].concat(wu(o),wu(a))}t.sortCamerasForCameraType=l;function d(t,r){var n=t.getVideoTracks();if(n.length!==0){var i=n[0];var a;if(typeof i.getSettings==="function"){var o;a=i.getSettings();if(((o=a)===null||o===void 0?void 0:o.facingMode)!=null&&a.facingMode.length>0){r.cameraType=a.facingMode==="environment"?e.Camera.Type.BACK:e.Camera.Type.FRONT}}if(i.label!=null&&i.label.length>0){r.label=i.label}}}t.adjustCameraFromMediaStream=d;function f(r){function n(r,n,i){var a;if(t.deviceIdToCameraObjects.has(r.deviceId)){return t.deviceIdToCameraObjects.get(r.deviceId)}var o=(a=r.label)!==null&&a!==void 0?a:"";var c;if(!e.BrowserHelper.isDesktopDevice()&&i.every(function(e){return e.label===""&&!t.deviceIdToCameraObjects.has(e.deviceId)})){c=i.length===1||n+1<=Math.floor(i.length/2)?e.Camera.Type.FRONT:e.Camera.Type.BACK}else{c=s(o)?e.Camera.Type.BACK:e.Camera.Type.FRONT}return{deviceId:r.deviceId,label:o,cameraType:c}}var i=r.map(n).map(function(e){if(e.deviceId!==""){t.deviceIdToCameraObjects.set(e.deviceId,e)}return e}).filter(function(e){return!/\b(?:ir|infrared)\b/i.test(e.label)}).filter(function(e){return!t.inaccessibleDeviceIds.has(e.deviceId)});if(!e.BrowserHelper.isDesktopDevice()&&i.length>1&&!i.some(function(t){return t.cameraType===e.Camera.Type.BACK})){var a=i.length-1;var o=i.map(function(e){var t=e.label.match(/\b([0-9]+)MP?\b/i);if(t!=null){return wl(t[1],10)}return NaN});if(!o.some(function(e){return isNaN(e)})){a=o.lastIndexOf(Math.max.apply(Math,wu(o)))}i[a].cameraType=e.Camera.Type.BACK}return i}function h(){return v.apply(this,arguments)}function v(){v=fi(vi.mark(function e(){return vi.wrap(function e(r){while(1){switch(r.prev=r.next){case 0:if(!(i!=null&&i.length>0&&i.every(function(e){return e.label===""&&!t.deviceIdToCameraObjects.has(e.deviceId)}))){r.next=9;break}r.prev=1;r.next=4;return navigator.mediaDevices.getUserMedia({video:true,audio:false});case 4:return r.abrupt("return",r.sent);case 7:r.prev=7;r.t0=r["catch"](1);case 9:case"end":return r.stop()}}},e,null,[[1,7]])}));return v.apply(this,arguments)}function g(r,n){if(n.length>0&&r.length===n.length&&!n.every(function(e,t){return r[t].deviceId===e.deviceId})){var i={};r.forEach(function(e,r){var a;var o=t.deviceIdToCameraObjects.get(e.deviceId);if(o==null||o.label!==((a=n[r].label)!==null&&a!==void 0?a:"")){return}var s=n[r].deviceId;i[o.deviceId]=s;if(t.inaccessibleDeviceIds.has(o.deviceId)){t.inaccessibleDeviceIds.add(s)}o.deviceId=s;t.deviceIdToCameraObjects.set(s,o)});e.Logger.log(e.Logger.Level.DEBUG,"Detected updated camera deviceId information and updated it accordingly",i)}}function m(){return p.apply(this,arguments)}function p(){p=fi(vi.mark(function t(){var r,n,s,u,l,d,v,m=arguments;return vi.wrap(function t(p){while(1){switch(p.prev=p.next){case 0:r=m.length>0&&m[0]!==undefined?m[0]:false;n=m.length>1&&m[1]!==undefined?m[1]:false;s=e.BrowserHelper.checkBrowserCompatibility();if(s.fullSupport){p.next=5;break}throw new au(s);case 5:navigator.mediaDevices.addEventListener("devicechange",o);if(!(i==null||r||a)){p.next=33;break}a=false;d=(u=i)!==null&&u!==void 0?u:[];i=[];p.prev=10;p.next=13;return _();case 13:i=p.sent;if(n){p.next=22;break}p.next=17;return h();case 17:l=p.sent;if(!(l!=null)){p.next=22;break}p.next=21;return _();case 21:i=p.sent;case 22:e.Logger.log.apply(e.Logger,[e.Logger.Level.DEBUG,"Camera list (devices):"].concat(wu(i)));g(d,i);p.next=30;break;case 26:p.prev=26;p.t0=p["catch"](10);c(p.t0);throw p.t0;case 30:p.prev=30;if(l!=null){l.getVideoTracks().forEach(function(e){e.stop()})}return p.finish(30);case 33:v=f(i);e.Logger.log.apply(e.Logger,[e.Logger.Level.DEBUG,"Camera list (cameras): "].concat(wu(v)));return p.abrupt("return",wu(v));case 36:case"end":return p.stop()}}},t,null,[[10,26,30,33]])}));return p.apply(this,arguments)}t.getCameras=m;function y(t){e.Logger.log(e.Logger.Level.DEBUG,"Attempt to access camera (parameters):",t.video);return new li(function(e,r){window.setTimeout(function(){var n;((n=navigator.mediaDevices.getUserMedia(t))!==null&&n!==void 0?n:li.reject(new ru({name:"AbortError"}))).then(e).catch(r)},0)})}function b(e){var t={resizeMode:"none"};switch(e){case Ll.ULTRA_HD:return Tl(Tl({},t),{},{width:{min:3200,ideal:3840,max:4096},height:{min:1800,ideal:2160,max:2400}});case Ll.FULL_HD:return Tl(Tl({},t),{},{width:{min:1400,ideal:1920,max:2160},height:{min:900,ideal:1080,max:1440}});case Ll.HD:return Tl(Tl({},t),{},{width:{min:960,ideal:1280,max:1440},height:{min:480,ideal:720,max:960}});case Ll.SD:return Tl(Tl({},t),{},{width:{min:640,ideal:640,max:800},height:{min:480,ideal:480,max:600}});case Ll.NONE:default:return{}}}function E(e,t){return S.apply(this,arguments)}function S(){S=fi(vi.mark(function t(r,n){var i,a;return vi.wrap(function t(o){while(1){switch(o.prev=o.next){case 0:e.Logger.log(e.Logger.Level.DEBUG,"Attempt to access camera (camera):",n);i={audio:false,video:b(r)};if(n.deviceId===""){i.video.facingMode={ideal:n.cameraType===e.Camera.Type.BACK?"environment":"user"}}else{i.video.deviceId={exact:n.deviceId}}o.prev=3;o.next=6;return y(i);case 6:a=o.sent;d(a,n);return o.abrupt("return",a);case 11:o.prev=11;o.t0=o["catch"](3);c(o.t0);if(!["OverconstrainedError","NotReadableError","NotAllowedError"].includes(o.t0.name)){A(n)}throw o.t0;case 16:case"end":return o.stop()}}},t,null,[[3,11]])}));return S.apply(this,arguments)}t.accessCameraStream=E;function A(r){if(r.deviceId!==""){e.Logger.log(e.Logger.Level.DEBUG,"Camera marked to be inaccessible:",r);t.inaccessibleDeviceIds.add(r.deviceId)}}t.markCameraAsInaccessible=A;function _(){return w.apply(this,arguments)}function w(){w=fi(vi.mark(function t(){var r,n;return vi.wrap(function t(i){while(1){switch(i.prev=i.next){case 0:if(!(typeof navigator.enumerateDevices==="function")){i.next=6;break}i.next=3;return navigator.enumerateDevices();case 3:r=i.sent;i.next=24;break;case 6:if(!(typeof navigator.mediaDevices==="object"&&typeof navigator.mediaDevices.enumerateDevices==="function")){i.next=12;break}i.next=9;return navigator.mediaDevices.enumerateDevices();case 9:r=i.sent;i.next=24;break;case 12:i.prev=12;if(!(((n=window.MediaStreamTrack)===null||n===void 0?void 0:n.getSources)==null)){i.next=15;break}throw new Error;case 15:i.next=17;return new li(function(e){var t,r;(t=window.MediaStreamTrack)===null||t===void 0?void 0:(r=t.getSources)===null||r===void 0?void 0:r.call(t,e)});case 17:r=i.sent;r=r.filter(function(e){return e.kind.toLowerCase()==="video"||e.kind.toLowerCase()==="videoinput"}).map(function(e){var t;return{deviceId:(t=e.deviceId)!==null&&t!==void 0?t:"",groupId:e.groupId,kind:"videoinput",label:e.label,toJSON:function e(){return this}}});i.next=24;break;case 21:i.prev=21;i.t0=i["catch"](12);throw new au({fullSupport:false,scannerSupport:true,missingFeatures:[e.BrowserCompatibility.Feature.MEDIA_DEVICES]});case 24:return i.abrupt("return",r.filter(function(e){return e.kind==="videoinput"}));case 25:case"end":return i.stop()}}},t,null,[[12,21]])}));return w.apply(this,arguments)}})(e.CameraAccess||(e.CameraAccess={}));e.CameraSettings=void 0;(function(e){(function(e){e["ULTRA_HD"]="ultra-hd";e["FULL_HD"]="full-hd";e["HD"]="hd"})(e.ResolutionPreference||(e.ResolutionPreference={}))})(e.CameraSettings||(e.CameraSettings={}));function Nl(e,t){var r=Object.keys(e);if(Hu){var n=Hu(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Il(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Nl(Object(r),!0).forEach(function(t){Fi(e,t,r[t])}):nl?Object.defineProperties(e,nl(r)):Nl(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var kl;(function(e){e["CONTINUOUS"]="continuous";e["MANUAL"]="manual";e["NONE"]="none";e["SINGLE_SHOT"]="single-shot"})(kl||(kl={}));var Ll;(function(e){e[e["ULTRA_HD"]=0]="ULTRA_HD";e[e["FULL_HD"]=1]="FULL_HD";e[e["HD"]=2]="HD";e[e["SD"]=3]="SD";e[e["NONE"]=4]="NONE"})(Ll||(Ll={}));var xl=function(){function t(r,n,i){Ui(this,t);Fi(this,"selectedCamera",void 0);Fi(this,"activeCamera",void 0);Fi(this,"activeCameraSettings",void 0);Fi(this,"scanner",void 0);Fi(this,"triggerCameraAccessError",void 0);Fi(this,"gui",void 0);Fi(this,"postStreamInitializationListener",this.postStreamInitialization.bind(this));Fi(this,"videoResizeListener",this.videoResizeHandle.bind(this));Fi(this,"videoTrackEndedListener",this.videoTrackEndedRecovery.bind(this));Fi(this,"videoTrackMuteListener",this.videoTrackMuteRecovery.bind(this));Fi(this,"triggerManualFocusListener",this.triggerManualFocus.bind(this));Fi(this,"triggerZoomStartListener",this.triggerZoomStart.bind(this));Fi(this,"triggerZoomMoveListener",this.triggerZoomMove.bind(this));Fi(this,"cameraType",void 0);Fi(this,"selectedCameraSettings",void 0);Fi(this,"mediaStream",void 0);Fi(this,"mediaTrackCapabilities",void 0);Fi(this,"cameraAccessTimeout",void 0);Fi(this,"cameraAccessRejectCallback",void 0);Fi(this,"videoMetadataCheckInterval",void 0);Fi(this,"getCapabilitiesTimeout",void 0);Fi(this,"autofocusInterval",void 0);Fi(this,"manualToAutofocusResumeTimeout",void 0);Fi(this,"manualFocusWaitTimeout",void 0);Fi(this,"cameraSwitcherEnabled",void 0);Fi(this,"torchToggleEnabled",void 0);Fi(this,"tapToFocusEnabled",void 0);Fi(this,"pinchToZoomEnabled",void 0);Fi(this,"pinchToZoomDistance",void 0);Fi(this,"pinchToZoomInitialZoom",void 0);Fi(this,"torchEnabled",void 0);Fi(this,"cameraInitializationPromise",void 0);Fi(this,"abortedCameraInitializationResolveCallback",void 0);Fi(this,"cameraSetupPromise",void 0);this.scanner=r;this.triggerCameraAccessError=n;this.gui=i;this.cameraType=e.Camera.Type.BACK}Bi(t,[{key:"setInteractionOptions",value:function e(t,r,n,i){this.cameraSwitcherEnabled=t;this.torchToggleEnabled=r;this.tapToFocusEnabled=n;this.pinchToZoomEnabled=i}},{key:"isCameraSwitcherEnabled",value:function e(){return this.cameraSwitcherEnabled}},{key:"setCameraSwitcherEnabled",value:function(){var t=fi(vi.mark(function t(r){var n;return vi.wrap(function t(i){while(1){switch(i.prev=i.next){case 0:this.cameraSwitcherEnabled=r;if(!this.cameraSwitcherEnabled){i.next=8;break}i.next=4;return e.CameraAccess.getCameras();case 4:n=i.sent;if(n.length>1){this.gui.setCameraSwitcherVisible(true)}i.next=9;break;case 8:this.gui.setCameraSwitcherVisible(false);case 9:case"end":return i.stop()}}},t,this)}));function r(e){return t.apply(this,arguments)}return r}()},{key:"isTorchToggleEnabled",value:function e(){return this.torchToggleEnabled}},{key:"setTorchToggleEnabled",value:function e(t){this.torchToggleEnabled=t;if(this.torchToggleEnabled){var r;if(this.mediaStream!=null&&((r=this.mediaTrackCapabilities)===null||r===void 0?void 0:r.torch)===true){this.gui.setTorchTogglerVisible(true)}}else{this.gui.setTorchTogglerVisible(false)}}},{key:"isTapToFocusEnabled",value:function e(){return this.tapToFocusEnabled}},{key:"setTapToFocusEnabled",value:function e(t){this.tapToFocusEnabled=t;if(this.mediaStream!=null){if(this.tapToFocusEnabled){this.enableTapToFocusListeners()}else{this.disableTapToFocusListeners()}}}},{key:"isPinchToZoomEnabled",value:function e(){return this.pinchToZoomEnabled}},{key:"setPinchToZoomEnabled",value:function e(t){this.pinchToZoomEnabled=t;if(this.mediaStream!=null){if(this.pinchToZoomEnabled){this.enablePinchToZoomListeners()}else{this.disablePinchToZoomListeners()}}}},{key:"setInitialCameraType",value:function e(t){this.cameraType=t}},{key:"setCameraType",value:function(){var t=fi(vi.mark(function t(r){var n;return vi.wrap(function t(i){while(1){switch(i.prev=i.next){case 0:this.setInitialCameraType(r);i.t0=e.CameraAccess;i.next=4;return e.CameraAccess.getCameras();case 4:i.t1=i.sent;i.t2=r;n=i.t0.getMainCameraForType.call(i.t0,i.t1,i.t2);if(!(n!=null&&n!==this.selectedCamera)){i.next=9;break}return i.abrupt("return",this.initializeCameraWithSettings(n,this.selectedCameraSettings));case 9:case"end":return i.stop()}}},t,this)}));function r(e){return t.apply(this,arguments)}return r}()},{key:"setSelectedCamera",value:function e(t){this.selectedCamera=t}},{key:"setSelectedCameraSettings",value:function e(t){this.selectedCameraSettings=t}},{key:"setupCameras",value:function(){var e=fi(vi.mark(function e(){return vi.wrap(function e(t){while(1){switch(t.prev=t.next){case 0:if(!(this.cameraSetupPromise!=null)){t.next=2;break}return t.abrupt("return",this.cameraSetupPromise);case 2:this.cameraSetupPromise=this.setupCamerasAndStream();return t.abrupt("return",this.cameraSetupPromise);case 4:case"end":return t.stop()}}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"stopStream",value:function(){var t=fi(vi.mark(function t(){var r=this;var n,i=arguments;return vi.wrap(function t(a){while(1){switch(a.prev=a.next){case 0:n=i.length>0&&i[0]!==undefined?i[0]:false;if(this.activeCamera!=null){this.activeCamera.currentResolution=undefined}this.activeCamera=undefined;if(!(this.mediaStream!=null)){a.next=13;break}e.Logger.log(e.Logger.Level.DEBUG,"Stop camera video stream access (stream):",this.mediaStream);window.clearTimeout(this.cameraAccessTimeout);window.clearInterval(this.videoMetadataCheckInterval);window.clearTimeout(this.getCapabilitiesTimeout);window.clearTimeout(this.manualFocusWaitTimeout);window.clearTimeout(this.manualToAutofocusResumeTimeout);window.clearInterval(this.autofocusInterval);this.gui.videoElement.pause();return a.abrupt("return",new li(function(e){setTimeout(function(){var t;(t=r.mediaStream)===null||t===void 0?void 0:t.getVideoTracks().forEach(function(e){e.removeEventListener("ended",r.videoTrackEndedListener);e.stop()});r.gui.videoElement.srcObject=null;r.mediaStream=undefined;r.mediaTrackCapabilities=undefined;if(!n){var i;(i=r.abortedCameraInitializationResolveCallback)===null||i===void 0?void 0:i.call(r)}e()},0)}));case 13:case"end":return a.stop()}}},t,this)}));function r(){return t.apply(this,arguments)}return r}()},{key:"applyCameraSettings",value:function(){var e=fi(vi.mark(function e(r){return vi.wrap(function e(n){while(1){switch(n.prev=n.next){case 0:this.selectedCameraSettings=r;if(!(this.activeCamera==null)){n.next=3;break}throw new ru(t.noCameraErrorParameters);case 3:return n.abrupt("return",this.initializeCameraWithSettings(this.activeCamera,r));case 4:case"end":return n.stop()}}},e,this)}));function r(t){return e.apply(this,arguments)}return r}()},{key:"reinitializeCamera",value:function(){var t=fi(vi.mark(function t(){return vi.wrap(function t(r){while(1){switch(r.prev=r.next){case 0:if(!(this.activeCamera==null)){r.next=4;break}e.Logger.log(e.Logger.Level.DEBUG,"Camera reinitialization delayed");r.next=15;break;case 4:e.Logger.log(e.Logger.Level.DEBUG,"Reinitialize camera:",this.activeCamera);r.prev=5;r.next=8;return this.initializeCameraWithSettings(this.activeCamera,this.activeCameraSettings);case 8:r.next=15;break;case 10:r.prev=10;r.t0=r["catch"](5);e.Logger.log(e.Logger.Level.WARN,"Couldn't access camera:",this.activeCamera,r.t0);this.triggerCameraAccessError(r.t0);throw r.t0;case 15:case"end":return r.stop()}}},t,this,[[5,10]])}));function r(){return t.apply(this,arguments)}return r}()},{key:"initializeCameraWithSettings",value:function(){var e=fi(vi.mark(function e(t,r){return vi.wrap(function e(n){while(1){switch(n.prev=n.next){case 0:if(!(this.cameraInitializationPromise!=null)){n.next=3;break}n.next=3;return this.cameraInitializationPromise;case 3:this.setSelectedCamera(t);this.selectedCameraSettings=this.activeCameraSettings=r;this.cameraInitializationPromise=this.initializeCameraAndCheckUpdatedSettings(t);return n.abrupt("return",this.cameraInitializationPromise);case 7:case"end":return n.stop()}}},e,this)}));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"setTorchEnabled",value:function(){var e=fi(vi.mark(function e(t){var r;var n;return vi.wrap(function e(i){while(1){switch(i.prev=i.next){case 0:if(!(this.mediaStream!=null&&((r=this.mediaTrackCapabilities)===null||r===void 0?void 0:r.torch)===true)){i.next=6;break}this.torchEnabled=t;n=this.mediaStream.getVideoTracks();if(!(n.length!==0&&typeof n[0].applyConstraints==="function")){i.next=6;break}i.next=6;return n[0].applyConstraints({advanced:[{torch:t}]});case 6:case"end":return i.stop()}}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"toggleTorch",value:function(){var e=fi(vi.mark(function e(){return vi.wrap(function e(t){while(1){switch(t.prev=t.next){case 0:this.torchEnabled=!this.torchEnabled;t.next=3;return this.setTorchEnabled(this.torchEnabled);case 3:case"end":return t.stop()}}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"setZoom",value:function(){var e=fi(vi.mark(function e(t,r){var n;var i,a,o;return vi.wrap(function e(s){while(1){switch(s.prev=s.next){case 0:if(!(this.mediaStream!=null&&((n=this.mediaTrackCapabilities)===null||n===void 0?void 0:n.zoom)!=null)){s.next=7;break}i=this.mediaStream.getVideoTracks();if(!(i.length!==0&&typeof i[0].applyConstraints==="function")){s.next=7;break}a=this.mediaTrackCapabilities.zoom.max-this.mediaTrackCapabilities.zoom.min;o=Math.max(this.mediaTrackCapabilities.zoom.min,Math.min((r!==null&&r!==void 0?r:this.mediaTrackCapabilities.zoom.min)+a*t,this.mediaTrackCapabilities.zoom.max));s.next=7;return i[0].applyConstraints({advanced:[{zoom:o}]});case 7:case"end":return s.stop()}}},e,this)}));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"recoverStreamIfNeeded",value:function(){var e=fi(vi.mark(function e(){var t,r;var n;return vi.wrap(function e(i){while(1){switch(i.prev=i.next){case 0:n=(t=this.mediaStream)===null||t===void 0?void 0:t.getVideoTracks();if(!((n===null||n===void 0?void 0:(r=n[0])===null||r===void 0?void 0:r.readyState)==="ended")){i.next=4;break}i.next=4;return this.reinitializeCamera();case 4:case"end":return i.stop()}}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"setupCamerasAndStream",value:function(){var t=fi(vi.mark(function t(){var r,n,i,a,o,s,c;return vi.wrap(function t(u){while(1){switch(u.prev=u.next){case 0:u.prev=0;if(!(this.selectedCamera==null)){u.next=6;break}this.gui.setVideoVisible(false);u.next=5;return this.accessInitialCamera();case 5:a=u.sent;case 6:u.next=8;return e.CameraAccess.getCameras(false,true);case 8:o=u.sent;if(this.cameraSwitcherEnabled&&o.length>1){this.gui.setCameraSwitcherVisible(true)}s=(r=this.mediaStream)===null||r===void 0?void 0:(n=r.getVideoTracks()[0])===null||n===void 0?void 0:(i=n.getSettings)===null||i===void 0?void 0:i.call(n).deviceId;if(!(this.mediaStream!=null&&a!=null)){u.next=29;break}c=o.length===1?o[0]:o.find(function(e){var t;return e.deviceId===s||e.label!==""&&e.label===((t=a)===null||t===void 0?void 0:t.label)});if(!(c!=null)){u.next=28;break}e.CameraAccess.adjustCameraFromMediaStream(this.mediaStream,c);if(e.BrowserHelper.isDesktopDevice()){e.CameraAccess.mainCameraForTypeOverridesOnDesktop.set(this.cameraType,c);e.CameraAccess.mainCameraForTypeOverridesOnDesktop.set(c.cameraType,c)}if(!(o.length===1||e.CameraAccess.getMainCameraForType(o,this.cameraType)===c)){u.next=25;break}e.Logger.log(e.Logger.Level.DEBUG,"Initial camera access was correct (main camera), keep camera:",c);this.setSelectedCamera(c);this.updateActiveCameraCurrentResolution(c);u.next=22;return this.recoverStreamIfNeeded();case 22:return u.abrupt("return");case 25:e.Logger.log(e.Logger.Level.DEBUG,"Initial camera access was incorrect (not main camera), change camera",Il(Il({},a),{},{deviceId:s}));case 26:u.next=29;break;case 28:e.Logger.log(e.Logger.Level.DEBUG,"Initial camera access was incorrect (unknown camera), change camera",Il(Il({},a),{},{deviceId:s}));case 29:if(!(this.selectedCamera==null)){u.next=35;break}u.next=32;return this.accessAutoselectedCamera(o);case 32:return u.abrupt("return",u.sent);case 35:u.next=37;return this.initializeCameraWithSettings(this.selectedCamera,this.selectedCameraSettings);case 37:return u.abrupt("return",u.sent);case 38:u.prev=38;this.gui.setVideoVisible(true);this.cameraSetupPromise=undefined;return u.finish(38);case 42:case"end":return u.stop()}}},t,this,[[0,,38,42]])}));function r(){return t.apply(this,arguments)}return r}()},{key:"getInitialCameraResolutionConstraint",value:function t(){var r;var n;switch((r=this.activeCameraSettings)===null||r===void 0?void 0:r.resolutionPreference){case e.CameraSettings.ResolutionPreference.ULTRA_HD:n=Ll.ULTRA_HD;break;case e.CameraSettings.ResolutionPreference.FULL_HD:n=Ll.FULL_HD;break;case e.CameraSettings.ResolutionPreference.HD:default:n=Ll.HD;break}return n}},{key:"accessAutoselectedCamera",value:function(){var r=fi(vi.mark(function r(n){var i;return vi.wrap(function r(a){while(1){switch(a.prev=a.next){case 0:n=e.CameraAccess.sortCamerasForCameraType(n,this.cameraType);i=n.shift();case 2:if(!(i!=null)){a.next=20;break}a.prev=3;a.next=6;return this.initializeCameraWithSettings(i,this.selectedCameraSettings);case 6:return a.abrupt("return",a.sent);case 9:a.prev=9;a.t0=a["catch"](3);this.setSelectedCamera();if(n.length===1){this.gui.setCameraSwitcherVisible(false)}if(!(n.length>=1)){a.next=17;break}e.Logger.log(e.Logger.Level.WARN,"Couldn't access camera:",i,a.t0);i=n.shift();return a.abrupt("continue",2);case 17:throw a.t0;case 18:a.next=2;break;case 20:throw new ru(t.noCameraErrorParameters);case 21:case"end":return a.stop()}}},r,this,[[3,9]])}));function n(e){return r.apply(this,arguments)}return n}()},{key:"accessInitialCamera",value:function(){var e=fi(vi.mark(function e(){var t;return vi.wrap(function e(r){while(1){switch(r.prev=r.next){case 0:t={deviceId:"",label:"",cameraType:this.cameraType};r.prev=1;r.next=4;return this.initializeCameraWithSettings(t,this.selectedCameraSettings);case 4:r.next=8;break;case 6:r.prev=6;r.t0=r["catch"](1);case 8:r.prev=8;this.setSelectedCamera();return r.finish(8);case 11:return r.abrupt("return",t);case 12:case"end":return r.stop()}}},e,this,[[1,6,8,11]])}));function t(){return e.apply(this,arguments)}return t}()},{key:"updateActiveCameraCurrentResolution",value:function e(t){if(this.gui.videoElement.videoWidth>2&&this.gui.videoElement.videoHeight>2){t.currentResolution={width:this.gui.videoElement.videoWidth,height:this.gui.videoElement.videoHeight}}if(t.deviceId!==""){this.activeCamera=t;this.gui.setMirrorImageEnabled(this.gui.isMirrorImageEnabled(),false)}}},{key:"postStreamInitialization",value:function e(){var r=this;window.clearTimeout(this.getCapabilitiesTimeout);this.getCapabilitiesTimeout=window.setTimeout(function(){var e;r.storeStreamCapabilities();r.setupAutofocus();if(r.torchToggleEnabled&&r.mediaStream!=null&&((e=r.mediaTrackCapabilities)===null||e===void 0?void 0:e.torch)===true){r.gui.setTorchTogglerVisible(true)}},t.getCapabilitiesTimeoutMs)}},{key:"videoResizeHandle",value:function e(){if(this.activeCamera!=null){this.updateActiveCameraCurrentResolution(this.activeCamera)}}},{key:"videoTrackEndedRecovery",value:function(){var t=fi(vi.mark(function t(){return vi.wrap(function t(r){while(1){switch(r.prev=r.next){case 0:r.prev=0;e.Logger.log(e.Logger.Level.DEBUG,'Detected video track "ended" event, try to reinitialize camera');r.next=4;return this.reinitializeCamera();case 4:r.next=8;break;case 6:r.prev=6;r.t0=r["catch"](0);case 8:case"end":return r.stop()}}},t,this,[[0,6]])}));function r(){return t.apply(this,arguments)}return r}()},{key:"videoTrackMuteRecovery",value:function(){var t=fi(vi.mark(function t(r){var n;return vi.wrap(function t(i){while(1){switch(i.prev=i.next){case 0:if(!(this.gui.videoElement.onloadeddata!=null)){i.next=4;break}e.Logger.log(e.Logger.Level.DEBUG,'Detected video track "'.concat(r.type,'" event, delay video stream access detection'));this.setCameraAccessTimeout();return i.abrupt("return");case 4:n=r.type==="mute";if(n!==this.gui.isCameraRecoveryVisible()){e.Logger.log(e.Logger.Level.DEBUG,'Detected video track "'.concat(r.type,'" event, ').concat(n?"enable":"disable"," camera recovery"));this.gui.setCameraRecoveryVisible(n)}case 6:case"end":return i.stop()}}},t,this)}));function r(e){return t.apply(this,arguments)}return r}()},{key:"triggerManualFocusForContinuous",value:function(){var e=fi(vi.mark(function e(){var r=this;return vi.wrap(function e(n){while(1){switch(n.prev=n.next){case 0:this.manualToAutofocusResumeTimeout=window.setTimeout(fi(vi.mark(function e(){return vi.wrap(function e(t){while(1){switch(t.prev=t.next){case 0:t.next=2;return r.triggerFocusMode(kl.CONTINUOUS);case 2:case"end":return t.stop()}}},e)})),t.manualToAutofocusResumeTimeoutMs);n.next=3;return this.triggerFocusMode(kl.CONTINUOUS);case 3:this.manualFocusWaitTimeout=window.setTimeout(fi(vi.mark(function e(){return vi.wrap(function e(t){while(1){switch(t.prev=t.next){case 0:t.next=2;return r.triggerFocusMode(kl.MANUAL);case 2:case"end":return t.stop()}}},e)})),t.manualFocusWaitTimeoutMs);case 4:case"end":return n.stop()}}},e,this)}));function r(){return e.apply(this,arguments)}return r}()},{key:"triggerManualFocusForSingleShot",value:function(){var e=fi(vi.mark(function e(){var r=this;return vi.wrap(function e(n){while(1){switch(n.prev=n.next){case 0:window.clearInterval(this.autofocusInterval);this.manualToAutofocusResumeTimeout=window.setTimeout(function(){r.autofocusInterval=window.setInterval(r.triggerAutoFocus.bind(r),t.autofocusIntervalMs)},t.manualToAutofocusResumeTimeoutMs);n.prev=2;n.next=5;return this.triggerFocusMode(kl.SINGLE_SHOT);case 5:n.next=9;break;case 7:n.prev=7;n.t0=n["catch"](2);case 9:case"end":return n.stop()}}},e,this,[[2,7]])}));function r(){return e.apply(this,arguments)}return r}()},{key:"triggerManualFocus",value:function(){var e=fi(vi.mark(function e(t){var r;return vi.wrap(function e(n){while(1){switch(n.prev=n.next){case 0:if(!(t!=null)){n.next=7;break}t.preventDefault();if(!(t.type==="touchend"&&t.touches.length!==0)){n.next=4;break}return n.abrupt("return");case 4:if(!(this.pinchToZoomDistance!=null)){n.next=7;break}this.pinchToZoomDistance=undefined;return n.abrupt("return");case 7:window.clearTimeout(this.manualFocusWaitTimeout);window.clearTimeout(this.manualToAutofocusResumeTimeout);if(!(this.mediaStream!=null&&this.mediaTrackCapabilities!=null)){n.next=20;break}r=this.mediaTrackCapabilities.focusMode;if(!(r instanceof Array&&r.includes(kl.SINGLE_SHOT))){n.next=20;break}if(!(r.includes(kl.CONTINUOUS)&&r.includes(kl.MANUAL))){n.next=17;break}n.next=15;return this.triggerManualFocusForContinuous();case 15:n.next=20;break;case 17:if(r.includes(kl.CONTINUOUS)){n.next=20;break}n.next=20;return this.triggerManualFocusForSingleShot();case 20:case"end":return n.stop()}}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"triggerZoomStart",value:function e(t){var r;if((t===null||t===void 0?void 0:t.touches.length)!==2){return}t.preventDefault();this.pinchToZoomDistance=Math.hypot((t.touches[1].screenX-t.touches[0].screenX)/screen.width,(t.touches[1].screenY-t.touches[0].screenY)/screen.height);if(this.mediaStream!=null&&((r=this.mediaTrackCapabilities)===null||r===void 0?void 0:r.zoom)!=null){var n=this.mediaStream.getVideoTracks();if(n.length!==0&&typeof n[0].getConstraints==="function"){this.pinchToZoomInitialZoom=this.mediaTrackCapabilities.zoom.min;var i=n[0].getConstraints();if(i.advanced!=null){var a=i.advanced.find(function(e){return"zoom"in e});if((a===null||a===void 0?void 0:a.zoom)!=null){this.pinchToZoomInitialZoom=a.zoom}}}}}},{key:"triggerZoomMove",value:function(){var e=fi(vi.mark(function e(t){return vi.wrap(function e(r){while(1){switch(r.prev=r.next){case 0:if(!(this.pinchToZoomDistance==null||(t===null||t===void 0?void 0:t.touches.length)!==2)){r.next=2;break}return r.abrupt("return");case 2:t.preventDefault();r.next=5;return this.setZoom((Math.hypot((t.touches[1].screenX-t.touches[0].screenX)/screen.width,(t.touches[1].screenY-t.touches[0].screenY)/screen.height)-this.pinchToZoomDistance)*2,this.pinchToZoomInitialZoom);case 5:case"end":return r.stop()}}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"storeStreamCapabilities",value:function e(){if(this.mediaStream!=null){var t=this.mediaStream.getVideoTracks();if(t.length!==0&&typeof t[0].getCapabilities==="function"){this.mediaTrackCapabilities=t[0].getCapabilities()}}if(this.activeCamera!=null){var r;this.scanner.reportCameraProperties(this.activeCamera.cameraType,((r=this.mediaTrackCapabilities)===null||r===void 0?void 0:r.focusMode)==null||this.mediaTrackCapabilities.focusMode.includes(kl.CONTINUOUS))}}},{key:"setupAutofocus",value:function e(){window.clearTimeout(this.manualFocusWaitTimeout);window.clearTimeout(this.manualToAutofocusResumeTimeout);if(this.mediaStream!=null&&this.mediaTrackCapabilities!=null){var r=this.mediaTrackCapabilities.focusMode;if(r instanceof Array&&!r.includes(kl.CONTINUOUS)&&r.includes(kl.SINGLE_SHOT)){window.clearInterval(this.autofocusInterval);this.autofocusInterval=window.setInterval(this.triggerAutoFocus.bind(this),t.autofocusIntervalMs)}}}},{key:"triggerAutoFocus",value:function(){var e=fi(vi.mark(function e(){return vi.wrap(function e(t){while(1){switch(t.prev=t.next){case 0:t.next=2;return this.triggerFocusMode(kl.SINGLE_SHOT);case 2:case"end":return t.stop()}}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"triggerFocusMode",value:function(){var e=fi(vi.mark(function e(t){var r;return vi.wrap(function e(n){while(1){switch(n.prev=n.next){case 0:if(!(this.mediaStream!=null)){n.next=10;break}r=this.mediaStream.getVideoTracks();if(!(r.length!==0&&typeof r[0].applyConstraints==="function")){n.next=10;break}n.prev=3;n.next=6;return r[0].applyConstraints({advanced:[{focusMode:t}]});case 6:n.next=10;break;case 8:n.prev=8;n.t0=n["catch"](3);case 10:case"end":return n.stop()}}},e,this,[[3,8]])}));function t(t){return e.apply(this,arguments)}return t}()},{key:"enableTapToFocusListeners",value:function e(){var t=this;["touchend","mousedown"].forEach(function(e){t.gui.videoElement.addEventListener(e,t.triggerManualFocusListener)})}},{key:"enablePinchToZoomListeners",value:function e(){this.gui.videoElement.addEventListener("touchstart",this.triggerZoomStartListener);this.gui.videoElement.addEventListener("touchmove",this.triggerZoomMoveListener)}},{key:"disableTapToFocusListeners",value:function e(){var t=this;["touchend","mousedown"].forEach(function(e){t.gui.videoElement.removeEventListener(e,t.triggerManualFocusListener)})}},{key:"disablePinchToZoomListeners",value:function e(){this.gui.videoElement.removeEventListener("touchstart",this.triggerZoomStartListener);this.gui.videoElement.removeEventListener("touchmove",this.triggerZoomMoveListener)}},{key:"initializeCameraAndCheckUpdatedSettings",value:function(){var e=fi(vi.mark(function e(t){var r=this;return vi.wrap(function e(n){while(1){switch(n.prev=n.next){case 0:n.prev=0;n.next=3;return this.initializeCamera(t);case 3:if(!(this.selectedCameraSettings!==this.activeCameraSettings&&(this.selectedCameraSettings==null||this.activeCameraSettings==null||Object.keys(this.selectedCameraSettings).some(function(e){return r.selectedCameraSettings[e]!==r.activeCameraSettings[e]})))){n.next=8;break}this.activeCameraSettings=this.selectedCameraSettings;n.next=7;return this.initializeCameraAndCheckUpdatedSettings(t);case 7:return n.abrupt("return",n.sent);case 8:n.prev=8;this.cameraInitializationPromise=undefined;return n.finish(8);case 11:case"end":return n.stop()}}},e,this,[[0,,8,11]])}));function t(t){return e.apply(this,arguments)}return t}()},{key:"handleCameraInitializationError",value:function(){var t=fi(vi.mark(function t(r,n,i){var a;return vi.wrap(function t(o){while(1){switch(o.prev=o.next){case 0:if(!(!["OverconstrainedError","NotReadableError"].includes(i.name)||i.name==="NotReadableError"&&n===Ll.NONE)){o.next=4;break}e.Logger.log(e.Logger.Level.DEBUG,"Camera video stream access failure (unrecoverable error)",r,i);if(i.name!=="NotAllowedError"){e.CameraAccess.markCameraAsInaccessible(r)}throw i;case 4:if(!(i.name==="OverconstrainedError"&&n===Ll.NONE)){o.next=20;break}if(!(r.deviceId==="")){o.next=8;break}e.Logger.log(e.Logger.Level.DEBUG,"Camera video stream access failure (no camera with such type error)",r,i);throw i;case 8:e.Logger.log(e.Logger.Level.DEBUG,"Detected non-existent deviceId error, attempt to find and reaccess updated camera",r,i);a=r.deviceId;o.next=12;return e.CameraAccess.getCameras(true);case 12:if(!(a===r.deviceId)){o.next=18;break}e.Logger.log(e.Logger.Level.DEBUG,"Camera video stream access failure (updated camera not found after non-existent deviceId error)",r,i);e.CameraAccess.markCameraAsInaccessible(r);throw i;case 18:e.Logger.log(e.Logger.Level.DEBUG,"Updated camera found (recovered from non-existent deviceId error), attempt to access it",r);return o.abrupt("return",this.initializeCamera(r));case 20:return o.abrupt("return",this.initializeCamera(r,n+1));case 21:case"end":return o.stop()}}},t,this)}));function r(e,r,n){return t.apply(this,arguments)}return r}()},{key:"initializeCamera",value:function(){var r=fi(vi.mark(function r(n,i){var a,o=this;var s,c;return vi.wrap(function r(u){while(1){switch(u.prev=u.next){case 0:this.gui.setCameraRecoveryVisible(false);if(!(n==null)){u.next=3;break}throw new ru(t.noCameraErrorParameters);case 3:u.next=5;return this.stopStream();case 5:this.torchEnabled=false;this.gui.setTorchTogglerVisible(false);(a=i)!==null&&a!==void 0?a:i=this.getInitialCameraResolutionConstraint();u.prev=8;u.next=11;return e.CameraAccess.accessCameraStream(i,n);case 11:s=u.sent;e.Logger.log(e.Logger.Level.DEBUG,"Camera accessed, waiting for video stream start...");if(!(typeof s.getTracks()[0].getSettings==="function")){u.next=22;break}c=s.getTracks()[0].getSettings();if(!(c.width!=null&&c.height!=null&&(c.width===2||c.height===2))){u.next=22;break}e.Logger.log(e.Logger.Level.DEBUG,"Camera video stream access failure (invalid video metadata):",n);if(!(i===Ll.NONE)){u.next=21;break}throw new ru(t.notReadableErrorParameters);case 21:return u.abrupt("return",this.initializeCamera(n,i+1));case 22:this.mediaStream=s;this.mediaStream.getVideoTracks().forEach(function(e){e.addEventListener("ended",o.videoTrackEndedListener);e.addEventListener("mute",o.videoTrackMuteListener);e.addEventListener("unmute",o.videoTrackMuteListener)});u.prev=24;u.next=27;return this.setupCameraStreamVideo(n,s);case 27:u.next=36;break;case 29:u.prev=29;u.t0=u["catch"](24);if(!(i===Ll.NONE)){u.next=35;break}throw u.t0;case 35:return u.abrupt("return",this.initializeCamera(n,i+1));case 36:u.next=41;break;case 38:u.prev=38;u.t1=u["catch"](8);return u.abrupt("return",this.handleCameraInitializationError(n,i,u.t1));case 41:case"end":return u.stop()}}},r,this,[[8,38],[24,29]])}));function n(e,t){return r.apply(this,arguments)}return n}()},{key:"setCameraAccessTimeout",value:function e(){var r=this;window.clearTimeout(this.cameraAccessTimeout);this.cameraAccessTimeout=window.setTimeout(fi(vi.mark(function e(){var n;return vi.wrap(function e(i){while(1){switch(i.prev=i.next){case 0:i.next=2;return r.stopStream(true);case 2:(n=r.cameraAccessRejectCallback)===null||n===void 0?void 0:n.call(r,new ru(t.notReadableErrorParameters));case 3:case"end":return i.stop()}}},e)})),t.cameraAccessTimeoutMs)}},{key:"checkCameraAccess",value:function t(r){var n=this;return new li(function(t,i){n.cameraAccessRejectCallback=function(t){e.Logger.log(e.Logger.Level.DEBUG,"Camera video stream access failure (video data load timeout):",r);n.gui.setCameraRecoveryVisible(true);i(t)};n.setCameraAccessTimeout()})}},{key:"checkVideoMetadata",value:function(){var r=fi(vi.mark(function r(n){var i=this;return vi.wrap(function r(a){while(1){switch(a.prev=a.next){case 0:return a.abrupt("return",new li(function(r,a){i.gui.videoElement.onloadeddata=function(){i.gui.videoElement.onloadeddata=null;window.clearTimeout(i.cameraAccessTimeout);if(i.gui.videoElement.videoWidth>2&&i.gui.videoElement.videoHeight>2&&i.gui.videoElement.currentTime>0){i.updateActiveCameraCurrentResolution(n);e.Logger.log(e.Logger.Level.DEBUG,"Camera video stream access success:",n);return r()}var o=performance.now();window.clearInterval(i.videoMetadataCheckInterval);i.videoMetadataCheckInterval=window.setInterval(fi(vi.mark(function s(){return vi.wrap(function s(c){while(1){switch(c.prev=c.next){case 0:if(!(i.gui.videoElement.videoWidth<=2||i.gui.videoElement.videoHeight<=2||i.gui.videoElement.currentTime===0)){c.next=8;break}if(!(performance.now()-o>t.videoMetadataCheckTimeoutMs)){c.next=7;break}e.Logger.log(e.Logger.Level.DEBUG,"Camera video stream access failure (valid video metadata timeout):",n);window.clearInterval(i.videoMetadataCheckInterval);c.next=6;return i.stopStream(true);case 6:return c.abrupt("return",a(new ru(t.notReadableErrorParameters)));case 7:return c.abrupt("return");case 8:window.clearInterval(i.videoMetadataCheckInterval);i.updateActiveCameraCurrentResolution(n);e.Logger.log(e.Logger.Level.DEBUG,"Camera video stream access success:",n);r();case 12:case"end":return c.stop()}}},s)})),t.videoMetadataCheckIntervalMs)}}));case 1:case"end":return a.stop()}}},r)}));function n(e){return r.apply(this,arguments)}return n}()},{key:"setupCameraStreamVideo",value:function e(t,r){var n=this;this.gui.videoElement.addEventListener("loadedmetadata",this.postStreamInitializationListener);this.gui.videoElement.addEventListener("resize",this.videoResizeListener);if(this.tapToFocusEnabled){this.enableTapToFocusListeners()}if(this.pinchToZoomEnabled){this.enablePinchToZoomListeners()}var i=li.race([this.checkCameraAccess(t),this.checkVideoMetadata(t),new li(function(e){n.abortedCameraInitializationResolveCallback=e})]);this.gui.videoElement.srcObject=r;this.gui.videoElement.load();this.gui.playVideo();this.scanner.reportCameraProperties(t.cameraType);return i}}]);return t}();Fi(xl,"cameraAccessTimeoutMs",4e3);Fi(xl,"videoMetadataCheckTimeoutMs",4e3);Fi(xl,"videoMetadataCheckIntervalMs",50);Fi(xl,"getCapabilitiesTimeoutMs",500);Fi(xl,"autofocusIntervalMs",1500);Fi(xl,"manualToAutofocusResumeTimeoutMs",5e3);Fi(xl,"manualFocusWaitTimeoutMs",400);Fi(xl,"noCameraErrorParameters",{name:"NoCameraAvailableError",message:"No camera available"});Fi(xl,"notReadableErrorParameters",{name:"NotReadableError",message:"Could not initialize camera correctly"});function Ml(e){var t=Ol();return function r(){var n=ds(e),i;if(t){var a=ds(this).constructor;i=Oi(n,arguments,a)}else{i=n.apply(this,arguments)}return rs(this,i)}}function Ol(){if(typeof Reflect==="undefined"||!Oi)return false;if(Oi.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Oi(Boolean,[],function(){}));return true}catch(e){return false}}var Vl=function(e){ua(r,e);var t=Ml(r);function r(){Ui(this,r);return t.apply(this,arguments)}Bi(r,[{key:"setInteractionOptions",value:function e(t,r,n,i){return}},{key:"isCameraSwitcherEnabled",value:function e(){return false}},{key:"setCameraSwitcherEnabled",value:function(){var e=fi(vi.mark(function e(t){return vi.wrap(function e(t){while(1){switch(t.prev=t.next){case 0:return t.abrupt("return");case 1:case"end":return t.stop()}}},e)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"isTorchToggleEnabled",value:function e(){return false}},{key:"setTorchToggleEnabled",value:function e(t){return}},{key:"isTapToFocusEnabled",value:function e(){return false}},{key:"setTapToFocusEnabled",value:function e(t){return}},{key:"isPinchToZoomEnabled",value:function e(){return false}},{key:"setPinchToZoomEnabled",value:function e(t){return}},{key:"setInitialCameraType",value:function e(t){return}},{key:"setCameraType",value:function(){var e=fi(vi.mark(function e(t){return vi.wrap(function e(t){while(1){switch(t.prev=t.next){case 0:return t.abrupt("return");case 1:case"end":return t.stop()}}},e)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"setSelectedCamera",value:function e(t){return}},{key:"setSelectedCameraSettings",value:function e(t){return}},{key:"setupCameras",value:function(){var e=fi(vi.mark(function e(){return vi.wrap(function e(t){while(1){switch(t.prev=t.next){case 0:return t.abrupt("return");case 1:case"end":return t.stop()}}},e)}));function t(){return e.apply(this,arguments)}return t}()},{key:"stopStream",value:function(){var e=fi(vi.mark(function e(){return vi.wrap(function e(t){while(1){switch(t.prev=t.next){case 0:return t.abrupt("return");case 1:case"end":return t.stop()}}},e)}));function t(){return e.apply(this,arguments)}return t}()},{key:"applyCameraSettings",value:function(){var e=fi(vi.mark(function e(t){return vi.wrap(function e(t){while(1){switch(t.prev=t.next){case 0:return t.abrupt("return");case 1:case"end":return t.stop()}}},e)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"reinitializeCamera",value:function(){var e=fi(vi.mark(function e(){return vi.wrap(function e(t){while(1){switch(t.prev=t.next){case 0:return t.abrupt("return");case 1:case"end":return t.stop()}}},e)}));function t(){return e.apply(this,arguments)}return t}()},{key:"initializeCameraWithSettings",value:function(){var e=fi(vi.mark(function e(t,r){return vi.wrap(function e(t){while(1){switch(t.prev=t.next){case 0:return t.abrupt("return");case 1:case"end":return t.stop()}}},e)}));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"setTorchEnabled",value:function(){var e=fi(vi.mark(function e(t){return vi.wrap(function e(t){while(1){switch(t.prev=t.next){case 0:return t.abrupt("return");case 1:case"end":return t.stop()}}},e)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"toggleTorch",value:function(){var e=fi(vi.mark(function e(){return vi.wrap(function e(t){while(1){switch(t.prev=t.next){case 0:return t.abrupt("return");case 1:case"end":return t.stop()}}},e)}));function t(){return e.apply(this,arguments)}return t}()},{key:"setZoom",value:function(){var e=fi(vi.mark(function e(t,r){return vi.wrap(function e(t){while(1){switch(t.prev=t.next){case 0:return t.abrupt("return");case 1:case"end":return t.stop()}}},e)}));function t(t,r){return e.apply(this,arguments)}return t}()}]);return r}(xl);var Rl=_;var Dl=Ve;var Pl=Ia;var Fl=Qi;var jl=dt;var Bl=ee;var Ul=Object.assign;var Gl=!Ul||A(function(){var e={};var t={};var r=Symbol();var n="abcdefghijklmnopqrst";e[r]=7;n.split("").forEach(function(e){t[e]=e});return Ul({},e)[r]!=7||Object.keys(Ul({},t)).join("")!=n})?function e(t,r){var n=jl(t);var i=arguments.length;var a=1;var o=Pl.f;var s=Fl.f;while(i>a){var c=Bl(arguments[a++]);var u=o?Dl(c).concat(o(c)):Dl(c);var l=u.length;var d=0;var f;while(l>d){f=u[d++];if(!Rl||s.call(c,f))n[f]=c[f]}}return n}:Ul;var zl=Z;zl(zl.S+zl.F,"Object",{assign:Gl});var Wl=h.exports.Object.assign;var Hl=Wl;var Yl=[];var Ql=function(){return Yl.some(function(e){return e.activeTargets.length>0})};var Zl=function(){return Yl.some(function(e){return e.skippedTargets.length>0})};var ql="ResizeObserver loop completed with undelivered notifications.";var Xl=function(){var e;if(typeof ErrorEvent==="function"){e=new ErrorEvent("error",{message:ql})}else{e=document.createEvent("Event");e.initEvent("error",false,false);e.message=ql}window.dispatchEvent(e)};var Kl;(function(e){e["BORDER_BOX"]="border-box";e["CONTENT_BOX"]="content-box";e["DEVICE_PIXEL_CONTENT_BOX"]="device-pixel-content-box"})(Kl||(Kl={}));var Jl=function(e){return Object.freeze(e)};var $l=function(){function e(e,t){this.inlineSize=e;this.blockSize=t;Jl(this)}return e}();var ed=function(){function e(e,t,r,n){this.x=e;this.y=t;this.width=r;this.height=n;this.top=this.y;this.left=this.x;this.bottom=this.top+this.height;this.right=this.left+this.width;return Jl(this)}e.prototype.toJSON=function(){var e=this,t=e.x,r=e.y,n=e.top,i=e.right,a=e.bottom,o=e.left,s=e.width,c=e.height;return{x:t,y:r,top:n,right:i,bottom:a,left:o,width:s,height:c}};e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)};return e}();var td=function(e){return e instanceof SVGElement&&"getBBox"in e};var rd=function(e){if(td(e)){var t=e.getBBox(),r=t.width,n=t.height;return!r&&!n}var i=e,a=i.offsetWidth,o=i.offsetHeight;return!(a||o||e.getClientRects().length)};var nd=function(e){var t,r;if(e instanceof Element){return true}var n=(r=(t=e)===null||t===void 0?void 0:t.ownerDocument)===null||r===void 0?void 0:r.defaultView;return!!(n&&e instanceof n.Element)};var id=function(e){switch(e.tagName){case"INPUT":if(e.type!=="image"){break}case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return true}return false};var ad=typeof window!=="undefined"?window:{};var od=new WeakMap;var sd=/auto|scroll/;var cd=/^tb|vertical/;var ud=/msie|trident/i.test(ad.navigator&&ad.navigator.userAgent);var ld=function(e){return parseFloat(e||"0")};var dd=function(e,t,r){if(e===void 0){e=0}if(t===void 0){t=0}if(r===void 0){r=false}return new $l((r?t:e)||0,(r?e:t)||0)};var fd=Jl({devicePixelContentBoxSize:dd(),borderBoxSize:dd(),contentBoxSize:dd(),contentRect:new ed(0,0,0,0)});var hd=function(e,t){if(t===void 0){t=false}if(od.has(e)&&!t){return od.get(e)}if(rd(e)){od.set(e,fd);return fd}var r=getComputedStyle(e);var n=td(e)&&e.ownerSVGElement&&e.getBBox();var i=!ud&&r.boxSizing==="border-box";var a=cd.test(r.writingMode||"");var o=!n&&sd.test(r.overflowY||"");var s=!n&&sd.test(r.overflowX||"");var c=n?0:ld(r.paddingTop);var u=n?0:ld(r.paddingRight);var l=n?0:ld(r.paddingBottom);var d=n?0:ld(r.paddingLeft);var f=n?0:ld(r.borderTopWidth);var h=n?0:ld(r.borderRightWidth);var v=n?0:ld(r.borderBottomWidth);var g=n?0:ld(r.borderLeftWidth);var m=d+u;var p=c+l;var y=g+h;var b=f+v;var E=!s?0:e.offsetHeight-b-e.clientHeight;var S=!o?0:e.offsetWidth-y-e.clientWidth;var A=i?m+y:0;var _=i?p+b:0;var w=n?n.width:ld(r.width)-A-S;var C=n?n.height:ld(r.height)-_-E;var T=w+m+S+y;var N=C+p+E+b;var I=Jl({devicePixelContentBoxSize:dd(Math.round(w*devicePixelRatio),Math.round(C*devicePixelRatio),a),borderBoxSize:dd(T,N,a),contentBoxSize:dd(w,C,a),contentRect:new ed(d,c,w,C)});od.set(e,I);return I};var vd=function(e,t,r){var n=hd(e,r),i=n.borderBoxSize,a=n.contentBoxSize,o=n.devicePixelContentBoxSize;switch(t){case Kl.DEVICE_PIXEL_CONTENT_BOX:return o;case Kl.BORDER_BOX:return i;default:return a}};var gd=function(){function e(e){var t=hd(e);this.target=e;this.contentRect=t.contentRect;this.borderBoxSize=Jl([t.borderBoxSize]);this.contentBoxSize=Jl([t.contentBoxSize]);this.devicePixelContentBoxSize=Jl([t.devicePixelContentBoxSize])}return e}();var md=function(e){if(rd(e)){return Infinity}var t=0;var r=e.parentNode;while(r){t+=1;r=r.parentNode}return t};var pd=function(){var e=Infinity;var t=[];Yl.forEach(function r(n){if(n.activeTargets.length===0){return}var i=[];n.activeTargets.forEach(function t(r){var n=new gd(r.target);var a=md(r.target);i.push(n);r.lastReportedSize=vd(r.target,r.observedBox);if(a<e){e=a}});t.push(function e(){n.callback.call(n.observer,i,n.observer)});n.activeTargets.splice(0,n.activeTargets.length)});for(var r=0,n=t;r<n.length;r++){var i=n[r];i()}return e};var yd=function(e){Yl.forEach(function t(r){r.activeTargets.splice(0,r.activeTargets.length);r.skippedTargets.splice(0,r.skippedTargets.length);r.observationTargets.forEach(function t(n){if(n.isActive()){if(md(n.target)>e){r.activeTargets.push(n)}else{r.skippedTargets.push(n)}}})})};var bd=function(){var e=0;yd(e);while(Ql()){e=pd();yd(e)}if(Zl()){Xl()}return e>0};var Ed;var Sd=[];var Ad=function(){return Sd.splice(0).forEach(function(e){return e()})};var _d=function(e){if(!Ed){var t=0;var r=document.createTextNode("");var n={characterData:true};new MutationObserver(function(){return Ad()}).observe(r,n);Ed=function(){r.textContent=""+(t?t--:t++)}}Sd.push(e);Ed()};var wd=function(e){_d(function t(){requestAnimationFrame(e)})};var Cd=0;var Td=function(){return!!Cd};var Nd=250;var Id={attributes:true,characterData:true,childList:true,subtree:true};var kd=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"];var Ld=function(e){if(e===void 0){e=0}return Date.now()+e};var xd=false;var Md=function(){function e(){var e=this;this.stopped=true;this.listener=function(){return e.schedule()}}e.prototype.run=function(e){var t=this;if(e===void 0){e=Nd}if(xd){return}xd=true;var r=Ld(e);wd(function(){var n=false;try{n=bd()}finally{xd=false;e=r-Ld();if(!Td()){return}if(n){t.run(1e3)}else if(e>0){t.run(e)}else{t.start()}}})};e.prototype.schedule=function(){this.stop();this.run()};e.prototype.observe=function(){var e=this;var t=function(){return e.observer&&e.observer.observe(document.body,Id)};document.body?t():ad.addEventListener("DOMContentLoaded",t)};e.prototype.start=function(){var e=this;if(this.stopped){this.stopped=false;this.observer=new MutationObserver(this.listener);this.observe();kd.forEach(function(t){return ad.addEventListener(t,e.listener,true)})}};e.prototype.stop=function(){var e=this;if(!this.stopped){this.observer&&this.observer.disconnect();kd.forEach(function(t){return ad.removeEventListener(t,e.listener,true)});this.stopped=true}};return e}();var Od=new Md;var Vd=function(e){!Cd&&e>0&&Od.start();Cd+=e;!Cd&&Od.stop()};var Rd=function(e){return!td(e)&&!id(e)&&getComputedStyle(e).display==="inline"};var Dd=function(){function e(e,t){this.target=e;this.observedBox=t||Kl.CONTENT_BOX;this.lastReportedSize={inlineSize:0,blockSize:0}}e.prototype.isActive=function(){var e=vd(this.target,this.observedBox,true);if(Rd(this.target)){this.lastReportedSize=e}if(this.lastReportedSize.inlineSize!==e.inlineSize||this.lastReportedSize.blockSize!==e.blockSize){return true}return false};return e}();var Pd=function(){function e(e,t){this.activeTargets=[];this.skippedTargets=[];this.observationTargets=[];this.observer=e;this.callback=t}return e}();var Fd=new WeakMap;var jd=function(e,t){for(var r=0;r<e.length;r+=1){if(e[r].target===t){return r}}return-1};var Bd=function(){function e(){}e.connect=function(e,t){var r=new Pd(e,t);Fd.set(e,r)};e.observe=function(e,t,r){var n=Fd.get(e);var i=n.observationTargets.length===0;if(jd(n.observationTargets,t)<0){i&&Yl.push(n);n.observationTargets.push(new Dd(t,r&&r.box));Vd(1);Od.schedule()}};e.unobserve=function(e,t){var r=Fd.get(e);var n=jd(r.observationTargets,t);var i=r.observationTargets.length===1;if(n>=0){i&&Yl.splice(Yl.indexOf(r),1);r.observationTargets.splice(n,1);Vd(-1)}};e.disconnect=function(e){var t=this;var r=Fd.get(e);r.observationTargets.slice().forEach(function(r){return t.unobserve(e,r.target)});r.activeTargets.splice(0,r.activeTargets.length)};return e}();var Ud=function(){function e(e){if(arguments.length===0){throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.")}if(typeof e!=="function"){throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.")}Bd.connect(this,e)}e.prototype.observe=function(e,t){if(arguments.length===0){throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.")}if(!nd(e)){throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element")}Bd.observe(this,e,t)};e.prototype.unobserve=function(e){if(arguments.length===0){throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.")}if(!nd(e)){throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element")}Bd.unobserve(this,e)};e.prototype.disconnect=function(){Bd.disconnect(this)};e.toString=function(){return"function ResizeObserver () { [polyfill code] }"};return e}();var Gd;var zd=(Gd=window.ResizeObserver)!==null&&Gd!==void 0?Gd:Ud;var Wd=function(){function t(r){var n=this;Ui(this,t);Fi(this,"videoElement",void 0);Fi(this,"cameraSwitcherElement",void 0);Fi(this,"torchTogglerElement",void 0);Fi(this,"cameraRecoveryElement",void 0);Fi(this,"scanner",void 0);Fi(this,"singleImageModeEnabled",void 0);Fi(this,"singleImageModeSettings",void 0);Fi(this,"grandParentElement",void 0);Fi(this,"parentElement",void 0);Fi(this,"laserContainerElement",void 0);Fi(this,"laserActiveImageElement",void 0);Fi(this,"laserPausedImageElement",void 0);Fi(this,"viewfinderElement",void 0);Fi(this,"cameraUploadElement",void 0);Fi(this,"cameraUploadLabelElement",void 0);Fi(this,"cameraUploadInputElement",void 0);Fi(this,"cameraUploadProgressElement",void 0);Fi(this,"visibilityListener",void 0);Fi(this,"videoPauseListener",void 0);Fi(this,"videoResizeListener",void 0);Fi(this,"webGLContextLostListener",void 0);Fi(this,"newScanSettingsListener",void 0);Fi(this,"contextCreatedShowLogoListener",void 0);Fi(this,"contextCreatedActivateGUIListener",void 0);Fi(this,"resizeObserver",void 0);Fi(this,"cameraUploadCallback",void 0);Fi(this,"mirrorImageOverrides",void 0);Fi(this,"contextWebGL",void 0);Fi(this,"context2d",void 0);Fi(this,"cameraManager",void 0);Fi(this,"originElement",void 0);Fi(this,"scanningPaused",void 0);Fi(this,"visible",void 0);Fi(this,"guiStyle",void 0);Fi(this,"videoFit",void 0);Fi(this,"customLaserArea",void 0);Fi(this,"customViewfinderArea",void 0);Fi(this,"cameraUploadInProgress",void 0);Fi(this,"cameraSwitchInProgress",void 0);Fi(this,"dataCaptureContextCreated",void 0);Fi(this,"isVideoElementDetached",false);this.scanner=r.scanner;this.originElement=r.originElement;this.singleImageModeEnabled=r.singleImageModeEnabled;this.singleImageModeSettings=r.singleImageModeSettings;this.scanningPaused=r.scanningPaused;this.cameraUploadCallback=r.cameraUploadCallback;this.mirrorImageOverrides=new Fc;this.cameraUploadInProgress=false;this.cameraSwitchInProgress=false;this.dataCaptureContextCreated=false;this.grandParentElement=document.createElement("div");this.grandParentElement.className=t.grandParentElementClassName;this.originElement.appendChild(this.grandParentElement);this.parentElement=document.createElement("div");this.parentElement.className=t.parentElementClassName;this.grandParentElement.appendChild(this.parentElement);this.videoElement=document.createElement("video");this.cameraSwitcherElement=document.createElement("img");this.torchTogglerElement=document.createElement("img");this.laserContainerElement=document.createElement("div");this.laserActiveImageElement=document.createElement("img");this.laserPausedImageElement=document.createElement("img");this.cameraRecoveryElement=document.createElement("div");this.viewfinderElement=document.createElement("div");var i=document.createElement("canvas");this.webGLContextLostListener=this.handleWebGLContextLost.bind(this);if(r.singleImageModeEnabled){this.context2d=i.getContext("2d");this.cameraUploadElement=document.createElement("div");this.cameraUploadLabelElement=document.createElement("label");this.cameraUploadInputElement=document.createElement("input");this.cameraUploadProgressElement=document.createElement("div");this.setupCameraUploadGuiAssets();this.guiStyle=e.BarcodePicker.GuiStyle.NONE}else{this.setupContext(i);this.setupVideoElement();this.setupCameraSwitcher();this.setupTorchToggler();this.setupCameraRecovery(r.cameraRecoveryText);this.setupFullGuiAssets();this.setGuiStyle(r.guiStyle);this.setVideoFit(r.videoFit);this.setLaserArea(r.laserArea);this.setViewfinderArea(r.viewfinderArea);this.visibilityListener=this.checkAndRecoverPlayback.bind(this);document.addEventListener("visibilitychange",this.visibilityListener);this.newScanSettingsListener=this.handleNewScanSettings.bind(this);this.scanner.on("newScanSettings",this.newScanSettingsListener);this.handleNewScanSettings();this.videoPauseListener=this.handleVideoPause.bind(this);this.videoElement.addEventListener("pause",this.videoPauseListener);this.videoResizeListener=this.handleVideoResize.bind(this);this.videoElement.addEventListener("resize",this.videoResizeListener)}if(r.hideLogo){this.contextCreatedShowLogoListener=this.showScanditLogo.bind(this,r.hideLogo);this.scanner.on("contextCreated",this.contextCreatedShowLogoListener)}else{this.showScanditLogo(r.hideLogo)}this.contextCreatedActivateGUIListener=this.activateGUI.bind(this);this.scanner.on("contextCreated",this.contextCreatedActivateGUIListener);this.resize();this.resizeObserver=new zd(function(){n.resize()});this.resizeObserver.observe(this.originElement);this.setVisible(r.visible)}Bi(t,[{key:"destroy",value:function e(){var r,n,i,a;if(this.visibilityListener!=null){document.removeEventListener("visibilitychange",this.visibilityListener)}if(this.newScanSettingsListener!=null){this.scanner.removeListener("newScanSettings",this.newScanSettingsListener)}if(this.videoPauseListener!=null){this.videoElement.removeEventListener("pause",this.videoPauseListener)}if(this.videoResizeListener!=null){this.videoElement.removeEventListener("resize",this.videoResizeListener)}if(this.contextCreatedShowLogoListener!=null){this.scanner.removeListener("contextCreated",this.contextCreatedShowLogoListener)}if(this.contextCreatedActivateGUIListener!=null){this.scanner.removeListener("contextCreated",this.contextCreatedActivateGUIListener)}this.resizeObserver.disconnect();this.grandParentElement.remove();this.videoElement.remove();(r=this.contextWebGL)===null||r===void 0?void 0:(n=r.canvas)===null||n===void 0?void 0:n.removeEventListener("webglcontextlost",this.webGLContextLostListener);(i=this.contextWebGL)===null||i===void 0?void 0:(a=i.getExtension("WEBGL_lose_context"))===null||a===void 0?void 0:a.loseContext();this.contextWebGL=undefined;this.context2d=undefined;this.originElement.classList.remove(t.hiddenClassName)}},{key:"setCameraManager",value:function e(t){this.cameraManager=t}},{key:"pauseScanning",value:function e(){this.scanningPaused=true;this.laserActiveImageElement.classList.add(t.hiddenOpacityClassName);this.laserPausedImageElement.classList.remove(t.hiddenOpacityClassName);this.viewfinderElement.classList.add(t.pausedClassName)}},{key:"resumeScanning",value:function e(){this.scanningPaused=false;if(this.dataCaptureContextCreated){this.laserPausedImageElement.classList.add(t.hiddenOpacityClassName);this.laserActiveImageElement.classList.remove(t.hiddenOpacityClassName);this.viewfinderElement.classList.remove(t.pausedClassName)}}},{key:"isVisible",value:function e(){return this.visible}},{key:"setVisible",value:function r(n){this.visible=n;if(n){this.originElement.classList.remove(t.hiddenClassName);if(this.guiStyle===e.BarcodePicker.GuiStyle.LASER){this.laserActiveImageElement.classList.remove(t.flashColorClassName)}else if(this.guiStyle===e.BarcodePicker.GuiStyle.VIEWFINDER){this.viewfinderElement.classList.remove(t.flashWhiteClassName)}}else{this.originElement.classList.add(t.hiddenClassName)}}},{key:"isMirrorImageEnabled",value:function t(){var r,n;if(((r=this.cameraManager)===null||r===void 0?void 0:r.selectedCamera)!=null&&((n=this.cameraManager)===null||n===void 0?void 0:n.activeCamera)!=null){var i=this.mirrorImageOverrides.get(this.cameraManager.activeCamera);return i!==null&&i!==void 0?i:this.cameraManager.activeCamera.cameraType===e.Camera.Type.FRONT}else{return false}}},{key:"setMirrorImageEnabled",value:function e(r,n){var i;if(((i=this.cameraManager)===null||i===void 0?void 0:i.selectedCamera)!=null){if(r){this.videoElement.classList.add(t.mirroredClassName)}else{this.videoElement.classList.remove(t.mirroredClassName)}if(n){this.mirrorImageOverrides.set(this.cameraManager.selectedCamera,r)}}}},{key:"setGuiStyle",value:function r(n){if(this.singleImageModeEnabled){return}switch(n){case e.BarcodePicker.GuiStyle.LASER:this.guiStyle=n;this.laserContainerElement.classList.remove(t.hiddenClassName);this.viewfinderElement.classList.add(t.hiddenClassName);break;case e.BarcodePicker.GuiStyle.VIEWFINDER:this.guiStyle=n;this.laserContainerElement.classList.add(t.hiddenClassName);this.viewfinderElement.classList.remove(t.hiddenClassName);break;case e.BarcodePicker.GuiStyle.NONE:default:this.guiStyle=e.BarcodePicker.GuiStyle.NONE;this.laserContainerElement.classList.add(t.hiddenClassName);this.viewfinderElement.classList.add(t.hiddenClassName);break}}},{key:"setLaserArea",value:function e(t){this.customLaserArea=t;if(t==null){t=this.scanner.getScanSettings().getSearchArea()}var r=.025;var n=1-r*2;this.laserContainerElement.style.left="".concat((r+t.x*n)*100,"%");this.laserContainerElement.style.width="".concat(t.width*n*100,"%");this.laserContainerElement.style.top="".concat((r+t.y*n)*100,"%");this.laserContainerElement.style.height="".concat(t.height*n*100,"%")}},{key:"setViewfinderArea",value:function e(t){this.customViewfinderArea=t;if(t==null){t=this.scanner.getScanSettings().getSearchArea()}var r=.025;var n=1-r*2;this.viewfinderElement.style.left="".concat((r+t.x*n)*100,"%");this.viewfinderElement.style.width="".concat(t.width*n*100,"%");this.viewfinderElement.style.top="".concat((r+t.y*n)*100,"%");this.viewfinderElement.style.height="".concat(t.height*n*100,"%")}},{key:"setVideoFit",value:function t(r){if(this.singleImageModeEnabled){return}this.videoFit=r;if(r===e.BarcodePicker.ObjectFit.COVER){this.videoElement.style.objectFit="cover";this.videoElement.dataset.objectFit="cover"}else{this.videoElement.style.objectFit="contain";this.videoElement.dataset.objectFit="contain";this.scanner.applyScanSettings(this.scanner.getScanSettings().setBaseSearchArea({x:0,y:0,width:1,height:1}))}this.resize()}},{key:"reassignOriginElement",value:function e(r){if(!this.visible){this.originElement.classList.remove(t.hiddenClassName);r.classList.add(t.hiddenClassName)}r.appendChild(this.grandParentElement);this.checkAndRecoverPlayback().catch(function(){});this.resize();this.resizeObserver.disconnect();this.resizeObserver.observe(r);this.originElement=r}},{key:"flashGUI",value:function t(){if(this.guiStyle===e.BarcodePicker.GuiStyle.LASER){this.flashLaser()}else if(this.guiStyle===e.BarcodePicker.GuiStyle.VIEWFINDER){this.flashViewfinder()}}},{key:"getImageData",value:function t(r){function n(e,t){return e.readyState===4&&e.videoWidth>2&&e.videoHeight>2&&t.canvas.width>2&&t.canvas.height>2}if(this.singleImageModeEnabled&&this.context2d!=null){return new Uint8Array(this.context2d.getImageData(0,0,this.context2d.canvas.width,this.context2d.canvas.height).data.buffer)}if(!this.singleImageModeEnabled){if(this.contextWebGL!=null){if(!n(this.videoElement,this.contextWebGL)||this.contextWebGL.drawingBufferWidth<=2||this.contextWebGL.drawingBufferHeight<=2){return}var i=this.contextWebGL.drawingBufferWidth*this.contextWebGL.drawingBufferHeight*4;if(r==null||r.byteLength===0||r.byteLength!==i){r=new Uint8Array(i)}this.contextWebGL.texImage2D(this.contextWebGL.TEXTURE_2D,0,this.contextWebGL.RGBA,this.contextWebGL.RGBA,this.contextWebGL.UNSIGNED_BYTE,this.videoElement);this.contextWebGL.readPixels(0,0,this.contextWebGL.drawingBufferWidth,this.contextWebGL.drawingBufferHeight,this.contextWebGL.RGBA,this.contextWebGL.UNSIGNED_BYTE,r);if(r[3]!==255){e.Logger.log(e.Logger.Level.WARN,"Detected incorrect GPU accelerated WebGL image processing, switching to canvas mode");this.contextWebGL=undefined;this.setupContext(document.createElement("canvas"),true);this.handleVideoResize();return this.getImageData(r)}return r}if(this.context2d!=null){if(!n(this.videoElement,this.context2d)){return}this.context2d.drawImage(this.videoElement,0,0);return new Uint8Array(this.context2d.getImageData(0,0,this.context2d.canvas.width,this.context2d.canvas.height).data.buffer)}}return}},{key:"getVideoCurrentTime",value:function e(){return this.videoElement.currentTime}},{key:"setCameraSwitcherVisible",value:function e(r){if(r){this.cameraSwitcherElement.classList.remove(t.hiddenClassName)}else{this.cameraSwitcherElement.classList.add(t.hiddenClassName)}}},{key:"isCameraRecoveryVisible",value:function e(){return!this.cameraRecoveryElement.classList.contains(t.hiddenClassName)}},{key:"setCameraRecoveryVisible",value:function e(r){if(r){this.cameraRecoveryElement.classList.remove(t.hiddenClassName)}else{this.cameraRecoveryElement.classList.add(t.hiddenClassName)}}},{key:"setTorchTogglerVisible",value:function e(r){if(r){this.torchTogglerElement.classList.remove(t.hiddenClassName)}else{this.torchTogglerElement.classList.add(t.hiddenClassName)}}},{key:"playVideo",value:function e(){var t=this.videoElement.play();t===null||t===void 0?void 0:t.catch(function(){})}},{key:"setVideoVisible",value:function e(t){this.videoElement.style.visibility=t?"visible":"hidden"}},{key:"setCameraType",value:function t(r){var n;(n=this.cameraUploadInputElement)===null||n===void 0?void 0:n.setAttribute("capture",r===e.Camera.Type.FRONT?"user":"environment")}},{key:"setCameraUploadGuiBusyScanning",value:function e(r){if(r){this.cameraUploadProgressElement.classList.remove(t.flashInsetClassName);this.cameraUploadElement.classList.add(t.opacityPulseClassName)}else{this.cameraUploadProgressElement.classList.add(t.flashInsetClassName);this.cameraUploadElement.classList.remove(t.opacityPulseClassName)}}},{key:"setupContext",value:function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(r){this.context2d=t.getContext("2d");return}var n=t.getContext("webgl",{alpha:false,antialias:false});if(n==null){n=t.getContext("experimental-webgl",{alpha:false,antialias:false})}if(n!=null){this.setupWebGL(n);t.addEventListener("webglcontextlost",this.webGLContextLostListener)}else{this.context2d=t.getContext("2d")}}},{key:"setupWebGL",value:function e(t){var r=t.createTexture();t.bindTexture(t.TEXTURE_2D,r);var n=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,n);t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,r,0);t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE);t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE);t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST);t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST);this.contextWebGL=t}},{key:"setupVideoElement",value:function e(){this.videoElement.setAttribute("autoplay","autoplay");this.videoElement.setAttribute("playsinline","true");this.videoElement.setAttribute("muted","muted");this.videoElement.className=t.videoElementClassName;this.parentElement.appendChild(this.videoElement)}},{key:"setupCameraUploadGuiAssets",value:function r(){var n,i=this,a;var o=e.BrowserHelper.userAgentInfo.getDevice().type;var s=o==="mobile"||o==="tablet"?e.SingleImageModeSettings.defaultMobile:e.SingleImageModeSettings.defaultDesktop;this.cameraUploadElement.className=t.cameraUploadElementClassName;Hl(this.cameraUploadElement.style,s.containerStyle,this.singleImageModeSettings.containerStyle);this.parentElement.appendChild(this.cameraUploadElement);var c=(n=this.singleImageModeSettings.informationElement)!==null&&n!==void 0?n:s.informationElement;Hl(c.style,s.informationStyle,this.singleImageModeSettings.informationStyle);this.cameraUploadElement.appendChild(c);this.cameraUploadInputElement.type="file";this.cameraUploadInputElement.accept="image/*";this.cameraUploadInputElement.addEventListener("change",this.cameraUploadFile.bind(this));var u=function e(t){if(i.scanningPaused||i.cameraUploadInProgress){t.preventDefault()}};this.cameraUploadInputElement.addEventListener("click",u);this.cameraUploadInputElement.addEventListener("keydown",u);this.cameraUploadLabelElement.appendChild(this.cameraUploadInputElement);var l=(a=this.singleImageModeSettings.buttonElement)!==null&&a!==void 0?a:s.buttonElement;[this.cameraUploadProgressElement.style,l.style].forEach(function(e){Hl(e,s.buttonStyle,i.singleImageModeSettings.buttonStyle)});l.style.maxWidth="100px";l.style.maxHeight="100px";this.cameraUploadLabelElement.appendChild(l);this.cameraUploadProgressElement.classList.add("radial-progress");this.cameraUploadLabelElement.appendChild(this.cameraUploadProgressElement);this.cameraUploadElement.appendChild(this.cameraUploadLabelElement)}},{key:"setupFullGuiAssets",value:function e(){this.laserActiveImageElement.src=lu;this.laserContainerElement.appendChild(this.laserActiveImageElement);this.laserPausedImageElement.src=du;this.laserContainerElement.appendChild(this.laserPausedImageElement);this.laserContainerElement.className=t.laserContainerElementClassName;this.parentElement.appendChild(this.laserContainerElement);this.viewfinderElement.className=t.viewfinderElementClassName;this.parentElement.appendChild(this.viewfinderElement);this.laserActiveImageElement.classList.add(t.hiddenOpacityClassName);this.laserPausedImageElement.classList.remove(t.hiddenOpacityClassName);this.viewfinderElement.classList.add(t.pausedClassName)}},{key:"flashLaser",value:function e(){this.laserActiveImageElement.classList.remove(t.flashColorClassName);this.laserActiveImageElement.offsetHeight;this.laserActiveImageElement.classList.add(t.flashColorClassName)}},{key:"flashViewfinder",value:function e(){this.viewfinderElement.classList.remove(t.flashWhiteClassName);this.viewfinderElement.offsetHeight;this.viewfinderElement.classList.add(t.flashWhiteClassName)}},{key:"resize",value:function e(){this.parentElement.style.maxWidth="";this.parentElement.style.maxHeight="";var t=this.originElement.clientWidth;var r=this.originElement.clientHeight;if(t===0||r===0){if(!this.singleImageModeEnabled){this.handleVideoDisplay(true)}return}if(this.singleImageModeEnabled){this.resizeCameraUpload(t,r)}else{this.resizeVideo(t,r);this.handleVideoDisplay(false)}}},{key:"resizeCameraUpload",value:function e(t,r){this.cameraUploadLabelElement.style.transform="scale(".concat(Math.min(1,t/300,r/300),")")}},{key:"resizeVideo",value:function t(r,n){if(this.videoElement.videoWidth<=2||this.videoElement.videoHeight<=2){return}var i=this.videoElement.videoWidth/this.videoElement.videoHeight;if(this.videoFit===e.BarcodePicker.ObjectFit.COVER){var a=1;var o=1;if(i<r/n){o=Math.min(1,n/(r/i))}else{a=Math.min(1,r/(n*i))}this.scanner.applyScanSettings(this.scanner.getScanSettings().setBaseSearchArea({x:(1-a)/2,y:(1-o)/2,width:a,height:o}));return}if(i>r/n){n=r/i}else{r=n*i}this.parentElement.style.maxWidth="".concat(Math.ceil(r),"px");this.parentElement.style.maxHeight="".concat(Math.ceil(n),"px");window.objectFitPolyfill(this.videoElement)}},{key:"checkAndRecoverPlayback",value:function(){var t=fi(vi.mark(function t(){var r,n;var i,a;return vi.wrap(function t(o){while(1){switch(o.prev=o.next){case 0:i=this.videoElement.srcObject;if(!(document.visibilityState==="visible"&&((r=this.cameraManager)===null||r===void 0?void 0:r.activeCamera)!=null&&((n=this.videoElement)===null||n===void 0?void 0:n.srcObject)!=null)){o.next=15;break}if(!(!i.active||((a=i.getVideoTracks()[0])===null||a===void 0?void 0:a.muted)!==false)){o.next=13;break}o.prev=3;e.Logger.log(e.Logger.Level.DEBUG,'Detected visibility change ("visible") event with inactive video source, try to reinitialize camera');o.next=7;return this.cameraManager.reinitializeCamera();case 7:o.next=11;break;case 9:o.prev=9;o.t0=o["catch"](3);case 11:o.next=15;break;case 13:e.Logger.log(e.Logger.Level.DEBUG,'Detected visibility change ("visible") event with active video source, replay video');this.playVideo();case 15:case"end":return o.stop()}}},t,this,[[3,9]])}));function r(){return t.apply(this,arguments)}return r}()},{key:"updateCameraUploadProgress",value:function e(t){this.cameraUploadProgressElement.setAttribute("data-progress",t)}},{key:"cameraUploadImageLoad",value:function(){var e=fi(vi.mark(function e(t){var r,n,i;return vi.wrap(function e(a){while(1){switch(a.prev=a.next){case 0:this.updateCameraUploadProgress("100");i=1440;if(t.naturalWidth<=i&&t.naturalHeight<=i){r=t.naturalWidth;n=t.naturalHeight}else{if(t.naturalWidth>t.naturalHeight){r=i;n=Math.round(t.naturalHeight/t.naturalWidth*i)}else{r=Math.round(t.naturalWidth/t.naturalHeight*i);n=i}}a.next=5;return this.cameraUploadFileProcess(t,r,n);case 5:case"end":return a.stop()}}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"cameraUploadFileProcess",value:function(){var t=fi(vi.mark(function t(r,n,i){return vi.wrap(function t(a){while(1){switch(a.prev=a.next){case 0:if(this.context2d!=null){this.context2d.canvas.width=n;this.context2d.canvas.height=i;this.context2d.drawImage(r,0,0,n,i);this.scanner.applyImageSettings({width:n,height:i,format:e.ImageSettings.Format.RGBA_8U})}this.setCameraUploadGuiBusyScanning(true);a.next=4;return this.cameraUploadCallback();case 4:this.setCameraUploadGuiBusyScanning(false);this.cameraUploadInProgress=false;case 6:case"end":return a.stop()}}},t,this)}));function r(e,r,n){return t.apply(this,arguments)}return r}()},{key:"cameraUploadFile",value:function t(){var r=this;var n=this.cameraUploadInputElement.files;if(n!=null&&n.length!==0){this.cameraUploadInProgress=true;var i=new Image;var a=new FileReader;a.onload=function(){r.cameraUploadInputElement.value="";if(a.result!=null){i.onload=r.cameraUploadImageLoad.bind(r,i);i.onprogress=function(e){if(e.lengthComputable){var t=Math.round(e.loaded/e.total*20)*5;if(t<=100){r.updateCameraUploadProgress(t.toString())}}};i.onerror=function(){r.cameraUploadInProgress=false;e.Logger.log(e.Logger.Level.WARN,"Could not load image from selected file")};i.src=a.result}};a.onerror=function(){var t;r.cameraUploadInProgress=false;e.Logger.log(e.Logger.Level.WARN,"Error while reading the file: ".concat((t=a.error)===null||t===void 0?void 0:t.toString()))};this.updateCameraUploadProgress("0");a.readAsDataURL(n[0])}}},{key:"cameraSwitcherListener",value:function(){var t=fi(vi.mark(function t(r){var n,i,a,o;return vi.wrap(function t(s){while(1){switch(s.prev=s.next){case 0:if(!(!this.cameraSwitchInProgress&&this.cameraManager!=null)){s.next=40;break}n=this.cameraManager;r.preventDefault();s.prev=3;s.next=6;return e.CameraAccess.getCameras();case 6:i=s.sent;if(!(n.activeCamera==null)){s.next=9;break}return s.abrupt("return");case 9:if(!(i.length<=1)){s.next=12;break}this.setCameraSwitcherVisible(false);return s.abrupt("return");case 12:this.cameraSwitchInProgress=true;a=i.indexOf(n.activeCamera);o=(a+1)%i.length;case 15:if(!(o!==a)){s.next=33;break}s.prev=16;s.next=19;return n.initializeCameraWithSettings(i[o],n.activeCameraSettings);case 19:s.next=30;break;case 21:s.prev=21;s.t0=s["catch"](16);e.Logger.log(e.Logger.Level.WARN,"Couldn't access camera:",i[o],s.t0);o=(o+1)%i.length;if(!(o===a)){s.next=29;break}this.setCameraSwitcherVisible(false);s.next=29;return n.initializeCameraWithSettings(i[o],n.activeCameraSettings);case 29:return s.abrupt("continue",15);case 30:return s.abrupt("break",33);case 33:this.cameraSwitchInProgress=false;s.next=40;break;case 36:s.prev=36;s.t1=s["catch"](3);e.Logger.log(e.Logger.Level.ERROR,s.t1);this.cameraSwitchInProgress=false;case 40:case"end":return s.stop()}}},t,this,[[3,36],[16,21]])}));function r(e){return t.apply(this,arguments)}return r}()},{key:"cameraRecoveryListener",value:function(){var e=fi(vi.mark(function e(t){var r;return vi.wrap(function e(n){while(1){switch(n.prev=n.next){case 0:t.preventDefault();if(!(this.cameraManager!=null)){n.next=5;break}this.cameraManager.activeCamera=this.cameraManager.selectedCamera;n.next=5;return(r=this.cameraManager)===null||r===void 0?void 0:r.reinitializeCamera();case 5:case"end":return n.stop()}}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"setupCameraSwitcher",value:function e(){var r=this;this.cameraSwitcherElement.src=vu;this.cameraSwitcherElement.className=t.cameraSwitcherElementClassName;this.cameraSwitcherElement.classList.add(t.hiddenClassName);this.parentElement.appendChild(this.cameraSwitcherElement);["touchstart","mousedown"].forEach(function(e){r.cameraSwitcherElement.addEventListener(e,r.cameraSwitcherListener.bind(r))})}},{key:"setupCameraRecovery",value:function e(r){var n=this;this.cameraRecoveryElement.textContent=r;this.cameraRecoveryElement.className=t.cameraRecoveryElementClassName;this.cameraRecoveryElement.classList.add(t.hiddenClassName);this.parentElement.appendChild(this.cameraRecoveryElement);["touchstart","mousedown"].forEach(function(e){n.cameraRecoveryElement.addEventListener(e,n.cameraRecoveryListener.bind(n))})}},{key:"setupTorchToggler",value:function e(){var r=this;this.torchTogglerElement.src=gu;this.torchTogglerElement.className=t.torchTogglerElementClassName;this.torchTogglerElement.classList.add(t.hiddenClassName);this.parentElement.appendChild(this.torchTogglerElement);["touchstart","mousedown"].forEach(function(e){r.torchTogglerElement.addEventListener(e,function(){var e=fi(vi.mark(function e(t){return vi.wrap(function e(n){while(1){switch(n.prev=n.next){case 0:if(!(r.cameraManager!=null)){n.next=4;break}t.preventDefault();n.next=4;return r.cameraManager.toggleTorch();case 4:case"end":return n.stop()}}},e)}));return function(t){return e.apply(this,arguments)}}())})}},{key:"showScanditLogo",value:function e(r,n){if(r&&(n===null||n===void 0?void 0:n.hiddenScanditLogoAllowed)===true){return}var i=document.createElement("img");i.src=uu;i.className=t.scanditLogoImageElementClassName;this.parentElement.appendChild(i)}},{key:"activateGUI",value:function e(){this.dataCaptureContextCreated=true;if(!this.scanningPaused){this.resumeScanning()}}},{key:"handleNewScanSettings",value:function e(){if(this.customLaserArea==null){this.setLaserArea()}if(this.customViewfinderArea==null){this.setViewfinderArea()}}},{key:"handleVideoDisplay",value:function e(t){if(t&&!this.isVideoElementDetached){this.videoElement.width=this.videoElement.height=0;this.videoElement.style.opacity="0";document.body.appendChild(this.videoElement);this.isVideoElementDetached=true}else if(!t&&this.isVideoElementDetached){this.parentElement.insertAdjacentElement("afterbegin",this.videoElement);this.isVideoElementDetached=false;this.videoElement.removeAttribute("width");this.videoElement.removeAttribute("height");this.videoElement.style.removeProperty("opacity");this.resize()}}},{key:"handleVideoPause",value:function e(){this.playVideo()}},{key:"handleVideoResize",value:function t(){this.resize();if(this.videoElement.videoWidth<=2||this.videoElement.videoHeight<=2){return}if(this.contextWebGL!=null){if(this.contextWebGL.canvas.width===this.videoElement.videoWidth&&this.contextWebGL.canvas.height===this.videoElement.videoHeight){return}this.contextWebGL.canvas.width=this.videoElement.videoWidth;this.contextWebGL.canvas.height=this.videoElement.videoHeight;this.contextWebGL.viewport(0,0,this.contextWebGL.drawingBufferWidth,this.contextWebGL.drawingBufferHeight);this.scanner.applyImageSettings({width:this.contextWebGL.drawingBufferWidth,height:this.contextWebGL.drawingBufferHeight,format:e.ImageSettings.Format.RGBA_8U})}else if(this.context2d!=null){if(this.context2d.canvas.width===this.videoElement.videoWidth&&this.context2d.canvas.height===this.videoElement.videoHeight){return}this.context2d.canvas.width=this.videoElement.videoWidth;this.context2d.canvas.height=this.videoElement.videoHeight;this.scanner.applyImageSettings({width:this.videoElement.videoWidth,height:this.videoElement.videoHeight,format:e.ImageSettings.Format.RGBA_8U})}}},{key:"handleWebGLContextLost",value:function t(){e.Logger.log(e.Logger.Level.WARN,"WebGL context has been lost, restoring...");this.contextWebGL=undefined;this.setupContext(document.createElement("canvas"));this.handleVideoResize();e.Logger.log(e.Logger.Level.WARN,"WebGL context restored")}}]);return t}();Fi(Wd,"grandParentElementClassName","scandit scandit-container");Fi(Wd,"parentElementClassName","scandit scandit-barcode-picker");Fi(Wd,"hiddenClassName","scandit-hidden");Fi(Wd,"hiddenOpacityClassName","scandit-hidden-opacity");Fi(Wd,"videoElementClassName","scandit-video");Fi(Wd,"scanditLogoImageElementClassName","scandit-logo");Fi(Wd,"laserContainerElementClassName","scandit-laser");Fi(Wd,"viewfinderElementClassName","scandit-viewfinder");Fi(Wd,"cameraSwitcherElementClassName","scandit-camera-switcher");Fi(Wd,"cameraRecoveryElementClassName","scandit-camera-recovery");Fi(Wd,"torchTogglerElementClassName","scandit-torch-toggle");Fi(Wd,"cameraUploadElementClassName","scandit-camera-upload");Fi(Wd,"flashColorClassName","scandit-flash-color");Fi(Wd,"flashWhiteClassName","scandit-flash-white");Fi(Wd,"flashInsetClassName","scandit-flash-inset");Fi(Wd,"opacityPulseClassName","scandit-opacity-pulse");Fi(Wd,"mirroredClassName","mirrored");Fi(Wd,"pausedClassName","paused");
/**
	 * A barcode picker element used to get and show camera input and perform scanning operations.
	 *
	 * The barcode picker will automatically fit and scale inside the given *originElement*.
	 *
	 * Each barcode picker internally contains a [[Scanner]] object with its own WebWorker thread running a
	 * separate copy of the external Scandit Data Capture library. To optimize loading times and performance it's
	 * recommended to reuse the same picker and to already create the picker in advance (hidden) and just
	 * display it when needed whenever possible.
	 *
	 * As the loading of the external Scandit Data Capture library can take some time, the picker always starts inactive
	 * (but showing GUI and video) and then activates, if not paused, as soon as the library is ready to scan.
	 * The [[on]] method targeting the [[ready]] event can be used to set up a listener function to be called when the
	 * library is loaded. The picker will be ready to start scanning when the library is fully loaded.
	 *
	 * By default the external Scandit Data Capture library is preloaded in order to reduce the initialization time as much
	 * as possible.
	 *
	 * The picker can also operate in Single Image Mode: letting the user click/tap to take a single image to be scanned
	 * via the camera (mobile) or a file select dialog (desktop). This is provided automatically as fallback by
	 * default when the OS/browser only supports part of the needed features and cannot provide direct access to the camera
	 * for video streaming and continuous scanning, or can also be forced on/off. This behaviour can be set up on creation
	 * via the *singleImageModeSettings* option. Note that in this mode some of the functions provided by the picker will
	 * have no effect.
	 *
	 * By default an alert is shown if an internal error during scanning is encountered which prevents the scanning
	 * procedure from continuing when running on a local IP address. As this uses the built-in [[scanError]] event
	 * functionality, if unwanted it can be disabled by calling [[removeAllListeners]] on the BarcodePicker
	 * instance (right after creation).
	 *
	 * In accordance with our license terms, the Scandit logo displayed in the bottom right corner of the barcode picker
	 * must be displayed and cannot be hidden by any method. Workarounds are not allowed.
	 */e.BarcodePicker=function(){function t(e,r){var n,i,a,o;var s=r.visible,c=r.singleImageModeEnabled,u=r.singleImageModeSettings,l=r.playSoundOnScan,d=r.vibrateOnScan,f=r.scanningPaused,h=r.guiStyle,v=r.videoFit,g=r.cameraRecoveryText,m=r.laserArea,p=r.viewfinderArea,y=r.scanner,b=r.scanSettings,E=r.cameraType,S=r.targetScanningFPS,A=r.hideLogo;Ui(this,t);Fi(this,"cameraManager",void 0);Fi(this,"gui",void 0);Fi(this,"eventEmitter",void 0);Fi(this,"scanner",void 0);Fi(this,"beepSound",void 0);Fi(this,"vibrateFunction",void 0);Fi(this,"scannerReadyEventListener",void 0);Fi(this,"playSoundOnScan",void 0);Fi(this,"vibrateOnScan",void 0);Fi(this,"scanningPaused",void 0);Fi(this,"latestVideoTimeProcessed",void 0);Fi(this,"destroyed",void 0);Fi(this,"isReadyToWork",void 0);Fi(this,"cameraAccess",void 0);Fi(this,"targetScanningFPS",void 0);Fi(this,"averageProcessingTime",void 0);Fi(this,"externalImageData",void 0);Fi(this,"internalImageData",void 0);this.isReadyToWork=false;this.destroyed=false;this.scanningPaused=f;su.Howler.autoSuspend=false;this.beepSound=new su.Howl({src:cu});this.vibrateFunction=(n=(i=(a=navigator.vibrate)!==null&&a!==void 0?a:navigator.webkitVibrate)!==null&&i!==void 0?i:navigator.mozVibrate)!==null&&n!==void 0?n:navigator.msVibrate;this.eventEmitter=new Mc.exports.EventEmitter;this.setPlaySoundOnScanEnabled(l);this.setVibrateOnScanEnabled(d);this.setTargetScanningFPS(S);this.scanner=(o=y===null||y===void 0?void 0:y.applyScanSettings(b))!==null&&o!==void 0?o:new zu({scanSettings:b});this.scannerReadyEventListener=this.handleScannerReady.bind(this);this.scanner.on("ready",this.scannerReadyEventListener);this.gui=new Wd({scanner:this.scanner,originElement:e,singleImageModeEnabled:c,singleImageModeSettings:u,scanningPaused:f,visible:s,guiStyle:h,videoFit:v,hideLogo:A,cameraRecoveryText:g,laserArea:m,viewfinderArea:p,cameraUploadCallback:this.processVideoFrame.bind(this,true)});if(c){this.cameraManager=new Vl(this.scanner,this.triggerCameraAccessError.bind(this),this.gui);this.gui.setCameraType(E)}else{this.cameraManager=new xl(this.scanner,this.triggerCameraAccessError.bind(this),this.gui);this.scheduleVideoProcessing()}this.gui.setCameraManager(this.cameraManager)}Bi(t,[{key:"destroy",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;this.pauseScanning(true);this.scanner.removeListener("ready",this.scannerReadyEventListener);this.destroyed=true;if(t){this.scanner.destroy()}this.gui.destroy();this.eventEmitter.removeAllListeners()}},{key:"applyScanSettings",value:function e(t){this.scanner.applyScanSettings(t);return this}},{key:"isScanningPaused",value:function e(){return this.scanningPaused}},{key:"pauseScanning",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;this.scanningPaused=true;if(t){this.cameraManager.stopStream().catch(function(){})}if(this.scanner.isReady()){this.gui.pauseScanning()}return this}},{key:"resumeScanning",value:function(){var e=fi(vi.mark(function e(){return vi.wrap(function e(t){while(1){switch(t.prev=t.next){case 0:this.scanningPaused=false;if(this.scanner.isReady()){this.gui.resumeScanning()}if(!(this.cameraAccess&&this.getActiveCamera()==null)){t.next=5;break}t.next=5;return this.cameraManager.setupCameras();case 5:return t.abrupt("return",this);case 6:case"end":return t.stop()}}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"getActiveCamera",value:function e(){return this.cameraManager.activeCamera}},{key:"setActiveCamera",value:function(){var e=fi(vi.mark(function e(t,r){return vi.wrap(function e(n){while(1){switch(n.prev=n.next){case 0:if(!(t==null||!this.cameraAccess)){n.next=8;break}this.cameraManager.setSelectedCamera(t);this.cameraManager.setSelectedCameraSettings(r);if(!this.cameraAccess){n.next=6;break}n.next=6;return this.cameraManager.setupCameras();case 6:n.next=10;break;case 8:n.next=10;return this.cameraManager.initializeCameraWithSettings(t,r);case 10:return n.abrupt("return",this);case 11:case"end":return n.stop()}}},e,this)}));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"setCameraType",value:function(){var e=fi(vi.mark(function e(t){return vi.wrap(function e(r){while(1){switch(r.prev=r.next){case 0:this.gui.setCameraType(t);if(!this.cameraAccess){r.next=6;break}r.next=4;return this.cameraManager.setCameraType(t);case 4:r.next=7;break;case 6:this.cameraManager.setInitialCameraType(t);case 7:return r.abrupt("return",this);case 8:case"end":return r.stop()}}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"applyCameraSettings",value:function(){var e=fi(vi.mark(function e(t){return vi.wrap(function e(r){while(1){switch(r.prev=r.next){case 0:if(this.cameraAccess){r.next=4;break}this.cameraManager.setSelectedCameraSettings(t);r.next=6;break;case 4:r.next=6;return this.cameraManager.applyCameraSettings(t);case 6:return r.abrupt("return",this);case 7:case"end":return r.stop()}}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"isVisible",value:function e(){return this.gui.isVisible()}},{key:"setVisible",value:function e(t){this.gui.setVisible(t);return this}},{key:"isMirrorImageEnabled",value:function e(){return this.gui.isMirrorImageEnabled()}},{key:"setMirrorImageEnabled",value:function e(t){this.gui.setMirrorImageEnabled(t,true);return this}},{key:"isPlaySoundOnScanEnabled",value:function e(){return this.playSoundOnScan}},{key:"setPlaySoundOnScanEnabled",value:function e(t){this.playSoundOnScan=t;return this}},{key:"isVibrateOnScanEnabled",value:function e(){return this.vibrateOnScan}},{key:"setVibrateOnScanEnabled",value:function e(t){this.vibrateOnScan=t;return this}},{key:"isCameraSwitcherEnabled",value:function e(){return this.cameraManager.isCameraSwitcherEnabled()}},{key:"setCameraSwitcherEnabled",value:function e(t){this.cameraManager.setCameraSwitcherEnabled(t).catch(function(){});return this}},{key:"isTorchToggleEnabled",value:function e(){return this.cameraManager.isTorchToggleEnabled()}},{key:"setTorchToggleEnabled",value:function e(t){this.cameraManager.setTorchToggleEnabled(t);return this}},{key:"isTapToFocusEnabled",value:function e(){return this.cameraManager.isTapToFocusEnabled()}},{key:"setTapToFocusEnabled",value:function e(t){this.cameraManager.setTapToFocusEnabled(t);return this}},{key:"isPinchToZoomEnabled",value:function e(){return this.cameraManager.isPinchToZoomEnabled()}},{key:"setPinchToZoomEnabled",value:function e(t){this.cameraManager.setPinchToZoomEnabled(t);return this}},{key:"setTorchEnabled",value:function(){var e=fi(vi.mark(function e(t){return vi.wrap(function e(r){while(1){switch(r.prev=r.next){case 0:r.next=2;return this.cameraManager.setTorchEnabled(t);case 2:return r.abrupt("return",this);case 3:case"end":return r.stop()}}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"setZoom",value:function(){var e=fi(vi.mark(function e(t){return vi.wrap(function e(r){while(1){switch(r.prev=r.next){case 0:r.next=2;return this.cameraManager.setZoom(t);case 2:return r.abrupt("return",this);case 3:case"end":return r.stop()}}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"isReady",value:function e(){return this.isReadyToWork}},{key:"on",value:function e(t,r){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(t==="ready"){if(this.isReadyToWork){r()}else{this.eventEmitter.once(t,r,this)}}else{if(n===true){this.eventEmitter.once(t,r,this)}else{this.eventEmitter.on(t,r,this)}}return this}},{key:"removeListener",value:function e(t,r){this.eventEmitter.removeListener(t,r);return this}},{key:"removeAllListeners",value:function e(t){this.eventEmitter.removeAllListeners(t);return this}},{key:"addListener",value:function e(t,r,n){return this.on(t,r,n)}},{key:"setGuiStyle",value:function e(t){this.gui.setGuiStyle(t);return this}},{key:"setVideoFit",value:function e(t){this.gui.setVideoFit(t);return this}},{key:"accessCamera",value:function(){var e=fi(vi.mark(function e(){return vi.wrap(function e(t){while(1){switch(t.prev=t.next){case 0:if(!(!this.cameraAccess||this.getActiveCamera()==null)){t.next=4;break}t.next=3;return this.cameraManager.setupCameras();case 3:this.cameraAccess=true;case 4:return t.abrupt("return",this);case 5:case"end":return t.stop()}}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"createParserForFormat",value:function e(t){return this.scanner.createParserForFormat(t)}},{key:"reassignOriginElement",value:function t(r){if(!e.BrowserHelper.isValidHTMLElement(r)){throw new ru({name:"NoOriginElementError",message:"A valid origin HTML element must be given"})}this.gui.reassignOriginElement(r);return this}},{key:"setTargetScanningFPS",value:function e(t){if(t<=0){t=30}this.targetScanningFPS=t;return this}},{key:"getScanner",value:function e(){return this.scanner}},{key:"clearSession",value:function e(){this.scanner.clearSession();return this}},{key:"setLaserArea",value:function e(t){this.gui.setLaserArea(t);return this}},{key:"setViewfinderArea",value:function e(t){this.gui.setViewfinderArea(t);return this}},{key:"pauseCameraAccess",value:function e(){this.cameraAccess=false;this.cameraManager.stopStream().catch(function(){});return this}},{key:"triggerCameraAccessError",value:function e(t){this.eventEmitter.emit("cameraAccessError",t)}},{key:"handleScanResult",value:function e(t){var r=this;t.imageData=this.externalImageData;this.eventEmitter.emit("processFrame",t);if(t.barcodes.length!==0||t.texts.length!==0){this.eventEmitter.once("scan",function(){var e=t.barcodes.some(function(e){return!t.rejectedCodes.has(e)});var n=t.texts.some(function(e){return!t.rejectedTexts.has(e)});if(e||n){r.gui.flashGUI();if(r.playSoundOnScan){r.beepSound.play()}if(r.vibrateOnScan){var i;(i=r.vibrateFunction)===null||i===void 0?void 0:i.call(navigator,300)}}});this.eventEmitter.emit("scan",t)}}},{key:"scheduleVideoProcessing",value:function e(){var t=this;var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;window.setTimeout(fi(vi.mark(function e(){return vi.wrap(function e(r){while(1){switch(r.prev=r.next){case 0:r.next=2;return t.videoProcessing();case 2:case"end":return r.stop()}}},e)})),r)}},{key:"scheduleNextVideoProcessing",value:function(){var e=fi(vi.mark(function e(t){var r;return vi.wrap(function e(n){while(1){switch(n.prev=n.next){case 0:if(!(this.targetScanningFPS<60)){n.next=11;break}if(this.averageProcessingTime==null){this.averageProcessingTime=performance.now()-t}else{this.averageProcessingTime=this.averageProcessingTime*.9+(performance.now()-t)*.1}r=Math.max(0,1e3/this.targetScanningFPS-this.averageProcessingTime);if(!(Math.round(r)<=16)){n.next=8;break}n.next=6;return this.videoProcessing();case 6:n.next=9;break;case 8:this.scheduleVideoProcessing(r);case 9:n.next=13;break;case 11:n.next=13;return this.videoProcessing();case 13:case"end":return n.stop()}}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"processVideoFrame",value:function(){var e=fi(vi.mark(function e(t){var r;return vi.wrap(function e(n){while(1){switch(n.prev=n.next){case 0:this.internalImageData=this.gui.getImageData(this.internalImageData);if(!(this.internalImageData==null)){n.next=3;break}return n.abrupt("return");case 3:if(this.externalImageData==null||this.externalImageData.byteLength===0||this.externalImageData.byteLength!==this.internalImageData.byteLength){this.externalImageData=new Uint8Array(this.internalImageData)}else{this.externalImageData.set(this.internalImageData)}if(this.scanningPaused){n.next=21;break}if(this.eventEmitter.listenerCount("submitFrame")>0){this.eventEmitter.emit("submitFrame",new ku([],[],this.externalImageData,this.scanner.getImageSettings()))}n.prev=6;n.next=9;return this.scanner.processImage(this.internalImageData,t);case 9:r=n.sent;this.internalImageData=r.imageData;if(!this.scanningPaused){this.handleScanResult(r)}n.next=21;break;case 14:n.prev=14;n.t0=n["catch"](6);this.internalImageData=undefined;if(!(n.t0.name==="ImageSettingsDataMismatch")){n.next=19;break}return n.abrupt("return");case 19:this.pauseScanning();this.eventEmitter.emit("scanError",n.t0);case 21:case"end":return n.stop()}}},e,this,[[6,14]])}));function t(t){return e.apply(this,arguments)}return t}()},{key:"videoProcessing",value:function(){var e=fi(vi.mark(function e(){var t;var r;return vi.wrap(function e(n){while(1){switch(n.prev=n.next){case 0:if(!this.destroyed){n.next=2;break}return n.abrupt("return");case 2:if(!(((t=this.getActiveCamera())===null||t===void 0?void 0:t.currentResolution)==null||this.scanningPaused||!this.scanner.isReady()||this.scanner.isBusyProcessing()||this.latestVideoTimeProcessed===this.gui.getVideoCurrentTime())){n.next=5;break}this.scheduleVideoProcessing();return n.abrupt("return");case 5:if(!(this.latestVideoTimeProcessed==null)){n.next=8;break}n.next=8;return this.resumeScanning();case 8:r=performance.now();this.latestVideoTimeProcessed=this.gui.getVideoCurrentTime();n.next=12;return this.processVideoFrame(false);case 12:n.next=14;return this.scheduleNextVideoProcessing(r);case 14:case"end":return n.stop()}}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"handleScannerReady",value:function e(){this.isReadyToWork=true;this.eventEmitter.emit("ready")}}],[{key:"ready",value:function e(){}},{key:"submitFrame",value:function e(t){}},{key:"processFrame",value:function e(t){}},{key:"scan",value:function e(t){}},{key:"scanError",value:function e(t){}},{key:"cameraAccessError",value:function e(t){}},{key:"create",value:function(){var r=fi(vi.mark(function r(n){var i;var a,o,s,c,u,l,d,f,h,v,g,m,p,y,b,E,S,A,_,w,C,T,N,I,k,L,x,M,O,V,R,D,P,F,j,B,U,G,z,W,H,Y,Q,Z,q,X,K,J=arguments;return vi.wrap(function r($){while(1){switch($.prev=$.next){case 0:a=J.length>1&&J[1]!==undefined?J[1]:{},o=a.visible,s=o===void 0?true:o,c=a.singleImageModeSettings,u=c===void 0?{}:c,l=a.playSoundOnScan,d=l===void 0?false:l,f=a.vibrateOnScan,h=f===void 0?false:f,v=a.scanningPaused,g=v===void 0?false:v,m=a.guiStyle,p=m===void 0?t.GuiStyle.LASER:m,y=a.videoFit,b=y===void 0?t.ObjectFit.CONTAIN:y,E=a.cameraRecoveryText,S=E===void 0?"Tap/click to resume scanning":E,A=a.laserArea,_=a.viewfinderArea,w=a.scanner,C=a.scanSettings,T=C===void 0?new e.ScanSettings:C,N=a.enableCameraSwitcher,I=N===void 0?true:N,k=a.enableTorchToggle,L=k===void 0?true:k,x=a.enableTapToFocus,M=x===void 0?true:x,O=a.enablePinchToZoom,V=O===void 0?true:O,R=a.accessCamera,D=R===void 0?true:R,P=a.camera,F=a.cameraType,j=F===void 0?e.Camera.Type.BACK:F,B=a.cameraSettings,U=a.targetScanningFPS,G=U===void 0?30:U,z=a.hideLogo,W=z===void 0?false:z;H=e.BrowserHelper.userAgentInfo.getDevice().type;Y=H==="mobile"||H==="tablet";Q=(i=Y?u.mobile:u.desktop)!==null&&i!==void 0?i:{};Z=Q.usageStrategy===e.SingleImageModeSettings.UsageStrategy.NEVER;q=Q.usageStrategy===e.SingleImageModeSettings.UsageStrategy.ALWAYS;X=e.BrowserHelper.checkBrowserCompatibility();if(!(!X.scannerSupport||Z&&!X.fullSupport)){$.next=9;break}throw new au(X);case 9:if(!X.fullSupport&&!q){e.Logger.log(e.Logger.Level.INFO,"BarcodePicker's Single Image Mode is being used as fallback as the OS/browser combination doesn't "+"support camera video stream scanning (https://caniuse.com/#feat=stream). "+'You can configure this behaviour via the "singleImageModeSettings" option.',X)}if(!(e.configurePhase!=="done")){$.next=12;break}throw new ru({name:"LibraryNotConfiguredError",message:e.configurePhase==="started"?"The library has not completed its configuration yet, please call 'configure' and wait for the returned\n              promise's resolution":"The library was not configured, 'configure' must be called with valid parameters before instantiating\n              the BarcodePicker"});case 12:if(e.BrowserHelper.isValidHTMLElement(n)){$.next=14;break}throw new ru({name:"NoOriginElementError",message:"A valid origin HTML element must be given"});case 14:K=new t(n,{visible:s,singleImageModeEnabled:X.fullSupport?q:true,singleImageModeSettings:Q,playSoundOnScan:d,vibrateOnScan:h,scanningPaused:g,guiStyle:p,videoFit:b,cameraRecoveryText:S,laserArea:A,viewfinderArea:_,scanner:w,scanSettings:T,cameraType:j,targetScanningFPS:G,hideLogo:W});K.cameraManager.setInteractionOptions(I,L,M,V);K.cameraManager.setInitialCameraType(j);K.cameraManager.setSelectedCamera(P);K.cameraManager.setSelectedCameraSettings(B);K.cameraAccess=D;K.on("scanError",function(e){if(["localhost","127.0.0.1",""].includes(window.location.hostname)){alert(e)}});if(!D){$.next=24;break}$.next=24;return K.cameraManager.setupCameras();case 24:return $.abrupt("return",K);case 25:case"end":return $.stop()}}},r)}));function n(e){return r.apply(this,arguments)}return n}()}]);return t}();(function(e){(function(e){
/**
	     * No GUI is shown to indicate where the barcode/text should be placed.
	     * Be aware that the Scandit logo continues to be displayed as showing it is part of the license agreement.
	     */
e["NONE"]="none";e["LASER"]="laser";e["VIEWFINDER"]="viewfinder"})(e.GuiStyle||(e.GuiStyle={}));(function(e){e["CONTAIN"]="contain";e["COVER"]="cover"})(e.ObjectFit||(e.ObjectFit={}))})(e.BarcodePicker||(e.BarcodePicker={}));function Hd(e){throw new Error("Unexpected object: ".concat(e))}function Yd(e,t){switch(e.type){case"boolean":return Qd(t,e.default);case"string":case"guiStyle":case"cameraType":case"videoFit":case"codeDirection":case"recognitionMode":return Zd(t,e.default);case"array":return Xd(t,e.default);case"integer":return qd(t,e.default);case"searchArea":case"camera":case"cameraSettings":case"singleImageModeSettings":return Kd(t,e.default);case"textRecognitionSettings":return new ju(Kd(t,e.default))}return Hd(e)}function Qd(e,t){return e==null?t:e!=="false"}function Zd(e,t){return e!==null&&e!==void 0?e:t}function qd(e,t){if(e==null){return t}var r=wl(e,10);if(isNaN(r)){return t}return r}function Xd(e,t){if(e==null){return t}var r=Jd(e);if(r==null||!Array.isArray(r)){return t}return r}function Kd(e,t){if(e==null){return t}var r=Jd(e);if(r==null){return t}if(Array.isArray(r)||typeof r==="number"){return t}return r}function Jd(e){try{return JSON.parse(e)}catch(e){return}}var $d;(function(e){e["ACCESS_CAMERA"]="accessCamera";e["CAMERA"]="camera";e["CAMERA_SETTINGS"]="cameraSettings";e["CAMERA_TYPE"]="cameraType";e["CONFIGURE"]="configure";e["ENABLE_CAMERA_SWITCHER"]="enableCameraSwitcher";e["ENABLE_PINCH_TO_ZOOM"]="enablePinchToZoom";e["ENABLE_TAP_TO_FOCUS"]="enableTapToFocus";e["ENABLE_TORCH_TOGGLE"]="enableTorchToggle";e["GUI_STYLE"]="guiStyle";e["LASER_AREA"]="laserArea";e["PLAY_SOUND_ON_SCAN"]="playSoundOnScan";e["SCANNING_PAUSED"]="scanningPaused";e["SINGLE_IMAGE_MODE_SETTINGS"]="singleImageModeSettings";e["TARGET_SCANNING_FPS"]="targetScanningFPS";e["VIBRATE_ON_SCAN"]="vibrateOnScan";e["VIDEO_FIT"]="videoFit";e["VIEWFINDER_AREA"]="viewfinderArea";e["VISIBLE"]="visible";e["CONFIGURE_ENGINE_LOCATION"]="configure.engineLocation";e["CONFIGURE_LICENSE_KEY"]="configure.licenseKey";e["CONFIGURE_HIGH_QUALITY_BLURRY_RECOGNITION"]="configure.highQualityBlurryRecognition";e["CONFIGURE_LOAD_TEXT_RECOGNITION"]="configure.loadTextRecognition";e["CONFIGURE_PRELOAD_BLURRY_RECOGNITION"]="configure.preloadBlurryRecognition";e["CONFIGURE_PRELOAD_ENGINE"]="configure.preloadEngine";e["SCAN_SETTINGS_BLURRY_RECOGNITION"]="scanSettings.blurryRecognition";e["SCAN_SETTINGS_CODE_DIRECTION_HINT"]="scanSettings.codeDirectionHint";e["SCAN_SETTINGS_CODE_DUPLICATE_FILTER"]="scanSettings.codeDuplicateFilter";e["SCAN_SETTINGS_DEVICE_NAME"]="scanSettings.deviceName";e["SCAN_SETTINGS_ENABLED_SYMBOLOGIES"]="scanSettings.enabledSymbologies";e["SCAN_SETTINGS_GPU_ACCELERATION"]="scanSettings.gpuAcceleration";e["SCAN_SETTINGS_MAX_NUMBER_OF_CODES_PER_FRAME"]="scanSettings.maxNumberOfCodesPerFrame";e["SCAN_SETTINGS_RECOGNITION_MODE"]="scanSettings.recognitionMode";e["SCAN_SETTINGS_SEARCH_AREA"]="scanSettings.searchArea";e["SCAN_SETTINGS_TEXT_RECOGNITION_SETTINGS"]="scanSettings.textRecognitionSettings"})($d||($d={}));var ef=Fu($d);var tf;function rf(){if(tf!=null){return tf}return tf=Object.freeze({[$d.ACCESS_CAMERA]:{type:"boolean",default:true},[$d.CAMERA]:{type:"camera",default:undefined},[$d.CAMERA_SETTINGS]:{type:"cameraSettings",default:undefined},[$d.CAMERA_TYPE]:{type:"cameraType",default:e.Camera.Type.BACK},[$d.CONFIGURE]:{type:"boolean",default:true},[$d.ENABLE_CAMERA_SWITCHER]:{type:"boolean",default:true},[$d.ENABLE_PINCH_TO_ZOOM]:{type:"boolean",default:true},[$d.ENABLE_TAP_TO_FOCUS]:{type:"boolean",default:true},[$d.ENABLE_TORCH_TOGGLE]:{type:"boolean",default:true},[$d.GUI_STYLE]:{type:"guiStyle",default:e.BarcodePicker.GuiStyle.LASER},[$d.LASER_AREA]:{type:"searchArea",default:undefined},[$d.PLAY_SOUND_ON_SCAN]:{type:"boolean",default:true},[$d.SCANNING_PAUSED]:{type:"boolean",default:false},[$d.SINGLE_IMAGE_MODE_SETTINGS]:{type:"singleImageModeSettings",default:undefined},[$d.TARGET_SCANNING_FPS]:{type:"integer",default:30},[$d.VIBRATE_ON_SCAN]:{type:"boolean",default:false},[$d.VIDEO_FIT]:{type:"videoFit",default:e.BarcodePicker.ObjectFit.CONTAIN},[$d.VIEWFINDER_AREA]:{type:"searchArea",default:undefined},[$d.VISIBLE]:{type:"boolean",default:true},[$d.CONFIGURE_ENGINE_LOCATION]:{type:"string",default:"/"},[$d.CONFIGURE_LICENSE_KEY]:{type:"string",default:""},[$d.CONFIGURE_HIGH_QUALITY_BLURRY_RECOGNITION]:{type:"boolean",default:false},[$d.CONFIGURE_LOAD_TEXT_RECOGNITION]:{type:"boolean",default:false},[$d.CONFIGURE_PRELOAD_BLURRY_RECOGNITION]:{type:"boolean",default:true},[$d.CONFIGURE_PRELOAD_ENGINE]:{type:"boolean",default:true},[$d.SCAN_SETTINGS_BLURRY_RECOGNITION]:{type:"boolean",default:true},[$d.SCAN_SETTINGS_CODE_DIRECTION_HINT]:{type:"codeDirection",default:e.ScanSettings.CodeDirection.LEFT_TO_RIGHT},[$d.SCAN_SETTINGS_CODE_DUPLICATE_FILTER]:{type:"integer",default:0},[$d.SCAN_SETTINGS_DEVICE_NAME]:{type:"string",default:undefined},[$d.SCAN_SETTINGS_ENABLED_SYMBOLOGIES]:{type:"array",default:[]},[$d.SCAN_SETTINGS_GPU_ACCELERATION]:{type:"boolean",default:true},[$d.SCAN_SETTINGS_MAX_NUMBER_OF_CODES_PER_FRAME]:{type:"integer",default:1},[$d.SCAN_SETTINGS_RECOGNITION_MODE]:{type:"recognitionMode",default:e.ScanSettings.RecognitionMode.CODE},[$d.SCAN_SETTINGS_SEARCH_AREA]:{type:"searchArea",default:undefined},[$d.SCAN_SETTINGS_TEXT_RECOGNITION_SETTINGS]:{type:"textRecognitionSettings",default:undefined}})}var nf,af,of,sf,cf,uf,lf,df,ff,hf,vf,gf,mf,pf,yf,bf,Ef,Sf,Af,_f,wf,Cf,Tf,Nf,If,kf,Lf,xf,Mf,Of,Vf,Rf,Df,Pf,Ff;nf=$d.ACCESS_CAMERA;af=$d.CAMERA;of=$d.CAMERA_SETTINGS;sf=$d.CAMERA_TYPE;cf=$d.CONFIGURE;uf=$d.ENABLE_CAMERA_SWITCHER;lf=$d.ENABLE_PINCH_TO_ZOOM;df=$d.ENABLE_TAP_TO_FOCUS;ff=$d.ENABLE_TORCH_TOGGLE;hf=$d.GUI_STYLE;vf=$d.LASER_AREA;gf=$d.PLAY_SOUND_ON_SCAN;mf=$d.SCANNING_PAUSED;pf=$d.SINGLE_IMAGE_MODE_SETTINGS;yf=$d.TARGET_SCANNING_FPS;bf=$d.VIBRATE_ON_SCAN;Ef=$d.VIDEO_FIT;Sf=$d.VIEWFINDER_AREA;Af=$d.VISIBLE;_f=$d.CONFIGURE_ENGINE_LOCATION;wf=$d.CONFIGURE_LICENSE_KEY;Cf=$d.CONFIGURE_HIGH_QUALITY_BLURRY_RECOGNITION;Tf=$d.CONFIGURE_LOAD_TEXT_RECOGNITION;Nf=$d.CONFIGURE_PRELOAD_BLURRY_RECOGNITION;If=$d.CONFIGURE_PRELOAD_ENGINE;kf=$d.SCAN_SETTINGS_BLURRY_RECOGNITION;Lf=$d.SCAN_SETTINGS_CODE_DIRECTION_HINT;xf=$d.SCAN_SETTINGS_CODE_DUPLICATE_FILTER;Mf=$d.SCAN_SETTINGS_DEVICE_NAME;Of=$d.SCAN_SETTINGS_ENABLED_SYMBOLOGIES;Vf=$d.SCAN_SETTINGS_GPU_ACCELERATION;Rf=$d.SCAN_SETTINGS_MAX_NUMBER_OF_CODES_PER_FRAME;Df=$d.SCAN_SETTINGS_RECOGNITION_MODE;Pf=$d.SCAN_SETTINGS_SEARCH_AREA;Ff=$d.SCAN_SETTINGS_TEXT_RECOGNITION_SETTINGS;var jf=function(e,t,r,n,i,a,o,s,c,u,l,d,f,h,v,g,m,p,y,b,E,S,A,_,w,C,T,N,I,k,L,x,M,O,V){function R(e,t){Ui(this,R);Fi(this,"schema",void 0);Fi(this,"view",void 0);this.schema=e;this.view=t}Bi(R,[{key:e,get:function e(){return this.convertToPrimary($d.ACCESS_CAMERA)}},{key:t,get:function e(){return this.convertToPrimary($d.CAMERA)}},{key:r,get:function e(){return this.convertToPrimary($d.CAMERA_SETTINGS)}},{key:n,get:function e(){return this.convertToPrimary($d.CAMERA_TYPE)}},{key:i,get:function e(){return this.convertToPrimary($d.CONFIGURE)}},{key:a,get:function e(){return this.convertToPrimary($d.ENABLE_CAMERA_SWITCHER)}},{key:o,get:function e(){return this.convertToPrimary($d.ENABLE_PINCH_TO_ZOOM)}},{key:s,get:function e(){return this.convertToPrimary($d.ENABLE_TAP_TO_FOCUS)}},{key:c,get:function e(){return this.convertToPrimary($d.ENABLE_TORCH_TOGGLE)}},{key:u,get:function e(){return this.convertToPrimary($d.GUI_STYLE)}},{key:l,get:function e(){return this.convertToPrimary($d.LASER_AREA)}},{key:d,get:function e(){return this.convertToPrimary($d.PLAY_SOUND_ON_SCAN)}},{key:f,get:function e(){return this.convertToPrimary($d.SCANNING_PAUSED)}},{key:h,get:function e(){return this.convertToPrimary($d.SINGLE_IMAGE_MODE_SETTINGS)}},{key:v,get:function e(){return this.convertToPrimary($d.TARGET_SCANNING_FPS)}},{key:g,get:function e(){return this.convertToPrimary($d.VIBRATE_ON_SCAN)}},{key:m,get:function e(){return this.convertToPrimary($d.VIDEO_FIT)}},{key:p,get:function e(){return this.convertToPrimary($d.VIEWFINDER_AREA)}},{key:y,get:function e(){return this.convertToPrimary($d.VISIBLE)}},{key:b,get:function e(){return this.convertToPrimary($d.CONFIGURE_ENGINE_LOCATION)}},{key:E,get:function e(){return this.convertToPrimary($d.CONFIGURE_LICENSE_KEY)}},{key:S,get:function e(){return this.convertToPrimary($d.CONFIGURE_HIGH_QUALITY_BLURRY_RECOGNITION)}},{key:A,get:function e(){return this.convertToPrimary($d.CONFIGURE_LOAD_TEXT_RECOGNITION)}},{key:_,get:function e(){return this.convertToPrimary($d.CONFIGURE_PRELOAD_BLURRY_RECOGNITION)}},{key:w,get:function e(){return this.convertToPrimary($d.CONFIGURE_PRELOAD_ENGINE)}},{key:C,get:function e(){return this.convertToPrimary($d.SCAN_SETTINGS_BLURRY_RECOGNITION)}},{key:T,get:function e(){return this.convertToPrimary($d.SCAN_SETTINGS_CODE_DIRECTION_HINT)}},{key:N,get:function e(){return this.convertToPrimary($d.SCAN_SETTINGS_CODE_DUPLICATE_FILTER)}},{key:I,get:function e(){return this.convertToPrimary($d.SCAN_SETTINGS_DEVICE_NAME)}},{key:k,get:function e(){return this.convertToPrimary($d.SCAN_SETTINGS_ENABLED_SYMBOLOGIES)}},{key:L,get:function e(){return this.convertToPrimary($d.SCAN_SETTINGS_GPU_ACCELERATION)}},{key:x,get:function e(){return this.convertToPrimary($d.SCAN_SETTINGS_MAX_NUMBER_OF_CODES_PER_FRAME)}},{key:M,get:function e(){return this.convertToPrimary($d.SCAN_SETTINGS_RECOGNITION_MODE)}},{key:O,get:function e(){return this.convertToPrimary($d.SCAN_SETTINGS_SEARCH_AREA)}},{key:V,get:function e(){return this.convertToPrimary($d.SCAN_SETTINGS_TEXT_RECOGNITION_SETTINGS)}},{key:"convertToPrimary",value:function e(t){var r;return Yd(this.schema[t],(r=this.view.getAttribute(t))!==null&&r!==void 0?r:undefined)}}]);return R}(nf,af,of,sf,cf,uf,lf,df,ff,hf,vf,gf,mf,pf,yf,bf,Ef,Sf,Af,_f,wf,Cf,Tf,Nf,If,kf,Lf,xf,Mf,Of,Vf,Rf,Df,Pf,Ff);function Bf(e,t){switch(e.type){case"boolean":return t?"true":"false";case"guiStyle":case"integer":case"string":case"videoFit":case"codeDirection":case"recognitionMode":return t.toString();case"array":case"camera":case"cameraSettings":case"searchArea":case"singleImageModeSettings":case"textRecognitionSettings":return Iu(t);case"cameraType":return t.cameraType.toString()}return Hd(e)}
/*! *****************************************************************************
	Copyright (c) Microsoft Corporation.

	Permission to use, copy, modify, and/or distribute this software for any
	purpose with or without fee is hereby granted.

	THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	PERFORMANCE OF THIS SOFTWARE.
	***************************************************************************** */function Uf(e,t,r,n){var i=arguments.length,a=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)if(o=e[s])a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a;return i>3&&a&&Object.defineProperty(t,r,a),a}var Gf=function(){function t(){Ui(this,t)}Bi(t,null,[{key:"isBooleanAttribute",value:function e(t){return t==="true"||t==="false"}},{key:"isBooleanProperty",value:function e(t){return typeof t==="boolean"}},{key:"isIntegerAttribute",value:function e(t){return typeof t==="string"&&/^-?\d+$/.test(t)}},{key:"isIntegerProperty",value:function e(t){return Number.isInteger(t)}},{key:"isValidCameraType",value:function t(r){return Fu(e.Camera.Type).includes(r)}},{key:"isValidGuiStyle",value:function t(r){return Fu(e.BarcodePicker.GuiStyle).includes(r)}},{key:"isValidVideoFit",value:function t(r){return Fu(e.BarcodePicker.ObjectFit).includes(r)}},{key:"isValidCodeDirection",value:function t(r){return Fu(e.ScanSettings.CodeDirection).includes(r)}},{key:"isValidRecognitionMode",value:function t(r){return Fu(e.ScanSettings.RecognitionMode).includes(r)}},{key:"isArray",value:function e(t){return Array.isArray(t)}},{key:"isValidJsonArray",value:function e(t){var r;try{r=JSON.parse(t)}catch(e){return false}return Array.isArray(r)}},{key:"isValidSearchAreaAttribute",value:function e(r){var n;try{n=JSON.parse(r)}catch(e){return false}return t.isValidSearchAreaProperty(n)}},{key:"isValidSearchAreaProperty",value:function e(t){if(t==null||typeof t!=="object"){return false}return t.x>=0&&t.x<=1&&t.y>=0&&t.y<=1&&t.width>=0&&t.width<=1&&t.height>=0&&t.height<=1}},{key:"isValidCameraObject",value:function e(t){var r;var n;try{n=JSON.parse(t)}catch(e){return false}return typeof((r=n)===null||r===void 0?void 0:r.deviceId)==="string"}},{key:"isValidCameraSettingsObject",value:function e(t){var r;var n;try{n=JSON.parse(t)}catch(e){return false}return typeof((r=n)===null||r===void 0?void 0:r.resolutionPreference)==="string"}},{key:"isValidSingleImageModeSettingsObject",value:function e(t){var r;try{r=JSON.parse(t)}catch(e){return false}return r!=null&&typeof r==="object"}},{key:"isValidTextRecognitionSettingsObject",value:function e(t){var r;try{r=JSON.parse(t)}catch(e){return false}return r!=null&&typeof r==="object"}},{key:"getExpectationMessageForType",value:function e(t){var r={booleanAttribute:'Expected one of "true" or "false"',boolean:"Boolean expected",integer:"Integer expected",array:"Array expected",jsonArray:"Expected JSON array",videoFit:'Expected a valid BarcodePicker.ObjectFit"',camera:"Expected JSON object having properties of a Camera object",cameraSettings:"Expected JSON object having properties of a CameraSettings object",cameraType:'Expected a valid Camera.Type"',codeDirection:'Expected a valid ScanSettings.CodeDirection"',recognitionMode:'Expected a valid ScanSettings.RecognitionMode"',guiStyle:'Expected a valid BarcodePicker.GuiStyle"',searchArea:"Expected JSON object having properties of a SearchArea object",singleImageModeSettings:"Expected JSON object having properties of a SingleImageModeSettings object",textRecognitionSettings:"Expected JSON object having properties of a TextRecognitionSettings object"};return r[t]}}]);return t}();Fi(Gf,"expectationMessage",new Fc);Uf([zf("booleanAttribute")],Gf,"isBooleanAttribute",null);Uf([zf("boolean")],Gf,"isBooleanProperty",null);Uf([zf("integer")],Gf,"isIntegerAttribute",null);Uf([zf("integer")],Gf,"isIntegerProperty",null);Uf([zf("cameraType")],Gf,"isValidCameraType",null);Uf([zf("guiStyle")],Gf,"isValidGuiStyle",null);Uf([zf("videoFit")],Gf,"isValidVideoFit",null);Uf([zf("codeDirection")],Gf,"isValidCodeDirection",null);Uf([zf("recognitionMode")],Gf,"isValidRecognitionMode",null);Uf([zf("array")],Gf,"isArray",null);Uf([zf("jsonArray")],Gf,"isValidJsonArray",null);Uf([zf("searchArea")],Gf,"isValidSearchAreaAttribute",null);Uf([zf("searchArea")],Gf,"isValidSearchAreaProperty",null);Uf([zf("camera")],Gf,"isValidCameraObject",null);Uf([zf("cameraSettings")],Gf,"isValidCameraSettingsObject",null);Uf([zf("singleImageModeSettings")],Gf,"isValidSingleImageModeSettingsObject",null);Uf([zf("textRecognitionSettings")],Gf,"isValidTextRecognitionSettingsObject",null);function zf(e){return function(t,r){t.expectationMessage.set(t[r],t.getExpectationMessageForType(e))}}function Wf(e,t){var r=Object.keys(e);if(Hu){var n=Hu(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Hf(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Wf(Object(r),!0).forEach(function(t){Fi(e,t,r[t])}):nl?Object.defineProperties(e,nl(r)):Wf(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var Yf=function(){function t(r){Ui(this,t);Fi(this,"view",void 0);Fi(this,"picker",void 0);Fi(this,"lazyAttributeConverter",void 0);Fi(this,"scanSettings",void 0);Fi(this,"viewConnected",false);Fi(this,"trackAttributes",true);Fi(this,"allSymbologies",Fu(e.Barcode.Symbology).filter(function(e){return typeof e==="string"}));this.view=r}Bi(t,[{key:"viewConnectedCallback",value:function(){var e=fi(vi.mark(function e(){return vi.wrap(function e(t){while(1){switch(t.prev=t.next){case 0:this.viewConnected=true;this.view.initializeDom();this.initializeAttributeConversionGetter();if(!this.lazyAttributeConverter[$d.CONFIGURE]){t.next=6;break}t.next=6;return this.initPicker();case 6:case"end":return t.stop()}}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"attributeChangedCallback",value:function e(t){if(!this.viewConnected||!this.trackAttributes){return}var r=this.view.getAttribute(t);if(r!=null&&!this.validateAttribute(t,r)){return}var n=this.attributeToCamelCase(t);this.applyChangeFromAttributeChange(n)}},{key:"viewDisconnectedCallback",value:function e(){this.viewConnected=false;this.picker.destroy();delete this.picker;delete this.scanSettings}},{key:"applyChangeFromAttributeChange",value:function t(r){var n=this;switch(r){case $d.ACCESS_CAMERA:if(this.lazyAttributeConverter[$d.ACCESS_CAMERA]){this.picker.accessCamera().catch(function(t){e.Logger.log(e.Logger.Level.WARN,"Error while accessing the camera:",t)})}else{this.picker.pauseCameraAccess()}break;case $d.ENABLE_CAMERA_SWITCHER:this.picker.setCameraSwitcherEnabled(this.lazyAttributeConverter[$d.ENABLE_CAMERA_SWITCHER]);break;case $d.ENABLE_PINCH_TO_ZOOM:this.picker.setPinchToZoomEnabled(this.lazyAttributeConverter[$d.ENABLE_PINCH_TO_ZOOM]);break;case $d.ENABLE_TAP_TO_FOCUS:this.picker.setTapToFocusEnabled(this.lazyAttributeConverter[$d.ENABLE_TAP_TO_FOCUS]);break;case $d.ENABLE_TORCH_TOGGLE:this.picker.setTorchToggleEnabled(this.lazyAttributeConverter[$d.ENABLE_TORCH_TOGGLE]);break;case $d.GUI_STYLE:this.picker.setGuiStyle(this.lazyAttributeConverter[$d.GUI_STYLE]);break;case $d.LASER_AREA:this.picker.setLaserArea(this.lazyAttributeConverter[$d.LASER_AREA]);break;case $d.PLAY_SOUND_ON_SCAN:this.picker.setPlaySoundOnScanEnabled(this.lazyAttributeConverter[$d.PLAY_SOUND_ON_SCAN]);break;case $d.SCANNING_PAUSED:if(this.lazyAttributeConverter[$d.SCANNING_PAUSED]){this.picker.pauseScanning();break}this.picker.resumeScanning().catch(function(t){e.Logger.log(e.Logger.Level.WARN,"Error while resuming scanning:",t)});break;case $d.TARGET_SCANNING_FPS:this.picker.setTargetScanningFPS(this.lazyAttributeConverter[$d.TARGET_SCANNING_FPS]);break;case $d.VIBRATE_ON_SCAN:this.picker.setVibrateOnScanEnabled(this.lazyAttributeConverter[$d.VIBRATE_ON_SCAN]);break;case $d.VIDEO_FIT:this.picker.setVideoFit(this.lazyAttributeConverter[$d.VIDEO_FIT]);break;case $d.VIEWFINDER_AREA:this.picker.setViewfinderArea(this.lazyAttributeConverter[$d.VIEWFINDER_AREA]);break;case $d.VISIBLE:this.picker.setVisible(this.lazyAttributeConverter[$d.VISIBLE]);break;case $d.CAMERA:this.getCameraFromAttribute().then(function(t){n.picker.setActiveCamera(t).catch(function(t){e.Logger.log(e.Logger.Level.WARN,"Error while setting the active camera:",t)})}).catch(function(t){e.Logger.log(e.Logger.Level.WARN,"Error while getting the camera:",t)});break;case $d.CAMERA_TYPE:this.picker.setCameraType(this.lazyAttributeConverter[$d.CAMERA_TYPE]).catch(function(t){e.Logger.log(e.Logger.Level.WARN,"Error while setting camera type:",t)});break;case $d.CAMERA_SETTINGS:this.picker.applyCameraSettings(this.lazyAttributeConverter[$d.CAMERA_SETTINGS]).catch(function(t){e.Logger.log(e.Logger.Level.WARN,"Error while applying camera settings:",t)});break;case $d.SCAN_SETTINGS_BLURRY_RECOGNITION:this.scanSettings.setBlurryRecognitionEnabled(this.lazyAttributeConverter[$d.SCAN_SETTINGS_BLURRY_RECOGNITION]);this.picker.applyScanSettings(this.scanSettings);break;case $d.SCAN_SETTINGS_CODE_DIRECTION_HINT:this.scanSettings.setCodeDirectionHint(this.lazyAttributeConverter[$d.SCAN_SETTINGS_CODE_DIRECTION_HINT]);this.picker.applyScanSettings(this.scanSettings);break;case $d.SCAN_SETTINGS_CODE_DUPLICATE_FILTER:this.scanSettings.setCodeDuplicateFilter(this.lazyAttributeConverter[$d.SCAN_SETTINGS_CODE_DUPLICATE_FILTER]);this.picker.applyScanSettings(this.scanSettings);break;case $d.SCAN_SETTINGS_DEVICE_NAME:this.scanSettings.setDeviceName(this.lazyAttributeConverter[$d.SCAN_SETTINGS_DEVICE_NAME]);this.picker.applyScanSettings(this.scanSettings);break;case $d.SCAN_SETTINGS_ENABLED_SYMBOLOGIES:this.onEnabledSymbologiesChanged();break;case $d.SCAN_SETTINGS_GPU_ACCELERATION:this.scanSettings.setGpuAccelerationEnabled(this.lazyAttributeConverter[$d.SCAN_SETTINGS_GPU_ACCELERATION]);this.picker.applyScanSettings(this.scanSettings);break;case $d.SCAN_SETTINGS_MAX_NUMBER_OF_CODES_PER_FRAME:this.scanSettings.setMaxNumberOfCodesPerFrame(this.lazyAttributeConverter[$d.SCAN_SETTINGS_MAX_NUMBER_OF_CODES_PER_FRAME]);this.picker.applyScanSettings(this.scanSettings);break;case $d.SCAN_SETTINGS_RECOGNITION_MODE:this.scanSettings.setRecognitionMode(this.lazyAttributeConverter[$d.SCAN_SETTINGS_RECOGNITION_MODE]);this.picker.applyScanSettings(this.scanSettings);break;case $d.SCAN_SETTINGS_SEARCH_AREA:this.scanSettings.setSearchArea(this.lazyAttributeConverter[$d.SCAN_SETTINGS_SEARCH_AREA]);this.picker.applyScanSettings(this.scanSettings);break;case $d.SCAN_SETTINGS_TEXT_RECOGNITION_SETTINGS:this.scanSettings.setTextRecognitionSettings(this.lazyAttributeConverter[$d.SCAN_SETTINGS_TEXT_RECOGNITION_SETTINGS]);this.picker.applyScanSettings(this.scanSettings);break;case $d.CONFIGURE:if(this.lazyAttributeConverter[$d.CONFIGURE]){this.initPicker().catch(function(t){e.Logger.log(e.Logger.Level.WARN,"Error while initializing barcode picker:",t)})}break;case $d.SINGLE_IMAGE_MODE_SETTINGS:case $d.CONFIGURE_ENGINE_LOCATION:case $d.CONFIGURE_LICENSE_KEY:case $d.CONFIGURE_HIGH_QUALITY_BLURRY_RECOGNITION:case $d.CONFIGURE_LOAD_TEXT_RECOGNITION:case $d.CONFIGURE_PRELOAD_BLURRY_RECOGNITION:case $d.CONFIGURE_PRELOAD_ENGINE:break;default:Hd(r);break}}},{key:"initPicker",value:function(){var t=fi(vi.mark(function t(){return vi.wrap(function t(r){while(1){switch(r.prev=r.next){case 0:if(!(this.picker!=null)){r.next=2;break}return r.abrupt("return");case 2:this.validateAllAttributes();r.prev=3;r.next=6;return Jf(this.lazyAttributeConverter[$d.CONFIGURE_LICENSE_KEY],{engineLocation:this.lazyAttributeConverter[$d.CONFIGURE_ENGINE_LOCATION],highQualityBlurryRecognition:this.lazyAttributeConverter[$d.CONFIGURE_HIGH_QUALITY_BLURRY_RECOGNITION],loadTextRecognition:this.lazyAttributeConverter[$d.CONFIGURE_LOAD_TEXT_RECOGNITION],preloadBlurryRecognition:this.lazyAttributeConverter[$d.CONFIGURE_PRELOAD_BLURRY_RECOGNITION],preloadEngine:this.lazyAttributeConverter[$d.CONFIGURE_PRELOAD_ENGINE]});case 6:r.t0=Proxy;r.t1=e.BarcodePicker;r.t2=this.view.root;r.t3=this.lazyAttributeConverter[$d.ACCESS_CAMERA];r.next=12;return this.getCameraFromAttribute();case 12:r.t4=r.sent;r.t5=this.lazyAttributeConverter[$d.CAMERA_TYPE];r.t6=this.lazyAttributeConverter[$d.ENABLE_CAMERA_SWITCHER];r.t7=this.lazyAttributeConverter[$d.ENABLE_PINCH_TO_ZOOM];r.t8=this.lazyAttributeConverter[$d.ENABLE_TAP_TO_FOCUS];r.t9=this.lazyAttributeConverter[$d.ENABLE_TORCH_TOGGLE];r.t10=this.lazyAttributeConverter[$d.PLAY_SOUND_ON_SCAN];r.t11=this.lazyAttributeConverter[$d.VIBRATE_ON_SCAN];r.t12=this.lazyAttributeConverter[$d.SCANNING_PAUSED];r.t13=this.lazyAttributeConverter[$d.GUI_STYLE];r.t14=this.lazyAttributeConverter[$d.TARGET_SCANNING_FPS];r.t15=this.lazyAttributeConverter[$d.VIDEO_FIT];r.t16=this.lazyAttributeConverter[$d.VISIBLE];r.t17=this.lazyAttributeConverter[$d.VIEWFINDER_AREA];r.t18=this.lazyAttributeConverter[$d.LASER_AREA];r.next=29;return this.getSingleImageModeSettings();case 29:r.t19=r.sent;r.t20={accessCamera:r.t3,camera:r.t4,cameraType:r.t5,enableCameraSwitcher:r.t6,enablePinchToZoom:r.t7,enableTapToFocus:r.t8,enableTorchToggle:r.t9,playSoundOnScan:r.t10,vibrateOnScan:r.t11,scanningPaused:r.t12,guiStyle:r.t13,targetScanningFPS:r.t14,videoFit:r.t15,visible:r.t16,viewfinderArea:r.t17,laserArea:r.t18,singleImageModeSettings:r.t19};r.next=33;return r.t1.create.call(r.t1,r.t2,r.t20);case 33:r.t21=r.sent;r.t22=this.getBarcodePickerProxyHandler();this.picker=new r.t0(r.t21,r.t22);r.next=41;break;case 38:r.prev=38;r.t23=r["catch"](3);return r.abrupt("return",this.handleException(r.t23));case 41:this.scanSettings=new e.ScanSettings({textRecognitionSettings:this.lazyAttributeConverter[$d.SCAN_SETTINGS_TEXT_RECOGNITION_SETTINGS],recognitionMode:this.lazyAttributeConverter[$d.SCAN_SETTINGS_RECOGNITION_MODE],blurryRecognition:this.lazyAttributeConverter[$d.SCAN_SETTINGS_BLURRY_RECOGNITION],codeDirectionHint:this.lazyAttributeConverter[$d.SCAN_SETTINGS_CODE_DIRECTION_HINT],codeDuplicateFilter:this.lazyAttributeConverter[$d.SCAN_SETTINGS_CODE_DUPLICATE_FILTER],deviceName:this.lazyAttributeConverter[$d.SCAN_SETTINGS_DEVICE_NAME],enabledSymbologies:this.lazyAttributeConverter[$d.SCAN_SETTINGS_ENABLED_SYMBOLOGIES],gpuAcceleration:this.lazyAttributeConverter[$d.SCAN_SETTINGS_GPU_ACCELERATION],maxNumberOfCodesPerFrame:this.lazyAttributeConverter[$d.SCAN_SETTINGS_MAX_NUMBER_OF_CODES_PER_FRAME],searchArea:this.lazyAttributeConverter[$d.SCAN_SETTINGS_SEARCH_AREA]});this.picker.applyScanSettings(this.scanSettings);this.picker.on("ready",this.dispatchPickerEvent.bind(this,"ready"));this.picker.on("submitFrame",this.dispatchPickerEvent.bind(this,"submitFrame"));this.picker.on("processFrame",this.dispatchPickerEvent.bind(this,"processFrame"));this.picker.on("scan",this.dispatchPickerEvent.bind(this,"scan"));this.picker.on("scanError",this.dispatchPickerEvent.bind(this,"scanError"));case 48:case"end":return r.stop()}}},t,this,[[3,38]])}));function r(){return t.apply(this,arguments)}return r}()},{key:"getBarcodePickerProxyHandler",value:function e(){var t=this;var r;var n;var i=this;function a(e){if(r==null){r=new Proxy(e["gui"],{set:function e(t,r,n){Reflect.set(t,r,n);i.onPickerPropertyUpdate.call(i,{origin:"gui",key:r,newValue:n});return true}})}return r}function o(e){if(n==null){n=new Proxy(e["cameraManager"],{set:function e(t,r,n){Reflect.set(t,r,n);i.onPickerPropertyUpdate.call(i,{origin:"cameraManager",key:r,newValue:n});return true}})}return n}return{get:function e(r,n){if(n==="gui"){return a(r)}if(n==="cameraManager"){return o(r)}if(n==="applyScanSettings"){return function(e){Reflect.apply(Reflect.get(r,n),r,[e]);t.onScannerNewScanSettings(e)}}return Reflect.get(r,n)},set:function e(r,n,i){Reflect.set(r,n,i);t.onPickerPropertyUpdate({key:n,origin:"picker",newValue:i});return true}}}},{key:"onScannerNewScanSettings",value:function t(r){var n=this;var i=Fu(e.Barcode.Symbology).filter(function(e){return typeof e==="string"});var a=[{key:$d.SCAN_SETTINGS_BLURRY_RECOGNITION,newValue:r.isBlurryRecognitionEnabled()},{key:$d.SCAN_SETTINGS_CODE_DIRECTION_HINT,newValue:r.getCodeDirectionHint()},{key:$d.SCAN_SETTINGS_CODE_DUPLICATE_FILTER,newValue:r.getCodeDuplicateFilter()},{key:$d.SCAN_SETTINGS_DEVICE_NAME,newValue:r.getDeviceName()},{key:$d.SCAN_SETTINGS_ENABLED_SYMBOLOGIES,newValue:i.reduce(function(t,n){if(r.isSymbologyEnabled(n)){t.push(e.Barcode.Symbology.toJSONName(n))}return t},[])},{key:$d.SCAN_SETTINGS_GPU_ACCELERATION,newValue:r.isGpuAccelerationEnabled()},{key:$d.SCAN_SETTINGS_MAX_NUMBER_OF_CODES_PER_FRAME,newValue:r.getMaxNumberOfCodesPerFrame()},{key:$d.SCAN_SETTINGS_RECOGNITION_MODE,newValue:r.getRecognitionMode()},{key:$d.SCAN_SETTINGS_SEARCH_AREA,newValue:r.getSearchArea()},{key:$d.SCAN_SETTINGS_TEXT_RECOGNITION_SETTINGS,newValue:r.getTextRecognitionSettings()}];a.forEach(function(e){n.onPickerPropertyUpdate(Hf({origin:"scanner"},e))})}},{key:"initializeAttributeConversionGetter",value:function e(){this.lazyAttributeConverter=new jf(rf(),this.view)}},{key:"getCameraFromAttribute",value:function(){var t=fi(vi.mark(function t(){var r,n,i,a;return vi.wrap(function t(o){while(1){switch(o.prev=o.next){case 0:n=this.lazyAttributeConverter[$d.CAMERA];if(!((n===null||n===void 0?void 0:n.deviceId)!=null)){o.next=8;break}o.next=4;return e.CameraAccess.getCameras();case 4:i=o.sent;a=n.deviceId;r=i.find(function(e){return e.deviceId===a});if(r==null){e.Logger.log(e.Logger.Level.WARN,'Could not find camera with id "'.concat(a,'", will use default camera.'))}case 8:return o.abrupt("return",r);case 9:case"end":return o.stop()}}},t,this)}));function r(){return t.apply(this,arguments)}return r}()},{key:"onEnabledSymbologiesChanged",value:function e(){var t=this;var r=this.lazyAttributeConverter[$d.SCAN_SETTINGS_ENABLED_SYMBOLOGIES];this.allSymbologies.forEach(function(e){var n=r.includes(e);t.scanSettings.getSymbologySettings(e).setEnabled(n)});this.picker.applyScanSettings(this.scanSettings)}},{key:"onPickerPropertyUpdate",value:function e(t){var r,n,i=this;var a={gui:{customLaserArea:[$d.LASER_AREA],customViewfinderArea:[$d.VIEWFINDER_AREA]},cameraManager:{activeCamera:[$d.CAMERA,$d.CAMERA_TYPE],cameraSwitcherEnabled:[$d.ENABLE_CAMERA_SWITCHER],torchToggleEnabled:[$d.ENABLE_TORCH_TOGGLE],tapToFocusEnabled:[$d.ENABLE_TAP_TO_FOCUS],pinchToZoomEnabled:[$d.ENABLE_PINCH_TO_ZOOM]}};var o=(r=(n=a[t.origin])===null||n===void 0?void 0:n[t.key])!==null&&r!==void 0?r:[t.key];this.trackAttributes=false;o.forEach(function(e){if(ef.includes(e)){if(t.newValue==null){i.view.removeAttribute(e)}else{i.view.setAttribute(e,Bf(rf()[e],t.newValue))}}});this.trackAttributes=true}},{key:"getSingleImageModeSettings",value:function(){var t=fi(vi.mark(function t(){var r=this;var n,i,a;return vi.wrap(function t(o){while(1){switch(o.prev=o.next){case 0:n={};if(this.lazyAttributeConverter[$d.SINGLE_IMAGE_MODE_SETTINGS]!=null){n.desktop=Hf(Hf({},e.SingleImageModeSettings.defaultDesktop),(i=this.lazyAttributeConverter[$d.SINGLE_IMAGE_MODE_SETTINGS].desktop)!==null&&i!==void 0?i:{});n.mobile=Hf(Hf({},e.SingleImageModeSettings.defaultMobile),(a=this.lazyAttributeConverter[$d.SINGLE_IMAGE_MODE_SETTINGS].mobile)!==null&&a!==void 0?a:{})}o.next=4;return this.view.waitOnChildrenReady();case 4:["mobile","desktop"].forEach(function(e){["informationElement","buttonElement"].forEach(function(t){var i=r.view.querySelector('*[slot="singleImageModeSettings.'.concat(e,".").concat(t,'"]'));if(i!=null&&n[e]!=null){n[e][t]=i}})});return o.abrupt("return",n);case 6:case"end":return o.stop()}}},t,this)}));function r(){return t.apply(this,arguments)}return r}()},{key:"dispatchPickerEvent",value:function e(t,r){var n=new CustomEvent(t,{detail:r});this.view.dispatchCustomEvent(n)}},{key:"validateAllAttributes",value:function e(){var t=this;var r=ws(this.view.getAttributes());r.forEach(function(e){if(ef.includes(e.name)){t.validateAttribute(e.name,e.value)}})}},{key:"validateAttribute",value:function t(r,n){var i=this.attributeToCamelCase(r);var a;switch(i){case $d.ACCESS_CAMERA:case $d.CONFIGURE:case $d.CONFIGURE_HIGH_QUALITY_BLURRY_RECOGNITION:case $d.CONFIGURE_LOAD_TEXT_RECOGNITION:case $d.CONFIGURE_PRELOAD_BLURRY_RECOGNITION:case $d.CONFIGURE_PRELOAD_ENGINE:case $d.ENABLE_CAMERA_SWITCHER:case $d.ENABLE_PINCH_TO_ZOOM:case $d.ENABLE_TAP_TO_FOCUS:case $d.ENABLE_TORCH_TOGGLE:case $d.PLAY_SOUND_ON_SCAN:case $d.SCANNING_PAUSED:case $d.VIBRATE_ON_SCAN:case $d.VISIBLE:case $d.SCAN_SETTINGS_BLURRY_RECOGNITION:case $d.SCAN_SETTINGS_GPU_ACCELERATION:a=Gf.isBooleanAttribute;break;case $d.TARGET_SCANNING_FPS:case $d.SCAN_SETTINGS_CODE_DUPLICATE_FILTER:case $d.SCAN_SETTINGS_MAX_NUMBER_OF_CODES_PER_FRAME:a=Gf.isIntegerAttribute;break;case $d.SCAN_SETTINGS_CODE_DIRECTION_HINT:a=Gf.isValidCodeDirection;break;case $d.SCAN_SETTINGS_RECOGNITION_MODE:a=Gf.isValidRecognitionMode;break;case $d.SCAN_SETTINGS_TEXT_RECOGNITION_SETTINGS:a=Gf.isValidTextRecognitionSettingsObject;break;case $d.CAMERA_TYPE:a=Gf.isValidCameraType;break;case $d.GUI_STYLE:a=Gf.isValidGuiStyle;break;case $d.VIDEO_FIT:a=Gf.isValidVideoFit;break;case $d.SCAN_SETTINGS_ENABLED_SYMBOLOGIES:a=Gf.isValidJsonArray;break;case $d.VIEWFINDER_AREA:case $d.LASER_AREA:case $d.SCAN_SETTINGS_SEARCH_AREA:a=Gf.isValidSearchAreaAttribute;break;case $d.CAMERA:a=Gf.isValidCameraObject;break;case $d.CAMERA_SETTINGS:a=Gf.isValidCameraSettingsObject;break;case $d.SINGLE_IMAGE_MODE_SETTINGS:a=Gf.isValidSingleImageModeSettingsObject;break;case $d.CONFIGURE_ENGINE_LOCATION:case $d.CONFIGURE_LICENSE_KEY:case $d.SCAN_SETTINGS_DEVICE_NAME:a=function e(){return true};break;default:Hd(i);break}if(!a(n)){var o;e.Logger.log(e.Logger.Level.WARN,'Invalid value for attribute "'.concat(i,'": "').concat(n,'". ').concat((o=Gf.expectationMessage.get(a))!==null&&o!==void 0?o:""));return false}return true}},{key:"attributeToCamelCase",value:function e(t){var r=ef.findIndex(function(e){return e.toLowerCase()===t.toLowerCase()});return ef[r]}},{key:"handleException",value:function t(r){e.Logger.log(e.Logger.Level.ERROR,r)}}]);return t}();function Qf(e){var t=Zf();return function r(){var n=ds(e),i;if(t){var a=ds(this).constructor;i=Oi(n,arguments,a)}else{i=n.apply(this,arguments)}return rs(this,i)}}function Zf(){if(typeof Reflect==="undefined"||!Oi)return false;if(Oi.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Oi(Boolean,[],function(){}));return true}catch(e){return false}}var qf=function(e){ua(r,e);var t=Qf(r);function r(){var e;Ui(this,r);e=t.call(this);Fi(ts(e),"shadowDom",void 0);Fi(ts(e),"controller",void 0);e.controller=new Yf(ts(e));e.shadowDom=e.attachShadow({mode:"open"});return e}Bi(r,[{key:"barcodePicker",get:function e(){return this.controller.picker}},{key:"root",get:function e(){return this.shadowDom.querySelector("#root")}},{key:"connectedCallback",value:function(){var e=fi(vi.mark(function e(){return vi.wrap(function e(t){while(1){switch(t.prev=t.next){case 0:t.next=2;return this.controller.viewConnectedCallback();case 2:case"end":return t.stop()}}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"disconnectedCallback",value:function e(){this.controller.viewDisconnectedCallback()}},{key:"attributeChangedCallback",value:function e(t){this.controller.attributeChangedCallback(t)}},{key:"initializeDom",value:function e(){this.shadowDom.innerHTML=this.initialDomContent}},{key:"dispatchCustomEvent",value:function e(t){this.dispatchEvent(t)}},{key:"getAttributes",value:function e(){return ws(this.attributes).map(function(e){return{name:e.name,value:e.value}})}},{key:"waitOnChildrenReady",value:function e(){return new li(function(e){setTimeout(e,50)})}},{key:"initialDomContent",get:function e(){return"\n      <style>".concat(this.styles,'</style>\n      <div id="root"></div>\n    ')}},{key:"wcStyles",get:function e(){return"\n      :host {\n        display: block;\n      }\n\n      :host([hidden]) {\n        display: none;\n      }\n\n      #root {\n        height: 100%;\n      }\n    "}},{key:"styles",get:function e(){return"\n      ".concat(this.wcStyles,"\n      ").concat(ou,"\n    ")}}],[{key:"observedAttributes",get:function e(){return ef.map(function(e){return e.toLowerCase()})}},{key:"registerComponent",value:function e(){if(!("customElements"in window)){return}if(customElements.get(r.TAG_NAME)==null){customElements.define(r.TAG_NAME,r)}return r.TAG_NAME}}]);return r}($c(HTMLElement));Fi(qf,"TAG_NAME","scandit-barcode-picker");qf.registerComponent();var Xf=e.BrowserHelper.getDeviceId();e.userLicenseKey=void 0;e.scanditDataCaptureLocation=void 0;e.blurryRecognitionPreloader=void 0;e.highEndBlurryRecognition=void 0;e.textRecognition=void 0;e.dataCaptureLoader=void 0;e.configurePhase="unconfigured";e.configurePromise=void 0;function Kf(){e.configurePhase="unconfigured"}
/**
	 * Initialize and configure the Scandit Barcode Scanner SDK library. This function must be called (once) before
	 * instantiating the main library components (`BarcodePicker` and `Scanner` objects) and returns a promise. In case this
	 * is called again after a successful call, parameters from subsequent calls are ignored and the same promise returned
	 * from the successful call will be returned.
	 *
	 * Depending on parameters and browser features, any of the following errors could be the rejected result of the
	 * returned promise:
	 * - `NoLicenseKeyError`
	 * - `UnsupportedBrowserError`
	 *
	 * The external external Scandit Data Capture library and data needed for barcode blurry recognition are preloaded
	 * asynchronously eagerly by default after library configuration to ensure the best performance. If needed this
	 * behaviour can be changed via the *preloadEngine* and *preloadBlurryRecognition* options.
	 *
	 * For optimal performance, it is recommended to call this function as soon as possible to ensure needed components are
	 * preloaded and initialized ahead of time.
	 *
	 * Camera access requests are done lazily only when needed by a [[BarcodePicker]] (or [[Scanner]]) object. You can also
	 * eagerly ask only for camera access permissions by calling the [[CameraAccess.getCameras]] function.
	 *
	 * Ideally, to make the scanning process faster, it is recommended depending on the use case to create in
	 * advance a (hidden and paused) [[BarcodePicker]] or [[Scanner]] object, to later show and unpause it when needed.
	 * Depending on the options this can also be used to correctly ask for camera access permissions whenever preferred.
	 *
	 * @param licenseKey The Scandit license key to be used by the library.
	 * @param logLevel <div class="tsd-signature-symbol">Default =&nbsp;Logger.Level.DEBUG</div>
	 * The console log level to be used by the library.
	 * @param engineLocation <div class="tsd-signature-symbol">Default =&nbsp;"/"</div>
	 * The location of the folder containing the external scandit-engine-sdk.min.js and
	 * scandit-engine-sdk.wasm files (external Scandit Data Capture library).
	 * By default they are retrieved from the root of the web application.
	 * Can be a full URL to folder or an absolute folder path.
	 * @param highQualityBlurryRecognition <div class="tsd-signature-symbol">Default =&nbsp;false</div>
	 * Whether to generate and use high quality barcode blurry recognition data, resulting in improved localization and
	 * scanning performance of extremely challenging 1D codes. If enabled, more time is spent to initialize (load or
	 * generate if needed) the needed data - at a time depending on the <em>preloadBlurryRecognition</em> option - and for
	 * the processing of each video frame.
	 *
	 * Enabling this option is not recommended unless really needed due to its high performance impact.
	 * @param loadTextRecognition <div class="tsd-signature-symbol">Default =&nbsp;false</div>
	 * Whether to load a version of the external Scandit Data Capture library providing support for text recognition (OCR).
	 * If enabled, a larger version of the library is loaded, unlocking [[ScanSettings]] options to enable text recognition
	 * in addition or as an alternative to barcode scanning. This also requires more time to load (download if needed,
	 * compile/instantiate WebAssembly code and initialize) the external Scandit Data Capture library, used by
	 * [[BarcodePicker]] and [[Scanner]] objects to perform scan operations, at a time depending on the
	 * <em>preloadEngine</em> option.
	 *
	 * In case barcode scanning is not needed, the <em>preloadBlurryRecognition</em> option should be disabled for better
	 * initialization performance.
	 * @param preloadBlurryRecognition <div class="tsd-signature-symbol">Default =&nbsp;true</div>
	 * Whether to preload (load or generate if needed) data needed for barcode blurry recognition as soon as possible via a
	 * separate asynchronous WebWorker thread running the external Scandit Data Capture library. Data for all symbologies is
	 * generated over time.
	 *
	 * If enabled, any [[BarcodePicker]] or [[Scanner]] object will be able to start processing video frames much faster, as
	 * it won't need to generate barcode blurry recognition data lazily only when needed. If necessary, depending on given
	 * [[ScanSettings]] options and on readiness of the data, processing is also initially performed without blurry
	 * recognition until this data becomes available, at which point the new data will be loaded and used.
	 *
	 * If disabled, [[BarcodePicker]] or [[Scanner]] objects will load or generate barcode blurry recognition data lazily
	 * when needed to process the first frame, depending on given [[ScanSettings]] options, and will thus require more time
	 * the first time the library is actively used with the given active symbologies. As this needs to be done in the same
	 * WebWorker, the processing of the frame will then be blocked until the needed data is loaded or generated.
	 *
	 * Note that in either case the data for barcode blurry recognition will be cached for later successive uses of the
	 * library.
	 *
	 * Note that preloading does not trigger a device activation for licensing purposes.
	 * @param preloadEngine <div class="tsd-signature-symbol">Default =&nbsp;true</div>
	 * Whether to preload (download if needed, compile/instantiate WebAssembly code and initialize) the external Scandit
	 * Data Capture library, used by [[BarcodePicker]] and [[Scanner]] objects to perform scan operations.
	 *
	 * If enabled, any [[BarcodePicker]] or [[Scanner]] object will be ready to start processing video frames much faster,
	 * as the needed external Scandit Data Capture library will already be in a partially or fully initialized state thanks
	 * to it being preloaded now.
	 *
	 * If disabled, [[BarcodePicker]] and [[Scanner]] objects will load the external Scandit Data Capture library on
	 * creation (if it wasn't already loaded before by a previously created object), and will thus require more time to be
	 * initialized and ready.
	 *
	 * Note that in either case the loaded external Scandit Data Capture library will be reused whenever possible for later
	 * successive uses of the library.
	 *
	 * Note that preloading does not trigger a device activation for licensing purposes.
	 *
	 * @returns A promise resolving when the library has been configured (preloading is done independently asynchronously).
	 */function Jf(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},n=r.logLevel,i=n===void 0?e.Logger.Level.DEBUG:n,a=r.engineLocation,o=a===void 0?"/":a,s=r.highQualityBlurryRecognition,c=s===void 0?false:s,u=r.loadTextRecognition,l=u===void 0?false:u,d=r.preloadBlurryRecognition,f=d===void 0?true:d,h=r.preloadEngine,v=h===void 0?true:h;if(e.configurePhase!=="unconfigured"&&e.configurePromise!=null){return e.configurePromise}e.Logger.setLevel(i);e.configurePromise=new li(function(){var r=fi(vi.mark(function r(n,i){var a,s,u,d;return vi.wrap(function r(h){while(1){switch(h.prev=h.next){case 0:e.Logger.log(e.Logger.Level.INFO,"Scandit Web SDK version: 5.9.3");e.configurePhase="started";a=e.BrowserHelper.checkBrowserCompatibility();if(!(!a.fullSupport&&!a.scannerSupport)){h.next=5;break}return h.abrupt("return",i(new au(a)));case 5:if(!(t==null||t.trim().length<64)){h.next=7;break}return h.abrupt("return",i(new ru({name:"NoLicenseKeyError",message:"No license key provided"})));case 7:e.userLicenseKey=t;o+=o.slice(-1)==="/"?"":"/";if(/^https?:\/\//.test(o)){e.scanditDataCaptureLocation="".concat(o)}else{o=o.split("/").filter(function(e){return e.length>0}).join("/");if(o===""){o="/"}else{o="/".concat(o,"/")}if(location.protocol==="file:"||location.origin==="null"){e.scanditDataCaptureLocation="".concat(location.href.split("/").slice(0,-1).join("/")).concat(o)}else{e.scanditDataCaptureLocation="".concat(location.origin).concat(o)}}s=e.BrowserHelper.userAgentInfo.getBrowser().name;u=e.BrowserHelper.userAgentInfo.getOS().name;if(!((s==null||s.includes("Safari")||u==null||u==="iOS")&&window.indexedDB!=null&&"databases"in indexedDB)){h.next=15;break}h.next=15;return new li(function(e){function t(){indexedDB.databases().then(e).catch(function(){})}d=window.setInterval(t,50);t()}).then(function(){return clearInterval(d)});case 15:e.highEndBlurryRecognition=c;e.textRecognition=l;h.next=19;return qc.create(f);case 19:e.blurryRecognitionPreloader=h.sent;h.next=22;return e.blurryRecognitionPreloader.prepareBlurryTables();case 22:e.dataCaptureLoader=new Zc(v);e.configurePhase="done";return h.abrupt("return",n());case 25:case"end":return h.stop()}}},r)}));return function(e,t){return r.apply(this,arguments)}}()).catch(function(e){Kf();throw e});return e.configurePromise}e.CustomError=ru;e.ScanResult=ku;e.Scanner=zu;e.TextRecognitionSettings=ju;e.UAParser=Wc;e.configure=Jf;e.dataCapture=Hc;e.dataCaptureWorkerBlob=Qc;e.deviceId=Xf;e.resetConfigure=Kf;Object.defineProperty(e,"__esModule",{value:true})});