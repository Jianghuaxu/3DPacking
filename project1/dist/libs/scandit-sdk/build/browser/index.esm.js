/*!
 * @license
 *
 * Scandit Barcode Scanner SDK for the Web
 * v. 5.9.3
 *
 * Copyright © 2022 Scandit AG. All Rights Reserved.
 *
 * The use of this software is governed by the Scandit Terms and Conditions.
 * https://ssl.scandit.com/terms/test.pdf
 *
 * The following sets forth attribution notices for third party software that may be contained in portions of the product.
 * https://docs.scandit.com/stable/web/LICENSE
 */
function ___$insertStyle(e){if(!e||typeof window==="undefined"){return}const t=document.createElement("style");t.setAttribute("type","text/css");t.innerHTML=e;document.head.appendChild(t);return e}var commonjsGlobal=typeof globalThis!=="undefined"?globalThis:typeof window!=="undefined"?window:typeof global!=="undefined"?global:typeof self!=="undefined"?self:{};var ceil=Math.ceil;var floor=Math.floor;var _toInteger=function(e){return isNaN(e=+e)?0:(e>0?floor:ceil)(e)};var _defined=function(e){if(e==undefined)throw TypeError("Can't call method on  "+e);return e};var toInteger$2=_toInteger;var defined$3=_defined;var _stringAt=function(e){return function(t,r){var n=String(defined$3(t));var i=toInteger$2(r);var a=n.length;var o,s;if(i<0||i>=a)return e?"":undefined;o=n.charCodeAt(i);return o<55296||o>56319||i+1===a||(s=n.charCodeAt(i+1))<56320||s>57343?e?n.charAt(i):o:e?n.slice(i,i+2):(o-55296<<10)+(s-56320)+65536}};var _library=true;var _global={exports:{}};var global$d=_global.exports=typeof window!="undefined"&&window.Math==Math?window:typeof self!="undefined"&&self.Math==Math?self:Function("return this")();if(typeof __g=="number")__g=global$d;var _core={exports:{}};var core$7=_core.exports={version:"2.6.12"};if(typeof __e=="number")__e=core$7;var _aFunction=function(e){if(typeof e!="function")throw TypeError(e+" is not a function!");return e};var aFunction$6=_aFunction;var _ctx=function(e,t,r){aFunction$6(e);if(t===undefined)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,i){return e.call(t,r,n,i)}}return function(){return e.apply(t,arguments)}};var _objectDp={};var _isObject=function(e){return typeof e==="object"?e!==null:typeof e==="function"};var isObject$c=_isObject;var _anObject=function(e){if(!isObject$c(e))throw TypeError(e+" is not an object!");return e};var _fails=function(e){try{return!!e()}catch(e){return true}};var _descriptors=!_fails(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7});var isObject$b=_isObject;var document$2=_global.exports.document;var is=isObject$b(document$2)&&isObject$b(document$2.createElement);var _domCreate=function(e){return is?document$2.createElement(e):{}};var _ie8DomDefine=!_descriptors&&!_fails(function(){return Object.defineProperty(_domCreate("div"),"a",{get:function(){return 7}}).a!=7});var isObject$a=_isObject;var _toPrimitive=function(e,t){if(!isObject$a(e))return e;var r,n;if(t&&typeof(r=e.toString)=="function"&&!isObject$a(n=r.call(e)))return n;if(typeof(r=e.valueOf)=="function"&&!isObject$a(n=r.call(e)))return n;if(!t&&typeof(r=e.toString)=="function"&&!isObject$a(n=r.call(e)))return n;throw TypeError("Can't convert object to primitive value")};var anObject$a=_anObject;var IE8_DOM_DEFINE$1=_ie8DomDefine;var toPrimitive$2=_toPrimitive;var dP$6=Object.defineProperty;_objectDp.f=_descriptors?Object.defineProperty:function e(t,r,n){anObject$a(t);r=toPrimitive$2(r,true);anObject$a(n);if(IE8_DOM_DEFINE$1)try{return dP$6(t,r,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");if("value"in n)t[r]=n.value;return t};var _propertyDesc=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}};var dP$5=_objectDp;var createDesc$3=_propertyDesc;var _hide=_descriptors?function(e,t,r){return dP$5.f(e,t,createDesc$3(1,r))}:function(e,t,r){e[t]=r;return e};var hasOwnProperty={}.hasOwnProperty;var _has=function(e,t){return hasOwnProperty.call(e,t)};var global$c=_global.exports;var core$6=_core.exports;var ctx$7=_ctx;var hide$4=_hide;var has$6=_has;var PROTOTYPE$2="prototype";var $export$m=function(e,t,r){var n=e&$export$m.F;var i=e&$export$m.G;var a=e&$export$m.S;var o=e&$export$m.P;var s=e&$export$m.B;var c=e&$export$m.W;var u=i?core$6:core$6[t]||(core$6[t]={});var l=u[PROTOTYPE$2];var d=i?global$c:a?global$c[t]:(global$c[t]||{})[PROTOTYPE$2];var f,h,v;if(i)r=t;for(f in r){h=!n&&d&&d[f]!==undefined;if(h&&has$6(u,f))continue;v=h?d[f]:r[f];u[f]=i&&typeof d[f]!="function"?r[f]:s&&h?ctx$7(v,global$c):c&&d[f]==v?function(e){var t=function(t,r,n){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,r)}return new e(t,r,n)}return e.apply(this,arguments)};t[PROTOTYPE$2]=e[PROTOTYPE$2];return t}(v):o&&typeof v=="function"?ctx$7(Function.call,v):v;if(o){(u.virtual||(u.virtual={}))[f]=v;if(e&$export$m.R&&l&&!l[f])hide$4(l,f,v)}}};$export$m.F=1;$export$m.G=2;$export$m.S=4;$export$m.P=8;$export$m.B=16;$export$m.W=32;$export$m.U=64;$export$m.R=128;var _export=$export$m;var _redefine=_hide;var _iterators={};var toString$1={}.toString;var _cof=function(e){return toString$1.call(e).slice(8,-1)};var cof$2=_cof;var _iobject=Object("z").propertyIsEnumerable(0)?Object:function(e){return cof$2(e)=="String"?e.split(""):Object(e)};var IObject$2=_iobject;var defined$2=_defined;var _toIobject=function(e){return IObject$2(defined$2(e))};var toInteger$1=_toInteger;var min$1=Math.min;var _toLength=function(e){return e>0?min$1(toInteger$1(e),9007199254740991):0};var toInteger=_toInteger;var max=Math.max;var min=Math.min;var _toAbsoluteIndex=function(e,t){e=toInteger(e);return e<0?max(e+t,0):min(e,t)};var toIObject$7=_toIobject;var toLength$3=_toLength;var toAbsoluteIndex=_toAbsoluteIndex;var _arrayIncludes=function(e){return function(t,r,n){var i=toIObject$7(t);var a=toLength$3(i.length);var o=toAbsoluteIndex(n,a);var s;if(e&&r!=r)while(a>o){s=i[o++];if(s!=s)return true}else for(;a>o;o++)if(e||o in i){if(i[o]===r)return e||o||0}return!e&&-1}};var _shared={exports:{}};var core$5=_core.exports;var global$b=_global.exports;var SHARED="__core-js_shared__";var store$1=global$b[SHARED]||(global$b[SHARED]={});(_shared.exports=function(e,t){return store$1[e]||(store$1[e]=t!==undefined?t:{})})("versions",[]).push({version:core$5.version,mode:"pure",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"});var id$1=0;var px=Math.random();var _uid=function(e){return"Symbol(".concat(e===undefined?"":e,")_",(++id$1+px).toString(36))};var shared$1=_shared.exports("keys");var uid$2=_uid;var _sharedKey=function(e){return shared$1[e]||(shared$1[e]=uid$2(e))};var has$5=_has;var toIObject$6=_toIobject;var arrayIndexOf=_arrayIncludes(false);var IE_PROTO$2=_sharedKey("IE_PROTO");var _objectKeysInternal=function(e,t){var r=toIObject$6(e);var n=0;var i=[];var a;for(a in r)if(a!=IE_PROTO$2)has$5(r,a)&&i.push(a);while(t.length>n)if(has$5(r,a=t[n++])){~arrayIndexOf(i,a)||i.push(a)}return i};var _enumBugKeys="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",");var $keys$2=_objectKeysInternal;var enumBugKeys$1=_enumBugKeys;var _objectKeys=Object.keys||function e(t){return $keys$2(t,enumBugKeys$1)};var dP$4=_objectDp;var anObject$9=_anObject;var getKeys$3=_objectKeys;var _objectDps=_descriptors?Object.defineProperties:function e(t,r){anObject$9(t);var n=getKeys$3(r);var i=n.length;var a=0;var o;while(i>a)dP$4.f(t,o=n[a++],r[o]);return t};var document$1=_global.exports.document;var _html=document$1&&document$1.documentElement;var anObject$8=_anObject;var dPs=_objectDps;var enumBugKeys=_enumBugKeys;var IE_PROTO$1=_sharedKey("IE_PROTO");var Empty=function(){};var PROTOTYPE$1="prototype";var createDict=function(){var e=_domCreate("iframe");var t=enumBugKeys.length;var r="<";var n=">";var i;e.style.display="none";_html.appendChild(e);e.src="javascript:";i=e.contentWindow.document;i.open();i.write(r+"script"+n+"document.F=Object"+r+"/script"+n);i.close();createDict=i.F;while(t--)delete createDict[PROTOTYPE$1][enumBugKeys[t]];return createDict()};var _objectCreate=Object.create||function e(t,r){var n;if(t!==null){Empty[PROTOTYPE$1]=anObject$8(t);n=new Empty;Empty[PROTOTYPE$1]=null;n[IE_PROTO$1]=t}else n=createDict();return r===undefined?n:dPs(n,r)};var _wks={exports:{}};var store=_shared.exports("wks");var uid$1=_uid;var Symbol$1=_global.exports.Symbol;var USE_SYMBOL=typeof Symbol$1=="function";var $exports=_wks.exports=function(e){return store[e]||(store[e]=USE_SYMBOL&&Symbol$1[e]||(USE_SYMBOL?Symbol$1:uid$1)("Symbol."+e))};$exports.store=store;var def=_objectDp.f;var has$4=_has;var TAG$1=_wks.exports("toStringTag");var _setToStringTag=function(e,t,r){if(e&&!has$4(e=r?e:e.prototype,TAG$1))def(e,TAG$1,{configurable:true,value:t})};var create$4=_objectCreate;var descriptor=_propertyDesc;var setToStringTag$3=_setToStringTag;var IteratorPrototype={};_hide(IteratorPrototype,_wks.exports("iterator"),function(){return this});var _iterCreate=function(e,t,r){e.prototype=create$4(IteratorPrototype,{next:descriptor(1,r)});setToStringTag$3(e,t+" Iterator")};var defined$1=_defined;var _toObject=function(e){return Object(defined$1(e))};var has$3=_has;var toObject$5=_toObject;var IE_PROTO=_sharedKey("IE_PROTO");var ObjectProto$1=Object.prototype;var _objectGpo=Object.getPrototypeOf||function(e){e=toObject$5(e);if(has$3(e,IE_PROTO))return e[IE_PROTO];if(typeof e.constructor=="function"&&e instanceof e.constructor){return e.constructor.prototype}return e instanceof Object?ObjectProto$1:null};var $export$l=_export;var redefine$1=_redefine;var hide$3=_hide;var Iterators$4=_iterators;var $iterCreate=_iterCreate;var setToStringTag$2=_setToStringTag;var getPrototypeOf$2=_objectGpo;var ITERATOR$3=_wks.exports("iterator");var BUGGY=!([].keys&&"next"in[].keys());var FF_ITERATOR="@@iterator";var KEYS="keys";var VALUES="values";var returnThis=function(){return this};var _iterDefine=function(e,t,r,n,i,a,o){$iterCreate(r,t,n);var s=function(e){if(!BUGGY&&e in d)return d[e];switch(e){case KEYS:return function t(){return new r(this,e)};case VALUES:return function t(){return new r(this,e)}}return function t(){return new r(this,e)}};var c=t+" Iterator";var u=i==VALUES;var l=false;var d=e.prototype;var f=d[ITERATOR$3]||d[FF_ITERATOR]||i&&d[i];var h=f||s(i);var v=i?!u?h:s("entries"):undefined;var p=t=="Array"?d.entries||f:f;var g,m,y;if(p){y=getPrototypeOf$2(p.call(new e));if(y!==Object.prototype&&y.next){setToStringTag$2(y,c,true)}}if(u&&f&&f.name!==VALUES){l=true;h=function e(){return f.call(this)}}if(o&&(BUGGY||l||!d[ITERATOR$3])){hide$3(d,ITERATOR$3,h)}Iterators$4[t]=h;Iterators$4[c]=returnThis;if(i){g={values:u?h:s(VALUES),keys:a?h:s(KEYS),entries:v};if(o)for(m in g){if(!(m in d))redefine$1(d,m,g[m])}else $export$l($export$l.P+$export$l.F*(BUGGY||l),t,g)}return g};var $at=_stringAt(true);_iterDefine(String,"String",function(e){this._t=String(e);this._i=0},function(){var e=this._t;var t=this._i;var r;if(t>=e.length)return{value:undefined,done:true};r=$at(e,t);this._i+=r.length;return{value:r,done:false}});var _iterStep=function(e,t){return{value:t,done:!!e}};var step$1=_iterStep;var Iterators$3=_iterators;var toIObject$5=_toIobject;_iterDefine(Array,"Array",function(e,t){this._t=toIObject$5(e);this._i=0;this._k=t},function(){var e=this._t;var t=this._k;var r=this._i++;if(!e||r>=e.length){this._t=undefined;return step$1(1)}if(t=="keys")return step$1(0,r);if(t=="values")return step$1(0,e[r]);return step$1(0,[r,e[r]])},"values");Iterators$3.Arguments=Iterators$3.Array;var global$a=_global.exports;var hide$2=_hide;var Iterators$2=_iterators;var TO_STRING_TAG=_wks.exports("toStringTag");var DOMIterables=("CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,"+"DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,"+"MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,"+"SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,"+"TextTrackList,TouchList").split(",");for(var i=0;i<DOMIterables.length;i++){var NAME=DOMIterables[i];var Collection=global$a[NAME];var proto=Collection&&Collection.prototype;if(proto&&!proto[TO_STRING_TAG])hide$2(proto,TO_STRING_TAG,NAME);Iterators$2[NAME]=Iterators$2.Array}var cof$1=_cof;var TAG=_wks.exports("toStringTag");var ARG=cof$1(function(){return arguments}())=="Arguments";var tryGet=function(e,t){try{return e[t]}catch(e){}};var _classof=function(e){var t,r,n;return e===undefined?"Undefined":e===null?"Null":typeof(r=tryGet(t=Object(e),TAG))=="string"?r:ARG?cof$1(t):(n=cof$1(t))=="Object"&&typeof t.callee=="function"?"Arguments":n};var _anInstance=function(e,t,r,n){if(!(e instanceof t)||n!==undefined&&n in e){throw TypeError(r+": incorrect invocation!")}return e};var _forOf={exports:{}};var anObject$7=_anObject;var _iterCall=function(e,t,r,n){try{return n?t(anObject$7(r)[0],r[1]):t(r)}catch(t){var i=e["return"];if(i!==undefined)anObject$7(i.call(e));throw t}};var Iterators$1=_iterators;var ITERATOR$2=_wks.exports("iterator");var ArrayProto=Array.prototype;var _isArrayIter=function(e){return e!==undefined&&(Iterators$1.Array===e||ArrayProto[ITERATOR$2]===e)};var classof$2=_classof;var ITERATOR$1=_wks.exports("iterator");var Iterators=_iterators;var core_getIteratorMethod=_core.exports.getIteratorMethod=function(e){if(e!=undefined)return e[ITERATOR$1]||e["@@iterator"]||Iterators[classof$2(e)]};var ctx$6=_ctx;var call$1=_iterCall;var isArrayIter$1=_isArrayIter;var anObject$6=_anObject;var toLength$2=_toLength;var getIterFn$1=core_getIteratorMethod;var BREAK={};var RETURN={};var exports=_forOf.exports=function(e,t,r,n,i){var a=i?function(){return e}:getIterFn$1(e);var o=ctx$6(r,n,t?2:1);var s=0;var c,u,l,d;if(typeof a!="function")throw TypeError(e+" is not iterable!");if(isArrayIter$1(a))for(c=toLength$2(e.length);c>s;s++){d=t?o(anObject$6(u=e[s])[0],u[1]):o(e[s]);if(d===BREAK||d===RETURN)return d}else for(l=a.call(e);!(u=l.next()).done;){d=call$1(l,o,u.value,t);if(d===BREAK||d===RETURN)return d}};exports.BREAK=BREAK;exports.RETURN=RETURN;var anObject$5=_anObject;var aFunction$5=_aFunction;var SPECIES$2=_wks.exports("species");var _speciesConstructor=function(e,t){var r=anObject$5(e).constructor;var n;return r===undefined||(n=anObject$5(r)[SPECIES$2])==undefined?t:aFunction$5(n)};var _invoke=function(e,t,r){var n=r===undefined;switch(t.length){case 0:return n?e():e.call(r);case 1:return n?e(t[0]):e.call(r,t[0]);case 2:return n?e(t[0],t[1]):e.call(r,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(r,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(r,t[0],t[1],t[2],t[3])}return e.apply(r,t)};var ctx$5=_ctx;var invoke$1=_invoke;var html=_html;var cel=_domCreate;var global$9=_global.exports;var process$3=global$9.process;var setTask=global$9.setImmediate;var clearTask=global$9.clearImmediate;var MessageChannel=global$9.MessageChannel;var Dispatch=global$9.Dispatch;var counter=0;var queue={};var ONREADYSTATECHANGE="onreadystatechange";var defer,channel,port;var run=function(){var e=+this;if(queue.hasOwnProperty(e)){var t=queue[e];delete queue[e];t()}};var listener=function(e){run.call(e.data)};if(!setTask||!clearTask){setTask=function e(t){var r=[];var n=1;while(arguments.length>n)r.push(arguments[n++]);queue[++counter]=function(){invoke$1(typeof t=="function"?t:Function(t),r)};defer(counter);return counter};clearTask=function e(t){delete queue[t]};if(_cof(process$3)=="process"){defer=function(e){process$3.nextTick(ctx$5(run,e,1))}}else if(Dispatch&&Dispatch.now){defer=function(e){Dispatch.now(ctx$5(run,e,1))}}else if(MessageChannel){channel=new MessageChannel;port=channel.port2;channel.port1.onmessage=listener;defer=ctx$5(port.postMessage,port,1)}else if(global$9.addEventListener&&typeof postMessage=="function"&&!global$9.importScripts){defer=function(e){global$9.postMessage(e+"","*")};global$9.addEventListener("message",listener,false)}else if(ONREADYSTATECHANGE in cel("script")){defer=function(e){html.appendChild(cel("script"))[ONREADYSTATECHANGE]=function(){html.removeChild(this);run.call(e)}}}else{defer=function(e){setTimeout(ctx$5(run,e,1),0)}}}var _task={set:setTask,clear:clearTask};var global$8=_global.exports;var macrotask=_task.set;var Observer=global$8.MutationObserver||global$8.WebKitMutationObserver;var process$2=global$8.process;var Promise$1=global$8.Promise;var isNode$1=_cof(process$2)=="process";var _microtask=function(){var e,t,r;var n=function(){var n,i;if(isNode$1&&(n=process$2.domain))n.exit();while(e){i=e.fn;e=e.next;try{i()}catch(n){if(e)r();else t=undefined;throw n}}t=undefined;if(n)n.enter()};if(isNode$1){r=function(){process$2.nextTick(n)}}else if(Observer&&!(global$8.navigator&&global$8.navigator.standalone)){var i=true;var a=document.createTextNode("");new Observer(n).observe(a,{characterData:true});r=function(){a.data=i=!i}}else if(Promise$1&&Promise$1.resolve){var o=Promise$1.resolve(undefined);r=function(){o.then(n)}}else{r=function(){macrotask.call(global$8,n)}}return function(n){var i={fn:n,next:undefined};if(t)t.next=i;if(!e){e=i;r()}t=i}};var _newPromiseCapability={};var aFunction$4=_aFunction;function PromiseCapability(e){var t,r;this.promise=new e(function(e,n){if(t!==undefined||r!==undefined)throw TypeError("Bad Promise constructor");t=e;r=n});this.resolve=aFunction$4(t);this.reject=aFunction$4(r)}_newPromiseCapability.f=function(e){return new PromiseCapability(e)};var _perform=function(e){try{return{e:false,v:e()}}catch(e){return{e:true,v:e}}};var global$7=_global.exports;var navigator$1=global$7.navigator;var _userAgent=navigator$1&&navigator$1.userAgent||"";var anObject$4=_anObject;var isObject$9=_isObject;var newPromiseCapability$2=_newPromiseCapability;var _promiseResolve=function(e,t){anObject$4(e);if(isObject$9(t)&&t.constructor===e)return t;var r=newPromiseCapability$2.f(e);var n=r.resolve;n(t);return r.promise};var hide$1=_hide;var _redefineAll=function(e,t,r){for(var n in t){if(r&&e[n])e[n]=t[n];else hide$1(e,n,t[n])}return e};var global$6=_global.exports;var core$4=_core.exports;var dP$3=_objectDp;var DESCRIPTORS$5=_descriptors;var SPECIES$1=_wks.exports("species");var _setSpecies=function(e){var t=typeof core$4[e]=="function"?core$4[e]:global$6[e];if(DESCRIPTORS$5&&t&&!t[SPECIES$1])dP$3.f(t,SPECIES$1,{configurable:true,get:function(){return this}})};var ITERATOR=_wks.exports("iterator");var SAFE_CLOSING=false;try{var riter=[7][ITERATOR]();riter["return"]=function(){SAFE_CLOSING=true};Array.from(riter,function(){throw 2})}catch(e){}var _iterDetect=function(e,t){if(!t&&!SAFE_CLOSING)return false;var r=false;try{var n=[7];var i=n[ITERATOR]();i.next=function(){return{done:r=true}};n[ITERATOR]=function(){return i};e(n)}catch(e){}return r};var LIBRARY=_library;var global$5=_global.exports;var ctx$4=_ctx;var classof$1=_classof;var $export$k=_export;var isObject$8=_isObject;var aFunction$3=_aFunction;var anInstance$2=_anInstance;var forOf$4=_forOf.exports;var speciesConstructor$2=_speciesConstructor;var task=_task.set;var microtask=_microtask();var newPromiseCapabilityModule=_newPromiseCapability;var perform$1=_perform;var userAgent=_userAgent;var promiseResolve$1=_promiseResolve;var PROMISE="Promise";var TypeError$1=global$5.TypeError;var process$1=global$5.process;var versions=process$1&&process$1.versions;var v8=versions&&versions.v8||"";var $Promise=global$5[PROMISE];var isNode=classof$1(process$1)=="process";var empty=function(){};var Internal,newGenericPromiseCapability,OwnPromiseCapability,Wrapper;var newPromiseCapability$1=newGenericPromiseCapability=newPromiseCapabilityModule.f;var USE_NATIVE$1=!!function(){try{var e=$Promise.resolve(1);var t=(e.constructor={})[_wks.exports("species")]=function(e){e(empty,empty)};return(isNode||typeof PromiseRejectionEvent=="function")&&e.then(empty)instanceof t&&v8.indexOf("6.6")!==0&&userAgent.indexOf("Chrome/66")===-1}catch(e){}}();var isThenable=function(e){var t;return isObject$8(e)&&typeof(t=e.then)=="function"?t:false};var notify$1=function(e,t){if(e._n)return;e._n=true;var r=e._c;microtask(function(){var n=e._v;var i=e._s==1;var a=0;var o=function(t){var r=i?t.ok:t.fail;var a=t.resolve;var o=t.reject;var s=t.domain;var c,u,l;try{if(r){if(!i){if(e._h==2)onHandleUnhandled(e);e._h=1}if(r===true)c=n;else{if(s)s.enter();c=r(n);if(s){s.exit();l=true}}if(c===t.promise){o(TypeError$1("Promise-chain cycle"))}else if(u=isThenable(c)){u.call(c,a,o)}else a(c)}else o(n)}catch(e){if(s&&!l)s.exit();o(e)}};while(r.length>a)o(r[a++]);e._c=[];e._n=false;if(t&&!e._h)onUnhandled(e)})};var onUnhandled=function(e){task.call(global$5,function(){var t=e._v;var r=isUnhandled(e);var n,i,a;if(r){n=perform$1(function(){if(isNode){process$1.emit("unhandledRejection",t,e)}else if(i=global$5.onunhandledrejection){i({promise:e,reason:t})}else if((a=global$5.console)&&a.error){a.error("Unhandled promise rejection",t)}});e._h=isNode||isUnhandled(e)?2:1}e._a=undefined;if(r&&n.e)throw n.v})};var isUnhandled=function(e){return e._h!==1&&(e._a||e._c).length===0};var onHandleUnhandled=function(e){task.call(global$5,function(){var t;if(isNode){process$1.emit("rejectionHandled",e)}else if(t=global$5.onrejectionhandled){t({promise:e,reason:e._v})}})};var $reject=function(e){var t=this;if(t._d)return;t._d=true;t=t._w||t;t._v=e;t._s=2;if(!t._a)t._a=t._c.slice();notify$1(t,true)};var $resolve=function(e){var t=this;var r;if(t._d)return;t._d=true;t=t._w||t;try{if(t===e)throw TypeError$1("Promise can't be resolved itself");if(r=isThenable(e)){microtask(function(){var n={_w:t,_d:false};try{r.call(e,ctx$4($resolve,n,1),ctx$4($reject,n,1))}catch(e){$reject.call(n,e)}})}else{t._v=e;t._s=1;notify$1(t,false)}}catch(e){$reject.call({_w:t,_d:false},e)}};if(!USE_NATIVE$1){$Promise=function e(t){anInstance$2(this,$Promise,PROMISE,"_h");aFunction$3(t);Internal.call(this);try{t(ctx$4($resolve,this,1),ctx$4($reject,this,1))}catch(e){$reject.call(this,e)}};Internal=function e(t){this._c=[];this._a=undefined;this._s=0;this._d=false;this._v=undefined;this._h=0;this._n=false};Internal.prototype=_redefineAll($Promise.prototype,{then:function e(t,r){var n=newPromiseCapability$1(speciesConstructor$2(this,$Promise));n.ok=typeof t=="function"?t:true;n.fail=typeof r=="function"&&r;n.domain=isNode?process$1.domain:undefined;this._c.push(n);if(this._a)this._a.push(n);if(this._s)notify$1(this,false);return n.promise},catch:function(e){return this.then(undefined,e)}});OwnPromiseCapability=function(){var e=new Internal;this.promise=e;this.resolve=ctx$4($resolve,e,1);this.reject=ctx$4($reject,e,1)};newPromiseCapabilityModule.f=newPromiseCapability$1=function(e){return e===$Promise||e===Wrapper?new OwnPromiseCapability(e):newGenericPromiseCapability(e)}}$export$k($export$k.G+$export$k.W+$export$k.F*!USE_NATIVE$1,{Promise:$Promise});_setToStringTag($Promise,PROMISE);_setSpecies(PROMISE);Wrapper=_core.exports[PROMISE];$export$k($export$k.S+$export$k.F*!USE_NATIVE$1,PROMISE,{reject:function e(t){var r=newPromiseCapability$1(this);var n=r.reject;n(t);return r.promise}});$export$k($export$k.S+$export$k.F*LIBRARY,PROMISE,{resolve:function e(t){return promiseResolve$1(this===Wrapper?$Promise:this,t)}});$export$k($export$k.S+$export$k.F*!(USE_NATIVE$1&&_iterDetect(function(e){$Promise.all(e)["catch"](empty)})),PROMISE,{all:function e(t){var r=this;var n=newPromiseCapability$1(r);var i=n.resolve;var a=n.reject;var o=perform$1(function(){var e=[];var n=0;var o=1;forOf$4(t,false,function(t){var s=n++;var c=false;e.push(undefined);o++;r.resolve(t).then(function(t){if(c)return;c=true;e[s]=t;--o||i(e)},a)});--o||i(e)});if(o.e)a(o.v);return n.promise},race:function e(t){var r=this;var n=newPromiseCapability$1(r);var i=n.reject;var a=perform$1(function(){forOf$4(t,false,function(e){r.resolve(e).then(n.resolve,i)})});if(a.e)i(a.v);return n.promise}});var $export$j=_export;var core$3=_core.exports;var global$4=_global.exports;var speciesConstructor$1=_speciesConstructor;var promiseResolve=_promiseResolve;$export$j($export$j.P+$export$j.R,"Promise",{finally:function(e){var t=speciesConstructor$1(this,core$3.Promise||global$4.Promise);var r=typeof e=="function";return this.then(r?function(r){return promiseResolve(t,e()).then(function(){return r})}:e,r?function(r){return promiseResolve(t,e()).then(function(){throw r})}:e)}});var $export$i=_export;var newPromiseCapability=_newPromiseCapability;var perform=_perform;$export$i($export$i.S,"Promise",{try:function(e){var t=newPromiseCapability.f(this);var r=perform(e);(r.e?t.reject:t.resolve)(r.v);return t.promise}});var promise$1=_core.exports.Promise;var promise=promise$1;function asyncGeneratorStep(e,t,r,n,i,a,o){try{var s=e[a](o);var c=s.value}catch(e){r(e);return}if(s.done){t(c)}else{promise.resolve(c).then(n,i)}}function _asyncToGenerator(e){return function(){var t=this,r=arguments;return new promise(function(n,i){var a=e.apply(t,r);function o(e){asyncGeneratorStep(a,n,i,o,s,"next",e)}function s(e){asyncGeneratorStep(a,n,i,o,s,"throw",e)}o(undefined)})}}var runtime={exports:{}};
/**
 * Copyright (c) 2014-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){var t=function(e){var t=Object.prototype;var r=t.hasOwnProperty;var n;var i=typeof Symbol==="function"?Symbol:{};var a=i.iterator||"@@iterator";var o=i.asyncIterator||"@@asyncIterator";var s=i.toStringTag||"@@toStringTag";function c(e,t,r){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true});return e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var i=t&&t.prototype instanceof g?t:g;var a=Object.create(i.prototype);var o=new O(n||[]);a._invoke=T(e,r,o);return a}e.wrap=u;function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}var d="suspendedStart";var f="suspendedYield";var h="executing";var v="completed";var p={};function g(){}function m(){}function y(){}var b={};c(b,a,function(){return this});var _=Object.getPrototypeOf;var A=_&&_(_(x([])));if(A&&A!==t&&r.call(A,a)){b=A}var E=y.prototype=g.prototype=Object.create(b);m.prototype=y;c(E,"constructor",y);c(y,"constructor",m);m.displayName=c(y,s,"GeneratorFunction");function S(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}e.isGeneratorFunction=function(e){var t=typeof e==="function"&&e.constructor;return t?t===m||(t.displayName||t.name)==="GeneratorFunction":false};e.mark=function(e){if(Object.setPrototypeOf){Object.setPrototypeOf(e,y)}else{e.__proto__=y;c(e,s,"GeneratorFunction")}e.prototype=Object.create(E);return e};e.awrap=function(e){return{__await:e}};function C(e,t){function n(i,a,o,s){var c=l(e[i],e,a);if(c.type==="throw"){s(c.arg)}else{var u=c.arg;var d=u.value;if(d&&typeof d==="object"&&r.call(d,"__await")){return t.resolve(d.__await).then(function(e){n("next",e,o,s)},function(e){n("throw",e,o,s)})}return t.resolve(d).then(function(e){u.value=e;o(u)},function(e){return n("throw",e,o,s)})}}var i;function a(e,r){function a(){return new t(function(t,i){n(e,r,t,i)})}return i=i?i.then(a,a):a()}this._invoke=a}S(C.prototype);c(C.prototype,o,function(){return this});e.AsyncIterator=C;e.async=function(t,r,n,i,a){if(a===void 0)a=Promise;var o=new C(u(t,r,n,i),a);return e.isGeneratorFunction(r)?o:o.next().then(function(e){return e.done?e.value:o.next()})};function T(e,t,r){var n=d;return function i(a,o){if(n===h){throw new Error("Generator is already running")}if(n===v){if(a==="throw"){throw o}return k()}r.method=a;r.arg=o;while(true){var s=r.delegate;if(s){var c=w(s,r);if(c){if(c===p)continue;return c}}if(r.method==="next"){r.sent=r._sent=r.arg}else if(r.method==="throw"){if(n===d){n=v;throw r.arg}r.dispatchException(r.arg)}else if(r.method==="return"){r.abrupt("return",r.arg)}n=h;var u=l(e,t,r);if(u.type==="normal"){n=r.done?v:f;if(u.arg===p){continue}return{value:u.arg,done:r.done}}else if(u.type==="throw"){n=v;r.method="throw";r.arg=u.arg}}}}function w(e,t){var r=e.iterator[t.method];if(r===n){t.delegate=null;if(t.method==="throw"){if(e.iterator["return"]){t.method="return";t.arg=n;w(e,t);if(t.method==="throw"){return p}}t.method="throw";t.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var i=l(r,e.iterator,t.arg);if(i.type==="throw"){t.method="throw";t.arg=i.arg;t.delegate=null;return p}var a=i.arg;if(!a){t.method="throw";t.arg=new TypeError("iterator result is not an object");t.delegate=null;return p}if(a.done){t[e.resultName]=a.value;t.next=e.nextLoc;if(t.method!=="return"){t.method="next";t.arg=n}}else{return a}t.delegate=null;return p}S(E);c(E,s,"Generator");c(E,a,function(){return this});c(E,"toString",function(){return"[object Generator]"});function I(e){var t={tryLoc:e[0]};if(1 in e){t.catchLoc=e[1]}if(2 in e){t.finallyLoc=e[2];t.afterLoc=e[3]}this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal";delete t.arg;e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}];e.forEach(I,this);this.reset(true)}e.keys=function(e){var t=[];for(var r in e){t.push(r)}t.reverse();return function r(){while(t.length){var n=t.pop();if(n in e){r.value=n;r.done=false;return r}}r.done=true;return r}};function x(e){if(e){var t=e[a];if(t){return t.call(e)}if(typeof e.next==="function"){return e}if(!isNaN(e.length)){var i=-1,o=function t(){while(++i<e.length){if(r.call(e,i)){t.value=e[i];t.done=false;return t}}t.value=n;t.done=true;return t};return o.next=o}}return{next:k}}e.values=x;function k(){return{value:n,done:true}}O.prototype={constructor:O,reset:function(e){this.prev=0;this.next=0;this.sent=this._sent=n;this.done=false;this.delegate=null;this.method="next";this.arg=n;this.tryEntries.forEach(N);if(!e){for(var t in this){if(t.charAt(0)==="t"&&r.call(this,t)&&!isNaN(+t.slice(1))){this[t]=n}}}},stop:function(){this.done=true;var e=this.tryEntries[0];var t=e.completion;if(t.type==="throw"){throw t.arg}return this.rval},dispatchException:function(e){if(this.done){throw e}var t=this;function i(r,i){s.type="throw";s.arg=e;t.next=r;if(i){t.method="next";t.arg=n}return!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a];var s=o.completion;if(o.tryLoc==="root"){return i("end")}if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc");var u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc){return i(o.catchLoc,true)}else if(this.prev<o.finallyLoc){return i(o.finallyLoc)}}else if(c){if(this.prev<o.catchLoc){return i(o.catchLoc,true)}}else if(u){if(this.prev<o.finallyLoc){return i(o.finallyLoc)}}else{throw new Error("try statement without catch or finally")}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}if(a&&(e==="break"||e==="continue")&&a.tryLoc<=t&&t<=a.finallyLoc){a=null}var o=a?a.completion:{};o.type=e;o.arg=t;if(a){this.method="next";this.next=a.finallyLoc;return p}return this.complete(o)},complete:function(e,t){if(e.type==="throw"){throw e.arg}if(e.type==="break"||e.type==="continue"){this.next=e.arg}else if(e.type==="return"){this.rval=this.arg=e.arg;this.method="return";this.next="end"}else if(e.type==="normal"&&t){this.next=t}return p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e){this.complete(r.completion,r.afterLoc);N(r);return p}}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if(n.type==="throw"){var i=n.arg;N(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){this.delegate={iterator:x(e),resultName:t,nextLoc:r};if(this.method==="next"){this.arg=n}return p}};return e}(e.exports);try{regeneratorRuntime=t}catch(e){if(typeof globalThis==="object"){globalThis.regeneratorRuntime=t}else{Function("r","regeneratorRuntime = r")(t)}}})(runtime);var regenerator=runtime.exports;!function(){if("undefined"!=typeof window){var e=window.navigator.userAgent.match(/Edge\/(\d{2})\./),t=e?parseInt(e[1],10):null,r=!!t&&(16<=t&&t<=18);if(!("objectFit"in document.documentElement.style!=!1)||r){var n=function(e,t,r){var n,i,a,o,s;if((r=r.split(" ")).length<2&&(r[1]=r[0]),"x"===e)n=r[0],i=r[1],a="left",o="right",s=t.clientWidth;else{if("y"!==e)return;n=r[1],i=r[0],a="top",o="bottom",s=t.clientHeight}if(n!==a&&i!==a){if(n!==o&&i!==o)return"center"===n||"50%"===n?(t.style[a]="50%",void(t.style["margin-"+a]=s/-2+"px")):void(0<=n.indexOf("%")?(n=parseInt(n,10))<50?(t.style[a]=n+"%",t.style["margin-"+a]=s*(n/-100)+"px"):(n=100-n,t.style[o]=n+"%",t.style["margin-"+o]=s*(n/-100)+"px"):t.style[a]=n);t.style[o]="0"}else t.style[a]="0"},i=function(e){var t=e.dataset?e.dataset.objectFit:e.getAttribute("data-object-fit"),r=e.dataset?e.dataset.objectPosition:e.getAttribute("data-object-position");t=t||"cover",r=r||"50% 50%";var i=e.parentNode;return function(e){var t=window.getComputedStyle(e,null),r=t.getPropertyValue("position"),n=t.getPropertyValue("overflow"),i=t.getPropertyValue("display");r&&"static"!==r||(e.style.position="relative"),"hidden"!==n&&(e.style.overflow="hidden"),i&&"inline"!==i||(e.style.display="block"),0===e.clientHeight&&(e.style.height="100%"),-1===e.className.indexOf("object-fit-polyfill")&&(e.className=e.className+" object-fit-polyfill")}(i),function(e){var t=window.getComputedStyle(e,null),r={"max-width":"none","max-height":"none","min-width":"0px","min-height":"0px",top:"auto",right:"auto",bottom:"auto",left:"auto","margin-top":"0px","margin-right":"0px","margin-bottom":"0px","margin-left":"0px"};for(var n in r)t.getPropertyValue(n)!==r[n]&&(e.style[n]=r[n])}(e),e.style.position="absolute",e.style.width="auto",e.style.height="auto","scale-down"===t&&(t=e.clientWidth<i.clientWidth&&e.clientHeight<i.clientHeight?"none":"contain"),"none"===t?(n("x",e,r),void n("y",e,r)):"fill"===t?(e.style.width="100%",e.style.height="100%",n("x",e,r),void n("y",e,r)):(e.style.height="100%",void("cover"===t&&e.clientWidth>i.clientWidth||"contain"===t&&e.clientWidth<i.clientWidth?(e.style.top="0",e.style.marginTop="0",n("x",e,r)):(e.style.width="100%",e.style.height="auto",e.style.left="0",e.style.marginLeft="0",n("y",e,r))))},a=function(e){if(void 0===e||e instanceof Event)e=document.querySelectorAll("[data-object-fit]");else if(e&&e.nodeName)e=[e];else{if("object"!=typeof e||!e.length||!e[0].nodeName)return!1;e=e}for(var t=0;t<e.length;t++)if(e[t].nodeName){var n=e[t].nodeName.toLowerCase();if("img"===n){if(r)continue;e[t].complete?i(e[t]):e[t].addEventListener("load",function(){i(this)})}else"video"===n?0<e[t].readyState?i(e[t]):e[t].addEventListener("loadedmetadata",function(){i(this)}):i(e[t])}return!0};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",a):a(),window.addEventListener("resize",a),window.objectFitPolyfill=a}else window.objectFitPolyfill=function(){return!1}}}();var aFunction$2=_aFunction;var isObject$7=_isObject;var invoke=_invoke;var arraySlice=[].slice;var factories={};var construct$2=function(e,t,r){if(!(t in factories)){for(var n=[],i=0;i<t;i++)n[i]="a["+i+"]";factories[t]=Function("F,a","return new F("+n.join(",")+")")}return factories[t](e,r)};var _bind=Function.bind||function e(t){var r=aFunction$2(this);var n=arraySlice.call(arguments,1);var i=function(){var e=n.concat(arraySlice.call(arguments));return this instanceof i?construct$2(r,e.length,e):invoke(r,e,t)};if(isObject$7(r.prototype))i.prototype=r.prototype;return i};var $export$h=_export;var create$3=_objectCreate;var aFunction$1=_aFunction;var anObject$3=_anObject;var isObject$6=_isObject;var fails$3=_fails;var bind=_bind;var rConstruct=(_global.exports.Reflect||{}).construct;var NEW_TARGET_BUG=fails$3(function(){function e(){}return!(rConstruct(function(){},[],e)instanceof e)});var ARGS_BUG=!fails$3(function(){rConstruct(function(){})});$export$h($export$h.S+$export$h.F*(NEW_TARGET_BUG||ARGS_BUG),"Reflect",{construct:function e(t,r){aFunction$1(t);anObject$3(r);var n=arguments.length<3?t:aFunction$1(arguments[2]);if(ARGS_BUG&&!NEW_TARGET_BUG)return rConstruct(t,r,n);if(t==n){switch(r.length){case 0:return new t;case 1:return new t(r[0]);case 2:return new t(r[0],r[1]);case 3:return new t(r[0],r[1],r[2]);case 4:return new t(r[0],r[1],r[2],r[3])}var i=[null];i.push.apply(i,r);return new(bind.apply(t,i))}var a=n.prototype;var o=create$3(isObject$6(a)?a:Object.prototype);var s=Function.apply.call(t,o,r);return isObject$6(s)?s:o}});var construct$1=_core.exports.Reflect.construct;var construct=construct$1;var $export$g=_export;$export$g($export$g.S+$export$g.F*!_descriptors,"Object",{defineProperty:_objectDp.f});var $Object$1=_core.exports.Object;var defineProperty$2=function e(t,r,n){return $Object$1.defineProperty(t,r,n)};var defineProperty$1=defineProperty$2;function _defineProperty(e,t,r){if(t in e){defineProperty$1(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;defineProperty$1(e,n.key,n)}}function _createClass(e,t,r){if(t)_defineProperties(e.prototype,t);if(r)_defineProperties(e,r);defineProperty$1(e,"prototype",{writable:false});return e}function _classCallCheck(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var $export$f=_export;$export$f($export$f.S,"Object",{create:_objectCreate});var $Object=_core.exports.Object;var create$2=function e(t,r){return $Object.create(t,r)};var create$1=create$2;var _objectGopd={};var _objectPie={};_objectPie.f={}.propertyIsEnumerable;var pIE$2=_objectPie;var createDesc$2=_propertyDesc;var toIObject$4=_toIobject;var toPrimitive$1=_toPrimitive;var has$2=_has;var IE8_DOM_DEFINE=_ie8DomDefine;var gOPD$2=Object.getOwnPropertyDescriptor;_objectGopd.f=_descriptors?gOPD$2:function e(t,r){t=toIObject$4(t);r=toPrimitive$1(r,true);if(IE8_DOM_DEFINE)try{return gOPD$2(t,r)}catch(e){}if(has$2(t,r))return createDesc$2(!pIE$2.f.call(t,r),t[r])};var isObject$5=_isObject;var anObject$2=_anObject;var check=function(e,t){anObject$2(e);if(!isObject$5(t)&&t!==null)throw TypeError(t+": can't set as prototype!")};var _setProto={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{r=_ctx(Function.call,_objectGopd.f(Object.prototype,"__proto__").set,2);r(e,[]);t=!(e instanceof Array)}catch(e){t=true}return function e(n,i){check(n,i);if(t)n.__proto__=i;else r(n,i);return n}}({},false):undefined),check:check};var $export$e=_export;$export$e($export$e.S,"Object",{setPrototypeOf:_setProto.set});var setPrototypeOf$1=_core.exports.Object.setPrototypeOf;var setPrototypeOf=setPrototypeOf$1;function _setPrototypeOf(e,t){_setPrototypeOf=setPrototypeOf||function e(t,r){t.__proto__=r;return t};return _setPrototypeOf(e,t)}function _inherits(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=create$1(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});defineProperty$1(e,"prototype",{writable:false});if(t)_setPrototypeOf(e,t)}var _meta={exports:{}};var META$1=_uid("meta");var isObject$4=_isObject;var has$1=_has;var setDesc=_objectDp.f;var id=0;var isExtensible=Object.isExtensible||function(){return true};var FREEZE=!_fails(function(){return isExtensible(Object.preventExtensions({}))});var setMeta=function(e){setDesc(e,META$1,{value:{i:"O"+ ++id,w:{}}})};var fastKey$1=function(e,t){if(!isObject$4(e))return typeof e=="symbol"?e:(typeof e=="string"?"S":"P")+e;if(!has$1(e,META$1)){if(!isExtensible(e))return"F";if(!t)return"E";setMeta(e)}return e[META$1].i};var getWeak=function(e,t){if(!has$1(e,META$1)){if(!isExtensible(e))return true;if(!t)return false;setMeta(e)}return e[META$1].w};var onFreeze=function(e){if(FREEZE&&meta$1.NEED&&isExtensible(e)&&!has$1(e,META$1))setMeta(e);return e};var meta$1=_meta.exports={KEY:META$1,NEED:false,fastKey:fastKey$1,getWeak:getWeak,onFreeze:onFreeze};var _wksExt={};_wksExt.f=_wks.exports;var core$2=_core.exports;var wksExt$1=_wksExt;var defineProperty=_objectDp.f;var _wksDefine=function(e){var t=core$2.Symbol||(core$2.Symbol={});if(e.charAt(0)!="_"&&!(e in t))defineProperty(t,e,{value:wksExt$1.f(e)})};var _objectGops={};_objectGops.f=Object.getOwnPropertySymbols;var getKeys$2=_objectKeys;var gOPS$2=_objectGops;var pIE$1=_objectPie;var _enumKeys=function(e){var t=getKeys$2(e);var r=gOPS$2.f;if(r){var n=r(e);var i=pIE$1.f;var a=0;var o;while(n.length>a)if(i.call(e,o=n[a++]))t.push(o)}return t};var cof=_cof;var _isArray=Array.isArray||function e(t){return cof(t)=="Array"};var _objectGopnExt={};var _objectGopn={};var $keys$1=_objectKeysInternal;var hiddenKeys=_enumBugKeys.concat("length","prototype");_objectGopn.f=Object.getOwnPropertyNames||function e(t){return $keys$1(t,hiddenKeys)};var toIObject$3=_toIobject;var gOPN$2=_objectGopn.f;var toString={}.toString;var windowNames=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];var getWindowNames=function(e){try{return gOPN$2(e)}catch(e){return windowNames.slice()}};_objectGopnExt.f=function e(t){return windowNames&&toString.call(t)=="[object Window]"?getWindowNames(t):gOPN$2(toIObject$3(t))};var global$3=_global.exports;var has=_has;var DESCRIPTORS$4=_descriptors;var $export$d=_export;var redefine=_redefine;var META=_meta.exports.KEY;var $fails=_fails;var shared=_shared.exports;var setToStringTag$1=_setToStringTag;var uid=_uid;var wks=_wks.exports;var wksExt=_wksExt;var wksDefine=_wksDefine;var enumKeys=_enumKeys;var isArray$3=_isArray;var anObject$1=_anObject;var isObject$3=_isObject;var toObject$4=_toObject;var toIObject$2=_toIobject;var toPrimitive=_toPrimitive;var createDesc$1=_propertyDesc;var _create=_objectCreate;var gOPNExt=_objectGopnExt;var $GOPD=_objectGopd;var $GOPS=_objectGops;var $DP=_objectDp;var $keys=_objectKeys;var gOPD$1=$GOPD.f;var dP$2=$DP.f;var gOPN$1=gOPNExt.f;var $Symbol=global$3.Symbol;var $JSON$1=global$3.JSON;var _stringify=$JSON$1&&$JSON$1.stringify;var PROTOTYPE="prototype";var HIDDEN=wks("_hidden");var TO_PRIMITIVE=wks("toPrimitive");var isEnum$1={}.propertyIsEnumerable;var SymbolRegistry=shared("symbol-registry");var AllSymbols=shared("symbols");var OPSymbols=shared("op-symbols");var ObjectProto=Object[PROTOTYPE];var USE_NATIVE=typeof $Symbol=="function"&&!!$GOPS.f;var QObject=global$3.QObject;var setter=!QObject||!QObject[PROTOTYPE]||!QObject[PROTOTYPE].findChild;var setSymbolDesc=DESCRIPTORS$4&&$fails(function(){return _create(dP$2({},"a",{get:function(){return dP$2(this,"a",{value:7}).a}})).a!=7})?function(e,t,r){var n=gOPD$1(ObjectProto,t);if(n)delete ObjectProto[t];dP$2(e,t,r);if(n&&e!==ObjectProto)dP$2(ObjectProto,t,n)}:dP$2;var wrap=function(e){var t=AllSymbols[e]=_create($Symbol[PROTOTYPE]);t._k=e;return t};var isSymbol=USE_NATIVE&&typeof $Symbol.iterator=="symbol"?function(e){return typeof e=="symbol"}:function(e){return e instanceof $Symbol};var $defineProperty$1=function e(t,r,n){if(t===ObjectProto)$defineProperty$1(OPSymbols,r,n);anObject$1(t);r=toPrimitive(r,true);anObject$1(n);if(has(AllSymbols,r)){if(!n.enumerable){if(!has(t,HIDDEN))dP$2(t,HIDDEN,createDesc$1(1,{}));t[HIDDEN][r]=true}else{if(has(t,HIDDEN)&&t[HIDDEN][r])t[HIDDEN][r]=false;n=_create(n,{enumerable:createDesc$1(0,false)})}return setSymbolDesc(t,r,n)}return dP$2(t,r,n)};var $defineProperties=function e(t,r){anObject$1(t);var n=enumKeys(r=toIObject$2(r));var i=0;var a=n.length;var o;while(a>i)$defineProperty$1(t,o=n[i++],r[o]);return t};var $create=function e(t,r){return r===undefined?_create(t):$defineProperties(_create(t),r)};var $propertyIsEnumerable=function e(t){var r=isEnum$1.call(this,t=toPrimitive(t,true));if(this===ObjectProto&&has(AllSymbols,t)&&!has(OPSymbols,t))return false;return r||!has(this,t)||!has(AllSymbols,t)||has(this,HIDDEN)&&this[HIDDEN][t]?r:true};var $getOwnPropertyDescriptor=function e(t,r){t=toIObject$2(t);r=toPrimitive(r,true);if(t===ObjectProto&&has(AllSymbols,r)&&!has(OPSymbols,r))return;var n=gOPD$1(t,r);if(n&&has(AllSymbols,r)&&!(has(t,HIDDEN)&&t[HIDDEN][r]))n.enumerable=true;return n};var $getOwnPropertyNames=function e(t){var r=gOPN$1(toIObject$2(t));var n=[];var i=0;var a;while(r.length>i){if(!has(AllSymbols,a=r[i++])&&a!=HIDDEN&&a!=META)n.push(a)}return n};var $getOwnPropertySymbols=function e(t){var r=t===ObjectProto;var n=gOPN$1(r?OPSymbols:toIObject$2(t));var i=[];var a=0;var o;while(n.length>a){if(has(AllSymbols,o=n[a++])&&(r?has(ObjectProto,o):true))i.push(AllSymbols[o])}return i};if(!USE_NATIVE){$Symbol=function e(){if(this instanceof $Symbol)throw TypeError("Symbol is not a constructor!");var t=uid(arguments.length>0?arguments[0]:undefined);var r=function(e){if(this===ObjectProto)r.call(OPSymbols,e);if(has(this,HIDDEN)&&has(this[HIDDEN],t))this[HIDDEN][t]=false;setSymbolDesc(this,t,createDesc$1(1,e))};if(DESCRIPTORS$4&&setter)setSymbolDesc(ObjectProto,t,{configurable:true,set:r});return wrap(t)};redefine($Symbol[PROTOTYPE],"toString",function e(){return this._k});$GOPD.f=$getOwnPropertyDescriptor;$DP.f=$defineProperty$1;_objectGopn.f=gOPNExt.f=$getOwnPropertyNames;_objectPie.f=$propertyIsEnumerable;$GOPS.f=$getOwnPropertySymbols;if(DESCRIPTORS$4&&!_library){redefine(ObjectProto,"propertyIsEnumerable",$propertyIsEnumerable)}wksExt.f=function(e){return wrap(wks(e))}}$export$d($export$d.G+$export$d.W+$export$d.F*!USE_NATIVE,{Symbol:$Symbol});for(var es6Symbols="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),j=0;es6Symbols.length>j;)wks(es6Symbols[j++]);for(var wellKnownSymbols=$keys(wks.store),k=0;wellKnownSymbols.length>k;)wksDefine(wellKnownSymbols[k++]);$export$d($export$d.S+$export$d.F*!USE_NATIVE,"Symbol",{for:function(e){return has(SymbolRegistry,e+="")?SymbolRegistry[e]:SymbolRegistry[e]=$Symbol(e)},keyFor:function e(t){if(!isSymbol(t))throw TypeError(t+" is not a symbol!");for(var r in SymbolRegistry)if(SymbolRegistry[r]===t)return r},useSetter:function(){setter=true},useSimple:function(){setter=false}});$export$d($export$d.S+$export$d.F*!USE_NATIVE,"Object",{create:$create,defineProperty:$defineProperty$1,defineProperties:$defineProperties,getOwnPropertyDescriptor:$getOwnPropertyDescriptor,getOwnPropertyNames:$getOwnPropertyNames,getOwnPropertySymbols:$getOwnPropertySymbols});var FAILS_ON_PRIMITIVES=$fails(function(){$GOPS.f(1)});$export$d($export$d.S+$export$d.F*FAILS_ON_PRIMITIVES,"Object",{getOwnPropertySymbols:function e(t){return $GOPS.f(toObject$4(t))}});$JSON$1&&$export$d($export$d.S+$export$d.F*(!USE_NATIVE||$fails(function(){var e=$Symbol();return _stringify([e])!="[null]"||_stringify({a:e})!="{}"||_stringify(Object(e))!="{}"})),"JSON",{stringify:function e(t){var r=[t];var n=1;var i,a;while(arguments.length>n)r.push(arguments[n++]);a=i=r[1];if(!isObject$3(i)&&t===undefined||isSymbol(t))return;if(!isArray$3(i))i=function(e,t){if(typeof a=="function")t=a.call(this,e,t);if(!isSymbol(t))return t};r[1]=i;return _stringify.apply($JSON$1,r)}});$Symbol[PROTOTYPE][TO_PRIMITIVE]||_hide($Symbol[PROTOTYPE],TO_PRIMITIVE,$Symbol[PROTOTYPE].valueOf);setToStringTag$1($Symbol,"Symbol");setToStringTag$1(Math,"Math",true);setToStringTag$1(global$3.JSON,"JSON",true);_wksDefine("asyncIterator");_wksDefine("observable");var symbol$1=_core.exports.Symbol;var symbol=symbol$1;var iterator$1=_wksExt.f("iterator");var iterator=iterator$1;function _typeof(e){"@babel/helpers - typeof";return _typeof="function"==typeof symbol&&"symbol"==typeof iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof symbol&&e.constructor===symbol&&e!==symbol.prototype?"symbol":typeof e},_typeof(e)}function _assertThisInitialized(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function _possibleConstructorReturn(e,t){if(t&&(_typeof(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return _assertThisInitialized(e)}var $export$c=_export;var core$1=_core.exports;var fails$2=_fails;var _objectSap=function(e,t){var r=(core$1.Object||{})[e]||Object[e];var n={};n[e]=t(r);$export$c($export$c.S+$export$c.F*fails$2(function(){r(1)}),"Object",n)};var toObject$3=_toObject;var $getPrototypeOf=_objectGpo;_objectSap("getPrototypeOf",function(){return function e(t){return $getPrototypeOf(toObject$3(t))}});var getPrototypeOf$1=_core.exports.Object.getPrototypeOf;var getPrototypeOf=getPrototypeOf$1;function _getPrototypeOf(e){_getPrototypeOf=setPrototypeOf?getPrototypeOf:function e(t){return t.__proto__||getPrototypeOf(t)};return _getPrototypeOf(e)}var $defineProperty=_objectDp;var createDesc=_propertyDesc;var _createProperty=function(e,t,r){if(t in e)$defineProperty.f(e,t,createDesc(0,r));else e[t]=r};var ctx$3=_ctx;var $export$b=_export;var toObject$2=_toObject;var call=_iterCall;var isArrayIter=_isArrayIter;var toLength$1=_toLength;var createProperty$1=_createProperty;var getIterFn=core_getIteratorMethod;$export$b($export$b.S+$export$b.F*!_iterDetect(function(e){Array.from(e)}),"Array",{from:function e(t){var r=toObject$2(t);var n=typeof this=="function"?this:Array;var i=arguments.length;var a=i>1?arguments[1]:undefined;var o=a!==undefined;var s=0;var c=getIterFn(r);var u,l,d,f;if(o)a=ctx$3(a,i>2?arguments[2]:undefined,2);if(c!=undefined&&!(n==Array&&isArrayIter(c))){for(f=c.call(r),l=new n;!(d=f.next()).done;s++){createProperty$1(l,s,o?call(f,a,[d.value,s],true):d.value)}}else{u=toLength$1(r.length);for(l=new n(u);u>s;s++){createProperty$1(l,s,o?a(r[s],s):r[s])}}l.length=s;return l}});var from$2=_core.exports.Array.from;var from$1=from$2;var isObject$2=_isObject;var _validateCollection=function(e,t){if(!isObject$2(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e};var dP$1=_objectDp.f;var create=_objectCreate;var redefineAll$1=_redefineAll;var ctx$2=_ctx;var anInstance$1=_anInstance;var forOf$3=_forOf.exports;var $iterDefine=_iterDefine;var step=_iterStep;var setSpecies=_setSpecies;var DESCRIPTORS$3=_descriptors;var fastKey=_meta.exports.fastKey;var validate$2=_validateCollection;var SIZE=DESCRIPTORS$3?"_s":"size";var getEntry=function(e,t){var r=fastKey(t);var n;if(r!=="F")return e._i[r];for(n=e._f;n;n=n.n){if(n.k==t)return n}};var _collectionStrong={getConstructor:function(e,t,r,n){var i=e(function(e,a){anInstance$1(e,i,t,"_i");e._t=t;e._i=create(null);e._f=undefined;e._l=undefined;e[SIZE]=0;if(a!=undefined)forOf$3(a,r,e[n],e)});redefineAll$1(i.prototype,{clear:function e(){for(var r=validate$2(this,t),n=r._i,i=r._f;i;i=i.n){i.r=true;if(i.p)i.p=i.p.n=undefined;delete n[i.i]}r._f=r._l=undefined;r[SIZE]=0},delete:function(e){var r=validate$2(this,t);var n=getEntry(r,e);if(n){var i=n.n;var a=n.p;delete r._i[n.i];n.r=true;if(a)a.n=i;if(i)i.p=a;if(r._f==n)r._f=i;if(r._l==n)r._l=a;r[SIZE]--}return!!n},forEach:function e(r){validate$2(this,t);var n=ctx$2(r,arguments.length>1?arguments[1]:undefined,3);var i;while(i=i?i.n:this._f){n(i.v,i.k,this);while(i&&i.r)i=i.p}},has:function e(r){return!!getEntry(validate$2(this,t),r)}});if(DESCRIPTORS$3)dP$1(i.prototype,"size",{get:function(){return validate$2(this,t)[SIZE]}});return i},def:function(e,t,r){var n=getEntry(e,t);var i,a;if(n){n.v=r}else{e._l=n={i:a=fastKey(t,true),k:t,v:r,p:i=e._l,n:undefined,r:false};if(!e._f)e._f=n;if(i)i.n=n;e[SIZE]++;if(a!=="F")e._i[a]=n}return e},getEntry:getEntry,setStrong:function(e,t,r){$iterDefine(e,t,function(e,r){this._t=validate$2(e,t);this._k=r;this._l=undefined},function(){var e=this;var t=e._k;var r=e._l;while(r&&r.r)r=r.p;if(!e._t||!(e._l=r=r?r.n:e._t._f)){e._t=undefined;return step(1)}if(t=="keys")return step(0,r.k);if(t=="values")return step(0,r.v);return step(0,[r.k,r.v])},r?"entries":"values",!r,true);setSpecies(t)}};var isObject$1=_isObject;var isArray$2=_isArray;var SPECIES=_wks.exports("species");var _arraySpeciesConstructor=function(e){var t;if(isArray$2(e)){t=e.constructor;if(typeof t=="function"&&(t===Array||isArray$2(t.prototype)))t=undefined;if(isObject$1(t)){t=t[SPECIES];if(t===null)t=undefined}}return t===undefined?Array:t};var speciesConstructor=_arraySpeciesConstructor;var _arraySpeciesCreate=function(e,t){return new(speciesConstructor(e))(t)};var ctx$1=_ctx;var IObject$1=_iobject;var toObject$1=_toObject;var toLength=_toLength;var asc=_arraySpeciesCreate;var _arrayMethods=function(e,t){var r=e==1;var n=e==2;var i=e==3;var a=e==4;var o=e==6;var s=e==5||o;var c=t||asc;return function(t,u,l){var d=toObject$1(t);var f=IObject$1(d);var h=ctx$1(u,l,3);var v=toLength(f.length);var p=0;var g=r?c(t,v):n?c(t,0):undefined;var m,y;for(;v>p;p++)if(s||p in f){m=f[p];y=h(m,p,d);if(e){if(r)g[p]=y;else if(y)switch(e){case 3:return true;case 5:return m;case 6:return p;case 2:g.push(m)}else if(a)return false}}return o?-1:i||a?a:g}};var global$2=_global.exports;var $export$a=_export;var meta=_meta.exports;var fails$1=_fails;var hide=_hide;var redefineAll=_redefineAll;var forOf$2=_forOf.exports;var anInstance=_anInstance;var isObject=_isObject;var setToStringTag=_setToStringTag;var dP=_objectDp.f;var each=_arrayMethods(0);var DESCRIPTORS$2=_descriptors;var _collection=function(e,t,r,n,i,a){var o=global$2[e];var s=o;var c=i?"set":"add";var u=s&&s.prototype;var l={};if(!DESCRIPTORS$2||typeof s!="function"||!(a||u.forEach&&!fails$1(function(){(new s).entries().next()}))){s=n.getConstructor(t,e,i,c);redefineAll(s.prototype,r);meta.NEED=true}else{s=t(function(t,r){anInstance(t,s,e,"_c");t._c=new o;if(r!=undefined)forOf$2(r,i,t[c],t)});each("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(e){var t=e=="add"||e=="set";if(e in u&&!(a&&e=="clear"))hide(s.prototype,e,function(r,n){anInstance(this,s,e);if(!t&&a&&!isObject(r))return e=="get"?undefined:false;var i=this._c[e](r===0?0:r,n);return t?this:i})});a||dP(s.prototype,"size",{get:function(){return this._c.size}})}setToStringTag(s,e);l[e]=s;$export$a($export$a.G+$export$a.W+$export$a.F,l);if(!a)n.setStrong(s,e,i);return s};var strong$1=_collectionStrong;var validate$1=_validateCollection;var SET="Set";_collection(SET,function(e){return function t(){return e(this,arguments.length>0?arguments[0]:undefined)}},{add:function e(t){return strong$1.def(validate$1(this,SET),t=t===0?0:t,t)}},strong$1);var forOf$1=_forOf.exports;var _arrayFromIterable=function(e,t){var r=[];forOf$1(e,false,r.push,r,t);return r};var classof=_classof;var from=_arrayFromIterable;var _collectionToJson=function(e){return function t(){if(classof(this)!=e)throw TypeError(e+"#toJSON isn't generic");return from(this)}};var $export$9=_export;$export$9($export$9.P+$export$9.R,"Set",{toJSON:_collectionToJson("Set")});var $export$8=_export;var _setCollectionOf=function(e){$export$8($export$8.S,e,{of:function e(){var t=arguments.length;var r=new Array(t);while(t--)r[t]=arguments[t];return new this(r)}})};_setCollectionOf("Set");var $export$7=_export;var aFunction=_aFunction;var ctx=_ctx;var forOf=_forOf.exports;var _setCollectionFrom=function(e){$export$7($export$7.S,e,{from:function e(t){var r=arguments[1];var n,i,a,o;aFunction(this);n=r!==undefined;if(n)aFunction(r);if(t==undefined)return new this;i=[];if(n){a=0;o=ctx(r,arguments[2],2);forOf(t,false,function(e){i.push(o(e,a++))})}else{forOf(t,false,i.push,i)}return new this(i)}})};_setCollectionFrom("Set");var set$1=_core.exports.Set;var set=set$1;var eventemitter3={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}if(Object.create){n.prototype=Object.create(null);if(!(new n).__proto__)r=false}function i(e,t,r){this.fn=e;this.context=t;this.once=r||false}function a(e,t,n,a,o){if(typeof n!=="function"){throw new TypeError("The listener must be a function")}var s=new i(n,a||e,o),c=r?r+t:t;if(!e._events[c])e._events[c]=s,e._eventsCount++;else if(!e._events[c].fn)e._events[c].push(s);else e._events[c]=[e._events[c],s];return e}function o(e,t){if(--e._eventsCount===0)e._events=new n;else delete e._events[t]}function s(){this._events=new n;this._eventsCount=0}s.prototype.eventNames=function e(){var n=[],i,a;if(this._eventsCount===0)return n;for(a in i=this._events){if(t.call(i,a))n.push(r?a.slice(1):a)}if(Object.getOwnPropertySymbols){return n.concat(Object.getOwnPropertySymbols(i))}return n};s.prototype.listeners=function e(t){var n=r?r+t:t,i=this._events[n];if(!i)return[];if(i.fn)return[i.fn];for(var a=0,o=i.length,s=new Array(o);a<o;a++){s[a]=i[a].fn}return s};s.prototype.listenerCount=function e(t){var n=r?r+t:t,i=this._events[n];if(!i)return 0;if(i.fn)return 1;return i.length};s.prototype.emit=function e(t,n,i,a,o,s){var c=r?r+t:t;if(!this._events[c])return false;var u=this._events[c],l=arguments.length,d,f;if(u.fn){if(u.once)this.removeListener(t,u.fn,undefined,true);switch(l){case 1:return u.fn.call(u.context),true;case 2:return u.fn.call(u.context,n),true;case 3:return u.fn.call(u.context,n,i),true;case 4:return u.fn.call(u.context,n,i,a),true;case 5:return u.fn.call(u.context,n,i,a,o),true;case 6:return u.fn.call(u.context,n,i,a,o,s),true}for(f=1,d=new Array(l-1);f<l;f++){d[f-1]=arguments[f]}u.fn.apply(u.context,d)}else{var h=u.length,v;for(f=0;f<h;f++){if(u[f].once)this.removeListener(t,u[f].fn,undefined,true);switch(l){case 1:u[f].fn.call(u[f].context);break;case 2:u[f].fn.call(u[f].context,n);break;case 3:u[f].fn.call(u[f].context,n,i);break;case 4:u[f].fn.call(u[f].context,n,i,a);break;default:if(!d)for(v=1,d=new Array(l-1);v<l;v++){d[v-1]=arguments[v]}u[f].fn.apply(u[f].context,d)}}}return true};s.prototype.on=function e(t,r,n){return a(this,t,r,n,false)};s.prototype.once=function e(t,r,n){return a(this,t,r,n,true)};s.prototype.removeListener=function e(t,n,i,a){var s=r?r+t:t;if(!this._events[s])return this;if(!n){o(this,s);return this}var c=this._events[s];if(c.fn){if(c.fn===n&&(!a||c.once)&&(!i||c.context===i)){o(this,s)}}else{for(var u=0,l=[],d=c.length;u<d;u++){if(c[u].fn!==n||a&&!c[u].once||i&&c[u].context!==i){l.push(c[u])}}if(l.length)this._events[s]=l.length===1?l[0]:l;else o(this,s)}return this};s.prototype.removeAllListeners=function e(t){var i;if(t){i=r?r+t:t;if(this._events[i])o(this,i)}else{this._events=new n;this._eventsCount=0}return this};s.prototype.off=s.prototype.removeListener;s.prototype.addListener=s.prototype.on;s.prefixed=r;s.EventEmitter=s;{e.exports=s}})(eventemitter3);var strong=_collectionStrong;var validate=_validateCollection;var MAP="Map";_collection(MAP,function(e){return function t(){return e(this,arguments.length>0?arguments[0]:undefined)}},{get:function e(t){var r=strong.getEntry(validate(this,MAP),t);return r&&r.v},set:function e(t,r){return strong.def(validate(this,MAP),t===0?0:t,r)}},strong,true);var $export$6=_export;$export$6($export$6.P+$export$6.R,"Map",{toJSON:_collectionToJson("Map")});_setCollectionOf("Map");_setCollectionFrom("Map");var map$1=_core.exports.Map;var map=map$1;var Barcode;(function(e){function t(e){var t;try{t=decodeURIComponent(escape(String.fromCharCode.apply(null,e.rawData)))}catch(e){t=""}return{symbology:e.symbology,data:t,rawData:new Uint8Array(e.rawData),location:{topLeft:{x:e.location[0][0],y:e.location[0][1]},topRight:{x:e.location[1][0],y:e.location[1][1]},bottomRight:{x:e.location[2][0],y:e.location[2][1]},bottomLeft:{x:e.location[3][0],y:e.location[3][1]}},compositeFlag:e.compositeFlag,isGs1DataCarrier:e.isGs1DataCarrier,encodingArray:e.encodingArray}}e.createFromWASMResult=t;(function(e){e["AZTEC"]="aztec";e["CODABAR"]="codabar";e["CODE11"]="code11";e["CODE128"]="code128";e["CODE25"]="code25";e["CODE32"]="code32";e["CODE39"]="code39";e["CODE93"]="code93";e["DATA_MATRIX"]="data-matrix";e["DOTCODE"]="dotcode";e["EAN13"]="ean13";e["EAN8"]="ean8";e["FIVE_DIGIT_ADD_ON"]="five-digit-add-on";e["GS1_DATABAR"]="databar";e["GS1_DATABAR_EXPANDED"]="databar-expanded";e["GS1_DATABAR_LIMITED"]="databar-limited";e["IATA_2_OF_5"]="iata2of5";e["INTERLEAVED_2_OF_5"]="itf";e["KIX"]="kix";e["LAPA4SC"]="lapa4sc";e["MATRIX_2_OF_5"]="matrix2of5";e["MAXICODE"]="maxicode";e["MICRO_PDF417"]="micropdf417";e["MICRO_QR"]="microqr";e["MSI_PLESSEY"]="msi-plessey";e["PDF417"]="pdf417";e["QR"]="qr";e["RM4SCC"]="rm4scc";e["TWO_DIGIT_ADD_ON"]="two-digit-add-on";e["UPCA"]="upca";e["UPCE"]="upce";e["USPS_INTELLIGENT_MAIL"]="usps-intelligent-mail"})(e.Symbology||(e.Symbology={}));(function(e){e[e["NONE"]=0]="NONE";e[e["UNKNOWN"]=1]="UNKNOWN";e[e["LINKED"]=2]="LINKED";e[e["GS1_A"]=4]="GS1_A";e[e["GS1_B"]=8]="GS1_B";e[e["GS1_C"]=16]="GS1_C"})(e.CompositeFlag||(e.CompositeFlag={}));(function(e){var t=new map([[e.AZTEC,"Aztec"],[e.CODABAR,"Codabar"],[e.CODE11,"Code 11"],[e.CODE128,"Code 128"],[e.CODE25,"Code 25"],[e.CODE32,"Code 32"],[e.CODE39,"Code 39"],[e.CODE93,"Code 93"],[e.DATA_MATRIX,"Data Matrix"],[e.DOTCODE,"DotCode"],[e.EAN13,"EAN-13"],[e.EAN8,"EAN-8"],[e.FIVE_DIGIT_ADD_ON,"Five-Digit Add-On"],[e.GS1_DATABAR_EXPANDED,"GS1 DataBar Expanded"],[e.GS1_DATABAR_LIMITED,"GS1 DataBar Limited"],[e.GS1_DATABAR,"GS1 DataBar 14"],[e.IATA_2_OF_5,"IATA 2 of 5"],[e.INTERLEAVED_2_OF_5,"Interleaved 2 of 5"],[e.KIX,"KIX"],[e.LAPA4SC,"LAPA4SC"],[e.MATRIX_2_OF_5,"Matrix 2 of 5"],[e.MAXICODE,"MaxiCode"],[e.MICRO_PDF417,"MicroPDF417"],[e.MICRO_QR,"Micro QR"],[e.MSI_PLESSEY,"MSI-Plessey"],[e.PDF417,"PDF417"],[e.QR,"QR"],[e.RM4SCC,"RM4SCC"],[e.TWO_DIGIT_ADD_ON,"Two-Digit Add-On"],[e.UPCA,"UPC-A"],[e.UPCE,"UPC-E"],[e.USPS_INTELLIGENT_MAIL,"USPS Intelligent Mail"]]);var r=new map([[e.AZTEC,"aztec"],[e.CODABAR,"codabar"],[e.CODE11,"code11"],[e.CODE128,"code128"],[e.CODE25,"code25"],[e.CODE32,"code32"],[e.CODE39,"code39"],[e.CODE93,"code93"],[e.DATA_MATRIX,"data-matrix"],[e.DOTCODE,"dotcode"],[e.EAN13,"ean13"],[e.EAN8,"ean8"],[e.FIVE_DIGIT_ADD_ON,"five-digit-add-on"],[e.GS1_DATABAR_EXPANDED,"databar-expanded"],[e.GS1_DATABAR_LIMITED,"databar-limited"],[e.GS1_DATABAR,"databar"],[e.IATA_2_OF_5,"iata2of5"],[e.INTERLEAVED_2_OF_5,"itf"],[e.KIX,"kix"],[e.LAPA4SC,"lapa4sc"],[e.MATRIX_2_OF_5,"matrix2of5"],[e.MAXICODE,"maxicode"],[e.MICRO_PDF417,"micropdf417"],[e.MICRO_QR,"microqr"],[e.MSI_PLESSEY,"msi-plessey"],[e.PDF417,"pdf417"],[e.QR,"qr"],[e.RM4SCC,"rm4scc"],[e.TWO_DIGIT_ADD_ON,"two-digit-add-on"],[e.UPCA,"upca"],[e.UPCE,"upce"],[e.USPS_INTELLIGENT_MAIL,"usps-intelligent-mail"]]);function n(e){var r;return(r=t.get(e.toLowerCase()))!==null&&r!==void 0?r:"Unknown"}e.toHumanizedName=n;function i(e){var t;return(t=r.get(e.toLowerCase()))!==null&&t!==void 0?t:"unknown"}e.toJSONName=i})(e.Symbology||(e.Symbology={}))})(Barcode||(Barcode={}));function assign$2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r){e[n]=r[n]}}return e}var defaultConverter={read:function(e){if(e[0]==='"'){e=e.slice(1,-1)}return e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function init(e,t){function r(r,n,i){if(typeof document==="undefined"){return}i=assign$2({},t,i);if(typeof i.expires==="number"){i.expires=new Date(Date.now()+i.expires*864e5)}if(i.expires){i.expires=i.expires.toUTCString()}r=encodeURIComponent(r).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var o in i){if(!i[o]){continue}a+="; "+o;if(i[o]===true){continue}a+="="+i[o].split(";")[0]}return document.cookie=r+"="+e.write(n,r)+a}function n(t){if(typeof document==="undefined"||arguments.length&&!t){return}var r=document.cookie?document.cookie.split("; "):[];var n={};for(var i=0;i<r.length;i++){var a=r[i].split("=");var o=a.slice(1).join("=");try{var s=decodeURIComponent(a[0]);n[s]=e.read(o,s);if(t===s){break}}catch(e){}}return t?n[t]:n}return Object.create({set:r,get:n,remove:function(e,t){r(e,"",assign$2({},t,{expires:-1}))},withAttributes:function(e){return init(this.converter,assign$2({},this.attributes,e))},withConverter:function(e){return init(assign$2({},this.converter,e),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(e)}})}var api=init(defaultConverter,{path:"/"});var uaParser={exports:{}};(function(e,t){
/* UAParser.js v1.0.2
   Copyright © 2012-2021 Faisal Salman <f@faisalman.com>
   MIT License */
(function(r,n){var i="1.0.2",a="",o="?",s="function",c="undefined",u="object",l="string",d="major",f="model",h="name",v="type",p="vendor",g="version",m="architecture",y="console",b="mobile",_="tablet",A="smarttv",E="wearable",S="embedded",C=255;var T="Amazon",w="Apple",I="ASUS",N="BlackBerry",O="Browser",x="Chrome",k="Edge",M="Firefox",L="Google",R="Huawei",P="LG",V="Microsoft",D="Motorola",$="Opera",j="Samsung",G="Sony",F="Xiaomi",U="Zebra",B="Facebook";var z=function(e,t){var r={};for(var n in e){if(t[n]&&t[n].length%2===0){r[n]=t[n].concat(e[n])}else{r[n]=e[n]}}return r},W=function(e){var t={};for(var r=0;r<e.length;r++){t[e[r].toUpperCase()]=e[r]}return t},Y=function(e,t){return typeof e===l?H(t).indexOf(H(e))!==-1:false},H=function(e){return e.toLowerCase()},Q=function(e){return typeof e===l?e.replace(/[^\d\.]/g,a).split(".")[0]:n},Z=function(e,t){if(typeof e===l){e=e.replace(/^\s\s*/,a).replace(/\s\s*$/,a);return typeof t===c?e:e.substring(0,C)}};var q=function(e,t){var r=0,i,a,o,c,l,d;while(r<t.length&&!l){var f=t[r],h=t[r+1];i=a=0;while(i<f.length&&!l){l=f[i++].exec(e);if(!!l){for(o=0;o<h.length;o++){d=l[++a];c=h[o];if(typeof c===u&&c.length>0){if(c.length===2){if(typeof c[1]==s){this[c[0]]=c[1].call(this,d)}else{this[c[0]]=c[1]}}else if(c.length===3){if(typeof c[1]===s&&!(c[1].exec&&c[1].test)){this[c[0]]=d?c[1].call(this,d,c[2]):n}else{this[c[0]]=d?d.replace(c[1],c[2]):n}}else if(c.length===4){this[c[0]]=d?c[3].call(this,d.replace(c[1],c[2])):n}}else{this[c]=d?d:n}}}}r+=2}},K=function(e,t){for(var r in t){if(typeof t[r]===u&&t[r].length>0){for(var i=0;i<t[r].length;i++){if(Y(t[r][i],e)){return r===o?n:r}}}else if(Y(t[r],e)){return r===o?n:r}}return e};var X={"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},J={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"};var ee={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[g,[h,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[g,[h,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[h,g],[/opios[\/ ]+([\w\.]+)/i],[g,[h,$+" Mini"]],[/\bopr\/([\w\.]+)/i],[g,[h,$]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[h,g],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[g,[h,"UC"+O]],[/\bqbcore\/([\w\.]+)/i],[g,[h,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[g,[h,"WeChat"]],[/konqueror\/([\w\.]+)/i],[g,[h,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[g,[h,"IE"]],[/yabrowser\/([\w\.]+)/i],[g,[h,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[h,/(.+)/,"$1 Secure "+O],g],[/\bfocus\/([\w\.]+)/i],[g,[h,M+" Focus"]],[/\bopt\/([\w\.]+)/i],[g,[h,$+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[g,[h,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[g,[h,"Dolphin"]],[/coast\/([\w\.]+)/i],[g,[h,$+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[g,[h,"MIUI "+O]],[/fxios\/([-\w\.]+)/i],[g,[h,M]],[/\bqihu|(qi?ho?o?|360)browser/i],[[h,"360 "+O]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[h,/(.+)/,"$1 "+O],g],[/(comodo_dragon)\/([\w\.]+)/i],[[h,/_/g," "],g],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[h,g],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i],[h],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[h,B],g],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[h,g],[/\bgsa\/([\w\.]+) .*safari\//i],[g,[h,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[g,[h,x+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[h,x+" WebView"],g],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[g,[h,"Android "+O]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[h,g],[/version\/([\w\.]+) .*mobile\/\w+ (safari)/i],[g,[h,"Mobile Safari"]],[/version\/([\w\.]+) .*(mobile ?safari|safari)/i],[g,h],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[h,[g,K,X]],[/(webkit|khtml)\/([\w\.]+)/i],[h,g],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[h,"Netscape"],g],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[g,[h,M+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[h,g]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[m,"amd64"]],[/(ia32(?=;))/i],[[m,H]],[/((?:i[346]|x)86)[;\)]/i],[[m,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[m,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[m,"armhf"]],[/windows (ce|mobile); ppc;/i],[[m,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[m,/ower/,a,H]],[/(sun4\w)[;\)]/i],[[m,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[m,H]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[f,[p,j],[v,_]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[f,[p,j],[v,b]],[/\((ip(?:hone|od)[\w ]*);/i],[f,[p,w],[v,b]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[f,[p,w],[v,_]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[f,[p,R],[v,_]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}-[atu]?[ln][01259x][012359][an]?)\b(?!.+d\/s)/i],[f,[p,R],[v,b]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[f,/_/g," "],[p,F],[v,b]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[f,/_/g," "],[p,F],[v,_]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[f,[p,"OPPO"],[v,b]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[f,[p,"Vivo"],[v,b]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[f,[p,"Realme"],[v,b]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[f,[p,D],[v,b]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[f,[p,D],[v,_]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[f,[p,P],[v,_]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[f,[p,P],[v,b]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[f,[p,"Lenovo"],[v,_]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[f,/_/g," "],[p,"Nokia"],[v,b]],[/(pixel c)\b/i],[f,[p,L],[v,_]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[f,[p,L],[v,b]],[/droid.+ ([c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[f,[p,G],[v,b]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[f,"Xperia Tablet"],[p,G],[v,_]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[f,[p,"OnePlus"],[v,b]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[f,[p,T],[v,_]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[f,/(.+)/g,"Fire Phone $1"],[p,T],[v,b]],[/(playbook);[-\w\),; ]+(rim)/i],[f,p,[v,_]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[f,[p,N],[v,b]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[f,[p,I],[v,_]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[f,[p,I],[v,b]],[/(nexus 9)/i],[f,[p,"HTC"],[v,_]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony)[-_ ]?([-\w]*)/i],[p,[f,/_/g," "],[v,b]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[f,[p,"Acer"],[v,_]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[f,[p,"Meizu"],[v,b]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[f,[p,"Sharp"],[v,b]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[p,f,[v,b]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[p,f,[v,_]],[/(surface duo)/i],[f,[p,V],[v,_]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[f,[p,"Fairphone"],[v,b]],[/(u304aa)/i],[f,[p,"AT&T"],[v,b]],[/\bsie-(\w*)/i],[f,[p,"Siemens"],[v,b]],[/\b(rct\w+) b/i],[f,[p,"RCA"],[v,_]],[/\b(venue[\d ]{2,7}) b/i],[f,[p,"Dell"],[v,_]],[/\b(q(?:mv|ta)\w+) b/i],[f,[p,"Verizon"],[v,_]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[f,[p,"Barnes & Noble"],[v,_]],[/\b(tm\d{3}\w+) b/i],[f,[p,"NuVision"],[v,_]],[/\b(k88) b/i],[f,[p,"ZTE"],[v,_]],[/\b(nx\d{3}j) b/i],[f,[p,"ZTE"],[v,b]],[/\b(gen\d{3}) b.+49h/i],[f,[p,"Swiss"],[v,b]],[/\b(zur\d{3}) b/i],[f,[p,"Swiss"],[v,_]],[/\b((zeki)?tb.*\b) b/i],[f,[p,"Zeki"],[v,_]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[p,"Dragon Touch"],f,[v,_]],[/\b(ns-?\w{0,9}) b/i],[f,[p,"Insignia"],[v,_]],[/\b((nxa|next)-?\w{0,9}) b/i],[f,[p,"NextBook"],[v,_]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[p,"Voice"],f,[v,b]],[/\b(lvtel\-)?(v1[12]) b/i],[[p,"LvTel"],f,[v,b]],[/\b(ph-1) /i],[f,[p,"Essential"],[v,b]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[f,[p,"Envizen"],[v,_]],[/\b(trio[-\w\. ]+) b/i],[f,[p,"MachSpeed"],[v,_]],[/\btu_(1491) b/i],[f,[p,"Rotor"],[v,_]],[/(shield[\w ]+) b/i],[f,[p,"Nvidia"],[v,_]],[/(sprint) (\w+)/i],[p,f,[v,b]],[/(kin\.[onetw]{3})/i],[[f,/\./g," "],[p,V],[v,b]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[f,[p,U],[v,_]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[f,[p,U],[v,b]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[p,f,[v,y]],[/droid.+; (shield) bui/i],[f,[p,"Nvidia"],[v,y]],[/(playstation [345portablevi]+)/i],[f,[p,G],[v,y]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[f,[p,V],[v,y]],[/smart-tv.+(samsung)/i],[p,[v,A]],[/hbbtv.+maple;(\d+)/i],[[f,/^/,"SmartTV"],[p,j],[v,A]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[p,P],[v,A]],[/(apple) ?tv/i],[p,[f,w+" TV"],[v,A]],[/crkey/i],[[f,x+"cast"],[p,L],[v,A]],[/droid.+aft(\w)( bui|\))/i],[f,[p,T],[v,A]],[/\(dtv[\);].+(aquos)/i],[f,[p,"Sharp"],[v,A]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[p,Z],[f,Z],[v,A]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[v,A]],[/((pebble))app/i],[p,f,[v,E]],[/droid.+; (glass) \d/i],[f,[p,L],[v,E]],[/droid.+; (wt63?0{2,3})\)/i],[f,[p,U],[v,E]],[/(quest( 2)?)/i],[f,[p,B],[v,E]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[p,[v,S]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[f,[v,b]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[f,[v,_]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[v,_]],[/(phone|mobile(?:[;\/]| safari)|pda(?=.+windows ce))/i],[[v,b]],[/(android[-\w\. ]{0,9});.+buil/i],[f,[p,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[g,[h,k+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[g,[h,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[h,g],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[g,h]],os:[[/microsoft (windows) (vista|xp)/i],[h,g],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[h,[g,K,J]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[h,"Windows"],[g,K,J]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[g,/_/g,"."],[h,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[h,"Mac OS"],[g,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86)/i],[g,h],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[h,g],[/\(bb(10);/i],[g,[h,N]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[g,[h,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[g,[h,M+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[g,[h,"webOS"]],[/crkey\/([\d\.]+)/i],[g,[h,x+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[h,"Chromium OS"],g],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[h,g],[/(sunos) ?([\w\.\d]*)/i],[[h,"Solaris"],g],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[h,g]]};var te=function(e,t){if(typeof e===u){t=e;e=n}if(!(this instanceof te)){return new te(e,t).getResult()}var i=e||(typeof r!==c&&r.navigator&&r.navigator.userAgent?r.navigator.userAgent:a);var o=t?z(ee,t):ee;this.getBrowser=function(){var e={};e[h]=n;e[g]=n;q.call(e,i,o.browser);e.major=Q(e.version);return e};this.getCPU=function(){var e={};e[m]=n;q.call(e,i,o.cpu);return e};this.getDevice=function(){var e={};e[p]=n;e[f]=n;e[v]=n;q.call(e,i,o.device);return e};this.getEngine=function(){var e={};e[h]=n;e[g]=n;q.call(e,i,o.engine);return e};this.getOS=function(){var e={};e[h]=n;e[g]=n;q.call(e,i,o.os);return e};this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}};this.getUA=function(){return i};this.setUA=function(e){i=typeof e===l&&e.length>C?Z(e,C):e;return this};this.setUA(i);return this};te.VERSION=i;te.BROWSER=W([h,g,d]);te.CPU=W([m]);te.DEVICE=W([f,p,v,y,b,A,_,E,S]);te.ENGINE=te.OS=W([h,g]);{if(e.exports){t=e.exports=te}t.UAParser=te}var re=typeof r!==c&&(r.jQuery||r.Zepto);if(re&&!re.ua){var ne=new te;re.ua=ne.getResult();re.ua.get=function(){return ne.getUA()};re.ua.set=function(e){ne.setUA(e);var t=ne.getResult();for(var r in t){re.ua[r]=t[r]}}}})(typeof window==="object"?window:commonjsGlobal)})(uaParser,uaParser.exports);var UAParser=uaParser.exports;var BrowserCompatibility;(function(e){(function(e){e["BLOB"]="blob";e["MEDIA_DEVICES"]="mediaDevices";e["OFFSCREEN_CANVAS"]="offscreenCanvas";e["HTTP_PROTOCOL"]="httpProtocol";e["SECURE_CONTEXT"]="secureContext";e["URL_OBJECT"]="urlObject";e["WEB_WORKERS"]="webWorkers";e["WEB_ASSEMBLY"]="webAssembly";e["WEB_ASSEMBLY_ERROR_FREE"]="webAssemblyErrorFree";e["WEBGL"]="webgl"})(e.Feature||(e.Feature={}))})(BrowserCompatibility||(BrowserCompatibility={}));var BrowserHelper;(function(e){e.userAgentInfo=new UAParser(navigator.userAgent);e.canvas=document.createElement("canvas");function t(){if("orientation"in window){return false}else{var e,t;var r="(any-pointer: coarse)";var n=(e=(t=window).matchMedia)===null||e===void 0?void 0:e.call(t,r);if(navigator.maxTouchPoints===0||(n===null||n===void 0?void 0:n.media)===r&&(n===null||n===void 0?void 0:n.matches)===false){return true}else{return false}}}e.isDesktopDevice=t;function r(){function t(e,r,n){var i=e[r[0]];if(i==null){return false}if(r.length===1){return typeof i===n}else{return(typeof i==="function"||typeof i==="object")&&t(i,r.slice(1),n)}}function r(e){return e.name==="iOS"&&e.version!=null&&["11.2.2","11.2.5","11.2.6"].includes(e.version)}var n=true;var i=true;var a=[];if(!location.protocol.startsWith("http")){a.push(BrowserCompatibility.Feature.HTTP_PROTOCOL);n=i=false}if(t(window,["isSecureContext"],"boolean")&&window.isSecureContext===false){a.push(BrowserCompatibility.Feature.SECURE_CONTEXT)}if(!t(navigator,["mediaDevices","getUserMedia"],"function")&&!t(navigator,["enumerateDevices"],"function")&&!t(window,["MediaStreamTrack","getSources"],"function")){a.push(BrowserCompatibility.Feature.MEDIA_DEVICES);n=false}if(!t(window,["Worker"],"function")){a.push(BrowserCompatibility.Feature.WEB_WORKERS);n=i=false}if(!t(window,["WebAssembly"],"object")){a.push(BrowserCompatibility.Feature.WEB_ASSEMBLY);n=i=false}if(!t(window,["Blob"],"function")){a.push(BrowserCompatibility.Feature.BLOB);n=i=false}if(!t(window,["URL","createObjectURL"],"function")){a.push(BrowserCompatibility.Feature.URL_OBJECT);n=i=false}if(!t(window,["OffscreenCanvas"],"function")){a.push(BrowserCompatibility.Feature.OFFSCREEN_CANVAS)}try{if(!t(window,["WebGLRenderingContext"],"function")||e.canvas.getContext("webgl")==null&&e.canvas.getContext("experimental-webgl")==null){throw new Error}}catch(e){a.push(BrowserCompatibility.Feature.WEBGL)}var o=e.userAgentInfo.getOS();if(r(o)){a.push(BrowserCompatibility.Feature.WEB_ASSEMBLY_ERROR_FREE);n=i=false}return{fullSupport:n,scannerSupport:i,missingFeatures:a}}e.checkBrowserCompatibility=r;function n(){var e="scandit-device-id";var t=localStorage.getItem(e);if(t!=null&&t!==""){return t}t=api.get(e);if(t!=null&&t!==""){localStorage.setItem(e,t);return t}var r=new Uint8Array(20);crypto.getRandomValues(r);t=from$1(r).map(function(e){var t=e.toString(16);return t.length===1?"0".concat(t):t}).join("");localStorage.setItem(e,t);return t}e.getDeviceId=n;function i(e){return e instanceof HTMLElement||e!=null&&typeof e==="object"&&typeof e.tagName==="string"}e.isValidHTMLElement=i})(BrowserHelper||(BrowserHelper={}));function dataCapture(){const e="/scandit_sync_folder_preload";const t="/scandit_sync_folder";const r="resources";const n=[];const i=[];const a=typeof self.OffscreenCanvas==="function";let o;let s;let c;let u;let l;let d;let f;let h;let v;let p;let g;let m;let y;let b;let _=false;let A=false;let E=false;let S=false;let C=false;let T=false;let w=false;let I=false;let N=false;let O=Promise.resolve();let x=false;let k=false;function M(n,i,o,s,c,f,v,p,g){function m(){postMessage(["library-loaded"]);L(c,f,p)}function y(){if(!T&&S&&C){E=false;Module.callMain();T=true;m();if(!c){$();G()}}}if(E){return Promise.resolve()}if(T){m();return Promise.resolve()}E=true;const b=WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,1,253,15,253,98,11]));const _=q(i,v,b),A=_.jsURI,w=_.wasmURI;u=s;l=s?e:t;d="".concat(i).concat(r,"/");h=f;self.window=self.document=self;self.path=o;self.deviceModelName=g;Module={arguments:[n],canvas:a?new self.OffscreenCanvas(32,32):undefined,instantiateWasm:function e(t,r){var n;const i=(n=self.wasmJSVersion)!==null&&n!==void 0?n:"undefined";if(i!=="5.9.3"){Q("error","The Scandit Data Capture library JS file found at ".concat(A," seems invalid: ")+"expected version doesn't match (received: ".concat(i,", expected: ","5.9.3","). ")+"Please ensure the correct Scandit Data Capture file (with correct version) is retrieved.")}if(typeof self.WebAssembly.instantiateStreaming==="function"){oe(t,w,v,b,r)}else{ae(t,w,v,b,r)}return{}},noInitialRun:true,preRun:[function(){return le().catch(function(e){Q("debug","No IndexedDB support, some data will not be persisted:",e)}).then(function(){S=true;y()})}],onRuntimeInitialized:function e(){C=true;y()},print:function e(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++){r[n]=arguments[n]}Q("info",...r)},printErr:function e(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++){r[n]=arguments[n]}Q("error",...r)}};function I(){try{var e;return(e=importScripts(A))!==null&&e!==void 0?e:Promise.resolve()}catch(e){return Promise.reject(e)}}return Z(I,250,4e3,function(e){Q("warn",e);Q("warn","Couldn't retrieve Scandit Data Capture library at ".concat(A,", retrying..."))}).catch(function(e){Q("error",e);Q("error","Couldn't retrieve Scandit Data Capture library at ".concat(A,", did you configure the path for it correctly?"));return Promise.resolve(e)})}function L(e,t,r){function n(){postMessage(["context-created",{hiddenScanditLogoAllowed:Module._can_hide_logo()===1}])}if(N){return n()}if(e!=null){f=e}if(t!=null){h=t}if(r!=null){v=r}if(!T||f==null||h==null||!A&&!f||v==null){return}const i=lengthBytesUTF8(v)+1;const a=Module._malloc(i);stringToUTF8(v,a,i);const o=lengthBytesUTF8(l)+1;const s=Module._malloc(o);stringToUTF8(l,s,o);const c=lengthBytesUTF8(d)+1;const u=Module._malloc(c);stringToUTF8(d,u,c);Module._create_context(a,s,f,h,u,false);Module._free(a);Module._free(s);Module._free(u);N=true;ee();te();n()}function R(e,t,r){function n(){p=e;_=t;X();$()}p=undefined;w=false;if(t&&r){ue(true,false,true).then(n).catch(n)}else{n()}}function P(e){g=e;J();$()}function V(e){if(e.errorCode===260){var t;let r;if(((t=location.href)===null||t===void 0?void 0:t.indexOf("blob:null/"))===0){r="localhost"}else{r=new URL(location.pathname!=null&&location.pathname!==""&&!location.pathname.startsWith("/")?location.pathname:location.origin).hostname}if(r[0].startsWith("[")&&r.endsWith("]")){r=r.slice(1,-1)}e.errorMessage=e.errorMessage.replace("domain name","domain name (".concat(r,")"))}// License Key related error codes from 6 to 25 and 260
if([6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,260].includes(e.errorCode)&&v!=null&&v.length>0){e.errorMessage+=" License Key: ".concat(v.slice(0,15),"...")}}function D(e){if(e.highQualitySingleFrameMode){X(true)}const t=re(e.data);if(e.highQualitySingleFrameMode){X(false)}const r=JSON.parse(t);if(r.error!=null){V(r.error);postMessage(["work-error",{requestId:e.requestId,error:r.error},e.data],[e.data.buffer])}else{if(r.barcodeResult!=null&&r.textResult!=null){postMessage(["work-result",{requestId:e.requestId,result:{barcodes:r.barcodeResult,texts:r.textResult}},e.data],[e.data.buffer])}}}function $(){if(!T||n.length===0){return}if(!N){L()}if(!w){X()}if(!I){J()}if(!N||!w||!I){return}while(n.length!==0){var e;if(n[0].highQualitySingleFrameMode&&((e=m)===null||e===void 0?void 0:e.includes("code"))===true&&!_){break}D(n.shift())}}function j(e){const t=ne(e.dataFormat,e.data,e.options);const r=JSON.parse(t);if(r.error!=null){V(r.error);postMessage(["parse-error",{requestId:e.requestId,error:r.error}])}else{if(r.result!=null){postMessage(["parse-result",{requestId:e.requestId,result:r.result}])}}}function G(){if(!T||i.length===0){return}if(!N){L();if(!N){return}}while(i.length!==0){j(i.shift())}}function F(e){A=true;n.push(e);$()}function U(e){A=true;i.push(e);G()}function B(){if(w){Module._scanner_session_clear()}}function z(e){function t(){postMessage(["create-blurry-table-result",e])}if(!T||!N){return}const r=lengthBytesUTF8(e)+1;const n=Module._malloc(r);stringToUTF8(e,n,r);Module._create_blurry_table(n);Module._free(n);O.then(t).catch(t)}function W(e,t){y={cameraType:e,autofocus:t};ee()}function Y(e){if(b!==e){b=e;te()}}function H(){B();n.length=0;i.length=0;p=undefined;g=undefined;A=false;w=false;I=false}function Q(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++){r[n-1]=arguments[n]}r.forEach(function(e,t){if(e instanceof Error){const n={name:e.name,message:e.message,stack:e.stack};r[t]=n}});postMessage(["log",{level:e,data:r}])}function Z(e,t,r,n){return new Promise(function(i,a){e().then(i).catch(function(o){const s=t*2;if(s>r){return a(o)}n(o);setTimeout(function(){Z(e,s,r,n).then(i).catch(a)},t)})})}function q(e,t,r){let n=false;if(/^https?:\/\/([^\/.]*\.)*cdn.jsdelivr.net\//.test(e)){e="https://cdn.jsdelivr.net/npm/scandit-sdk@5.9.3/build/";n=true}else if(/^https?:\/\/([^\/.]*\.)*unpkg.com\//.test(e)){e="https://unpkg.com/scandit-sdk@5.9.3/build/";n=true}let i="";if(t){i+="-ocr";if(r){i+="-simd"}}if(n){return{jsURI:"".concat(e,"scandit-engine-sdk").concat(i,".min.js"),wasmURI:"".concat(e,"scandit-engine-sdk").concat(i,".wasm")}}return{jsURI:"".concat(e,"scandit-engine-sdk").concat(i,".min.js?v=5.9.3"),wasmURI:"".concat(e,"scandit-engine-sdk").concat(i,".wasm?v=5.9.3")}}function K(e){return Array.from(new Uint8Array(e)).map(function(e){const t=e.toString(16);return t.length===1?"0".concat(t):t}).join("")}function X(){var e,t,r,n;let i=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(!T||!N||!A||p==null){return}w=false;const o=JSON.parse(p);m=o.recognitionMode;(e=o.textRecognitionSettings)!==null&&e!==void 0?e:o.textRecognitionSettings=JSON.stringify({});const s=lengthBytesUTF8(p)+1;const c=Module._malloc(s);stringToUTF8(p,c,s);const u=lengthBytesUTF8(o.textRecognitionSettings)+1;const l=Module._malloc(u);stringToUTF8(o.textRecognitionSettings,l,u);const d=Module._scanner_settings_new_from_json(c,l,((t=m)===null||t===void 0?void 0:t.includes("code"))===true,((r=m)===null||r===void 0?void 0:r.includes("text"))===true,o.blurryRecognition===true&&_,(n=o.matrixScanEnabled)!==null&&n!==void 0?n:false,i,o.gpuAcceleration===true&&a);Module._free(c);const f=UTF8ToString(d);if(f!==""){w=true;Q("debug","External Scandit Data Capture scan settings:",JSON.parse(f))}}function J(){if(!T||!N||!A||g==null){return}I=false;let e;if(g.format.valueOf()===1){e=3}else if(g.format.valueOf()===2){e=4}else{e=1}Module._scanner_image_settings_new(g.width,g.height,e);if(s!=null){Module._free(s)}c=g.width*g.height*e;s=Module._malloc(c);I=true}function ee(){if(!T||!N||y==null){return}Module._report_camera_properties(y.cameraType==="front",y.autofocus)}function te(){if(!T||!N||b==null){return}const e=lengthBytesUTF8(b)+1;const t=Module._malloc(e);stringToUTF8(b,t,e);Module._set_device_name(t);Module._free(t)}function re(e){if(e.byteLength!==c){return JSON.stringify({barcodeResult:[],textResult:[]})}Module.HEAPU8.set(e,s);return UTF8ToString(Module._scanner_scan(s))}function ne(e,t,r){const n=typeof t==="string"?lengthBytesUTF8(t)+1:t.byteLength;const i=Module._malloc(n);if(typeof t==="string"){stringToUTF8(t,i,n)}else{Module.HEAPU8.set(t,i)}const a=lengthBytesUTF8(r)+1;const o=Module._malloc(a);stringToUTF8(r,o,a);const s=Module._parser_parse_string(e.valueOf(),i,n-1,o);Module._free(i);Module._free(o);return UTF8ToString(s)}function ie(e,t,r,n){function i(n){var i,a;if(typeof((i=crypto)===null||i===void 0?void 0:(a=i.subtle)===null||a===void 0?void 0:a.digest)==="function"){crypto.subtle.digest("SHA-256",n).then(function(n){const i=K(n);let a="40e84fd0fce799334e8e70ee8adb1c7ecef93306071fd42bcb20034d54703211";if(t){a=r?"0497e539c177b04c8bcf96144b50d43e0aab60ac3d348df0c4392e5a935eb756":"25cb9569675714d461302099fe476d161a6152bb10b8dfe11564567f6fe4afbd"}if(i!==a){Q("error","The Scandit Data Capture library WASM file found at ".concat(e," seems invalid: ")+"expected file hash doesn't match (received: ".concat(i,", ")+"expected: ".concat(a,"). ")+"Please ensure the correct Scandit Data Capture file (with correct version) is retrieved.")}}).catch(function(){})}else{Q("warn","Insecure context (see https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts): "+"The hash of the Scandit Data Capture library WASM file found at ".concat(e," could not be verified"))}}function a(){return new Promise(function(t,r){fetch(e).then(function(e){if(e.ok){e.clone().arrayBuffer().then(function(r){if(n){t(e)}i(r)}).catch(function(e){if(n){r(e)}});if(!n){t(e)}}else{r(new Error("HTTP status code is not ok"))}}).catch(function(e){r(e)})})}return Z(a,250,4e3,function(t){Q("warn",t);Q("warn","Couldn't retrieve Scandit Data Capture library at ".concat(e,", retrying..."))}).catch(function(t){Q("error",t);Q("error","Couldn't retrieve/instantiate Scandit Data Capture library at ".concat(e,", ")+"did you configure the path for it correctly?");return Promise.reject(t)})}function ae(e,t,r,n,i){ie(t,r,n,true).then(function(e){return e.arrayBuffer()}).then(function(r){return self.WebAssembly.instantiate(r,e).then(function(e){i(e.instance)}).catch(function(e){Q("error",e);Q("error","Couldn't instantiate Scandit Data Capture library at ".concat(t,", ")+"did you configure the path for it correctly?")})}).catch(function(){})}function oe(e,t,r,n,i){ie(t,r,n,false).then(function(a){self.WebAssembly.instantiateStreaming(a,e).then(function(e){i(e.instance)}).catch(function(a){Q("warn",a);Q("warn","WebAssembly streaming compile failed. "+"Falling back to ArrayBuffer instantiation (this will make things slower)");ae(e,t,r,n,i)})}).catch(function(){})}function se(){const r="FILE_DATA";let n;let i;let a;function o(){var e,t,r,o;(e=i)===null||e===void 0?void 0:(t=e.result)===null||t===void 0?void 0:t.close();(r=a)===null||r===void 0?void 0:(o=r.result)===null||o===void 0?void 0:o.close();n(0)}function s(){try{const s=[];const c=i.result.transaction(r,"readonly");c.onerror=o;const u=c.objectStore(r).openCursor();u.onsuccess=function(){const c=u.result;if(c==null){try{let e=0;const t=a.result.transaction(r,"readwrite");const c=t.objectStore(r);t.onerror=o;t.oncomplete=function(){i.result.close();a.result.close();return n(e)};for(const t of s){const r=c.count(t.primaryKey);r.onsuccess=function(){if(r.result===0){++e;c.add(t.value,t.primaryKey)}}}}catch(e){o.call({error:e})}}else{s.push({value:c.value,primaryKey:c.primaryKey.toString().replace("".concat(e,"/"),"".concat(t,"/"))});c.continue()}};u.onerror=o}catch(e){o.call({error:e})}}return new Promise(function(c){n=c;i=indexedDB.open(e);i.onupgradeneeded=function(){try{i.result.createObjectStore(r)}catch(e){}};i.onsuccess=function(){if(!Array.from(i.result.objectStoreNames).includes(r)){return c(0)}a=indexedDB.open(t);a.onupgradeneeded=function(){try{a.result.createObjectStore(r)}catch(e){}};a.onsuccess=function(){s()};a.onblocked=a.onerror=o};i.onblocked=i.onerror=o})}function ce(e,t){if(o==null){return Promise.resolve()}x=true;return new Promise(function(r,n){(!u&&e?se():Promise.resolve(0)).then(function(i){if(!u&&e&&!t&&i===0){x=false;return r()}o(e,function(e){x=false;if(e!=null){return n(e)}r()})}).catch(n)})}function ue(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;let r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(!k||r){if(x){k=true;O=O.then(function(){k=false;return ce(e,t)})}else{O=ce(e,t)}}return O}function le(){o=FS.syncfs;FS.syncfs=function(e,t){const r=t;t=function e(t){r(t)};ue(e).then(t).catch(t)};try{FS.mkdir(l)}catch(e){if(e.code!=="EEXIST"){o=undefined;return Promise.reject(e)}}FS.mount(IDBFS,{},l);return ue(true,true)}return{loadLibrary:M,setScanSettings:R,setImageSettings:P,workOnScanQueue:$,workOnParseQueue:G,addScanWorkUnit:F,addParseWorkUnit:U,clearSession:B,createBlurryTable:z,setCameraProperties:W,setDeviceName:Y,reset:H}}function edataCaptureWorkerFunction(){const e=dataCapture();onmessage=function t(r){
// Creating context triggers license key verification and activation: delay until first frame processed
const n=r.data;switch(n.type){case"load-library":e.loadLibrary(n.deviceId,n.libraryLocation,n.path,n.preload,n.delayedRegistration,n.highEndBlurryRecognition,n.textRecognition,n.licenseKey,n.deviceModelName);break;case"scan-settings":e.setScanSettings(n.settings,n.blurryRecognitionAvailable,n.blurryRecognitionRequiresUpdate);break;case"image-settings":e.setImageSettings(n.imageSettings);break;case"scan-image":e.addScanWorkUnit({requestId:n.requestId,data:n.data,highQualitySingleFrameMode:n.highQualitySingleFrameMode});break;case"parse":e.addParseWorkUnit({requestId:n.requestId,dataFormat:n.dataFormat,data:n.data,options:n.options});break;case"clear-session":e.clearSession();break;case"create-blurry-table":e.createBlurryTable(n.symbology);break;case"camera-properties":e.setCameraProperties(n.cameraType,n.autofocus);break;case"device-name":e.setDeviceName(n.deviceName);break;case"reset":e.reset();break}}}const dataCaptureWorkerBlob=new Blob(["var Module;".concat(dataCapture.toString(),"(").concat(edataCaptureWorkerFunction.toString(),")()")],{type:"text/javascript"});var DataCaptureLoader=function(){function e(t){_classCallCheck(this,e);_defineProperty(this,"preloadedDataCaptureWorker",void 0);_defineProperty(this,"preloadedDataCaptureWorkerAvailable",void 0);if(t){this.preloadedDataCaptureWorker=new Worker(URL.createObjectURL(dataCaptureWorkerBlob));e.load(this.preloadedDataCaptureWorker)}this.preloadedDataCaptureWorkerAvailable=t}_createClass(e,[{key:"getDataCaptureWorker",value:function e(){if(this.preloadedDataCaptureWorkerAvailable&&this.preloadedDataCaptureWorker!=null){this.preloadedDataCaptureWorkerAvailable=false;return this.preloadedDataCaptureWorker}else{return new Worker(URL.createObjectURL(dataCaptureWorkerBlob))}}},{key:"returnDataCaptureWorker",value:function e(t){if(this.preloadedDataCaptureWorker==null){this.preloadedDataCaptureWorker=t}if(this.preloadedDataCaptureWorker===t){this.preloadedDataCaptureWorker.onmessage=null;this.preloadedDataCaptureWorker.postMessage({type:"reset"});this.preloadedDataCaptureWorkerAvailable=true}else{t.terminate()}}}],[{key:"load",value:function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;t.postMessage({type:"load-library",deviceId:deviceId,libraryLocation:scanditDataCaptureLocation,path:window.location.pathname,preload:r,delayedRegistration:n,highEndBlurryRecognition:highEndBlurryRecognition,textRecognition:textRecognition,licenseKey:userLicenseKey,deviceModelName:BrowserHelper.userAgentInfo.getDevice().model})}}]);return e}();var Logger;(function(e){var t;(function(e){e["DEBUG"]="debug";e["INFO"]="info";e["WARN"]="warn";e["ERROR"]="error";e["QUIET"]="quiet"})(t=e.Level||(e.Level={}));var r=new map([[t.DEBUG,1],[t.INFO,2],[t.WARN,3],[t.ERROR,4],[t.QUIET,5]]);var n=t.DEBUG;function i(e){n=e}e.setLevel=i;function a(e){var i,a,o,s;if(r.get(n)>r.get(e)){return}for(var c=arguments.length,u=new Array(c>1?c-1:0),l=1;l<c;l++){u[l-1]=arguments[l]}switch(e){case t.DEBUG:(i=console).debug.apply(i,u);break;case t.INFO:(a=console).log.apply(a,u);break;case t.WARN:(o=console).warn.apply(o,u);break;case t.ERROR:(s=console).error.apply(s,u);break}}e.log=a})(Logger||(Logger={}));var BlurryRecognitionPreloader=function(){function e(t){_classCallCheck(this,e);_defineProperty(this,"eventEmitter",new eventemitter3.exports.EventEmitter);_defineProperty(this,"preload",void 0);_defineProperty(this,"queuedBlurryRecognitionSymbologies",from$1(e.availableBlurryRecognitionSymbologies.values()));_defineProperty(this,"readyBlurryRecognitionSymbologies",new set);_defineProperty(this,"dataCaptureWorker",void 0);this.preload=t}_createClass(e,[{key:"prepareBlurryTables",value:function(){var t=_asyncToGenerator(regenerator.mark(function t(){var r;return regenerator.wrap(function t(n){while(1){switch(n.prev=n.next){case 0:r=true;if(!this.preload){n.next=11;break}n.prev=2;n.next=5;return this.checkBlurryTablesAlreadyAvailable();case 5:r=n.sent;n.next=11;break;case 8:n.prev=8;n.t0=n["catch"](2);Logger.log(Logger.Level.ERROR,n.t0);case 11:if(r){this.queuedBlurryRecognitionSymbologies=[];this.readyBlurryRecognitionSymbologies=new set(e.availableBlurryRecognitionSymbologies);this.eventEmitter.emit("blurryTablesUpdate",new set(this.readyBlurryRecognitionSymbologies))}else{this.dataCaptureWorker=new Worker(URL.createObjectURL(dataCaptureWorkerBlob));this.dataCaptureWorker.onmessage=this.dataCaptureWorkerOnMessage.bind(this);DataCaptureLoader.load(this.dataCaptureWorker,true,true)}case 12:case"end":return n.stop()}}},t,this,[[2,8]])}));function r(){return t.apply(this,arguments)}return r}()},{key:"on",value:function t(r,n){if(r==="blurryTablesUpdate"){if(this.readyBlurryRecognitionSymbologies.size===e.availableBlurryRecognitionSymbologies.size){n(this.readyBlurryRecognitionSymbologies)}else{this.eventEmitter.on(r,n)}}}},{key:"updateBlurryRecognitionPriority",value:function e(t){var r=this.queuedBlurryRecognitionSymbologies.slice();this.getEnabledSymbologies(t).forEach(function(e){var t=r.indexOf(e);if(t!==-1){r.unshift(r.splice(t,1)[0])}});this.queuedBlurryRecognitionSymbologies=r}},{key:"isBlurryRecognitionAvailable",value:function e(t){var r=this;var n=this.getEnabledSymbologies(t);return n.every(function(e){return r.readyBlurryRecognitionSymbologies.has(e)})}},{key:"getEnabledSymbologies",value:function t(r){return from$1(e.availableBlurryRecognitionSymbologies.values()).filter(function(e){return r.isSymbologyEnabled(e)})}},{key:"createNextBlurryTableSymbology",value:function e(){var t;do{t=this.queuedBlurryRecognitionSymbologies.shift()}while(t!=null&&this.readyBlurryRecognitionSymbologies.has(t));if(t!=null){this.dataCaptureWorker.postMessage({type:"create-blurry-table",symbology:t})}}},{key:"checkBlurryTablesAlreadyAvailable",value:function t(){return new promise(function(t){var r=indexedDB.open(e.writableDataPath);function n(){var e;r===null||r===void 0?void 0:(e=r.result)===null||e===void 0?void 0:e.close();t(false)}r.onupgradeneeded=function(){try{r.result.createObjectStore(e.fsObjectStoreName)}catch(e){}};r.onsuccess=function(){try{var i=r.result.transaction(e.fsObjectStoreName,"readonly");i.onerror=n;var a=i.objectStore(e.fsObjectStoreName).getAllKeys();a.onsuccess=function(){r.result.close();if((highEndBlurryRecognition?e.highEndBlurryTableFiles:e.defaultBlurryTableFiles).every(function(e){return a.result.indexOf(e)!==-1})){return t(true)}else{return t(false)}};a.onerror=n}catch(e){n.call({error:e})}};r.onblocked=r.onerror=n})}},{key:"dataCaptureWorkerOnMessage",value:function t(r){var n=this;var i=r.data;if(i[1]!=null){switch(i[0]){case"context-created":this.createNextBlurryTableSymbology();break;case"create-blurry-table-result":this.readyBlurryRecognitionSymbologies.add(i[1]);if([Barcode.Symbology.EAN8,Barcode.Symbology.EAN13,Barcode.Symbology.UPCA,Barcode.Symbology.UPCE].includes(i[1])){this.readyBlurryRecognitionSymbologies.add(Barcode.Symbology.EAN13);this.readyBlurryRecognitionSymbologies.add(Barcode.Symbology.EAN8);this.readyBlurryRecognitionSymbologies.add(Barcode.Symbology.UPCA);this.readyBlurryRecognitionSymbologies.add(Barcode.Symbology.UPCE)}else if([Barcode.Symbology.CODE32,Barcode.Symbology.CODE39].includes(i[1])){this.readyBlurryRecognitionSymbologies.add(Barcode.Symbology.CODE32);this.readyBlurryRecognitionSymbologies.add(Barcode.Symbology.CODE39)}this.eventEmitter.emit("blurryTablesUpdate",new set(this.readyBlurryRecognitionSymbologies));if(this.readyBlurryRecognitionSymbologies.size===e.availableBlurryRecognitionSymbologies.size){setTimeout(function(){n.dataCaptureWorker.terminate()},250)}else{this.createNextBlurryTableSymbology()}break}}}}],[{key:"create",value:function(){var t=_asyncToGenerator(regenerator.mark(function t(r){var n,i;return regenerator.wrap(function t(a){while(1){switch(a.prev=a.next){case 0:if(!r){a.next=5;break}n=BrowserHelper.userAgentInfo.getBrowser().name;if(!(n!=null&&n.includes("Edge"))){a.next=5;break}i=new Worker(URL.createObjectURL(new Blob(["(".concat(e.workerIndexedDBSupportTestFunction.toString(),")()")],{type:"text/javascript"})));return a.abrupt("return",new promise(function(t){i.onmessage=function(r){i.terminate();t(new e(r.data))}}));case 5:return a.abrupt("return",new e(r));case 6:case"end":return a.stop()}}},t)}));function r(e){return t.apply(this,arguments)}return r}()},{key:"workerIndexedDBSupportTestFunction",value:function e(){try{indexedDB.deleteDatabase("scandit_indexeddb_support_test");postMessage(true)}catch(e){postMessage(false)}}}]);return e}();_defineProperty(BlurryRecognitionPreloader,"writableDataPath","/scandit_sync_folder_preload");_defineProperty(BlurryRecognitionPreloader,"fsObjectStoreName","FILE_DATA");_defineProperty(BlurryRecognitionPreloader,"defaultBlurryTableFiles",["/606674e04e9da6f3ff049665e249a2d3.scandit","/05ccc70dd555fe1dd48784bd0cf8e386.scandit","/c5f9e9352415c38c40498e5e95dadfe7.scandit","/977fe759fdd7cdfe10730e7c6a313cf1.scandit","/1537c55cf10f0541c82353754f4c64fd.scandit","/975d994615bcffd9b2a73fa3a678eab0.scandit","/dd1689816469f85afcf8474667d8f03d.scandit","/8f244e6545292e588c1df97a086c6c1b.scandit","/a575dcaf6e5494a4fcc1ab4acde73ec8.scandit","/dabb5674b7672c4942b526b140087d72.scandit","/515813776005b3f7f83a2f1dda0c3512.scandit","/1803599e0a639ac73d4fa17406f626d0.scandit","/1c853515cb625cb5599ffbc55d49660b.scandit","/02f134be7444abe8670302d63154ee12.scandit","/f66d20444d640fb5696ad1fd84844da1.scandit","/cda0058badf2e2826f38e015b4bc2086.scandit","/a7f53b46cfafa92cda842f8e5552fe94.scandit","/520af862bc387cbcd123bf4f6c0a2309.scandit","/fe5dee8bc5034b58510f0525996d3fd1.scandit","/6fa9155af734f2c952b17414e455dd9d.scandit","/b43dfae194695c822dfccba33ff2c86d.scandit"].map(function(e){return"".concat(BlurryRecognitionPreloader.writableDataPath).concat(e)}));_defineProperty(BlurryRecognitionPreloader,"highEndBlurryTableFiles",["/1874dc4934d21603e5d9a5ae43a778e4.scandit","/63c129cdcf76aea7d93d5be187fe2538.scandit","/115d22696b705b9981072313d6be73ea.scandit","/4608867660a119fc208c2e2d9cb324a5.scandit","/d17c176dc829d0963c15e161a80e5494.scandit","/5323ad9f4f68808ccbccf152360d858b.scandit","/280fc47c520d4da71bd7b46e800bf56d.scandit","/285e85aaef2ce3fc3e02bd3a122c88a3.scandit","/c511cd547c936a071b8d02714716e1ca.scandit","/4957f614000cb4e1c37230ddf6ae2695.scandit","/32b179628cb7fe9f7b9ec76f05f71843.scandit","/064d712f2a6804bf7eadcb4b03aac94b.scandit","/148896f408d127c37065bd889e097a48.scandit","/99f6c6df8988e4fa954ca95fc96d417a.scandit","/85502aef6aded3d4278bd979c10ad55e.scandit","/24b31e817a962593346bc5bedfecfd42.scandit","/13034b70bf6c595a3ae6df6d6ee1d6a4.scandit","/4cb12590b4dac0ac0f8724b8aa45b75d.scandit","/b3dfd3876ce0f8413c5069d87f8e8795.scandit","/40d900c40fd427d6cc7ea1418209a293.scandit","/feb5b253b7b4a9a210058f7cafa38461.scandit","/aabd7f1b722807e223293dfaf212be23.scandit","/2a9858ec9bba816cdfbdf1b14c8719a9.scandit","/d8011fc47cc6aec6b172aae4af4fdd9b.scandit","/e8747cf80b9ff066ca5026a8ca092b09.scandit","/5fdf50ec8f84271ea21dd77be8d44872.scandit","/661b785b69d6ca90e9d1ea8ab542b59f.scandit","/07fa32ccbca1132b1d4799883e98b39a.scandit","/5603271a54266a81ca40966e66e97265.scandit","/d623ba3aa0c43fb3fc1c7be7aa2c69d2.scandit","/bb770ea7325ee07808a318a236f2ec00.scandit","/c4ddab70bcfb9e88bd75786459211217.scandit","/9097adb842cd84073fd834d83520e3d3.scandit","/642f7fb3cf1b48a7391c2ac0358f2bc2.scandit","/a29f17de80be594245277fc418bf6a28.scandit","/5295187c71b6c414d89f41909a92d74e.scandit","/9dd44ec739d98429fc5fbdafb0127c43.scandit","/7bc6d7c115ffb99739447c56e1faa181.scandit","/2e84c1f83144a30ce5e3384766cd0918.scandit","/be65a2a8af180ba9461b4607de385afe.scandit","/8507e094c3e139c87cdba48291e5b888.scandit","/06c61f29f834fa28b36700587e777f89.scandit"].map(function(e){return"".concat(BlurryRecognitionPreloader.writableDataPath).concat(e)}));_defineProperty(BlurryRecognitionPreloader,"availableBlurryRecognitionSymbologies",new set([Barcode.Symbology.EAN13,Barcode.Symbology.EAN8,Barcode.Symbology.CODE32,Barcode.Symbology.CODE39,Barcode.Symbology.CODE128,Barcode.Symbology.CODE93,Barcode.Symbology.INTERLEAVED_2_OF_5,Barcode.Symbology.MSI_PLESSEY,Barcode.Symbology.CODABAR,Barcode.Symbology.UPCA,Barcode.Symbology.UPCE]));function _isNativeFunction(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function _isNativeReflectConstruct$4(){if(typeof Reflect==="undefined"||!construct)return false;if(construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(construct(Boolean,[],function(){}));return true}catch(e){return false}}function _construct(e,t,r){if(_isNativeReflectConstruct$4()){_construct=construct}else{_construct=function e(t,r,n){var i=[null];i.push.apply(i,r);var a=Function.bind.apply(t,i);var o=new a;if(n)_setPrototypeOf(o,n.prototype);return o}}return _construct.apply(null,arguments)}function _wrapNativeSuper(e){var t=typeof map==="function"?new map:undefined;_wrapNativeSuper=function e(r){if(r===null||!_isNativeFunction(r))return r;if(typeof r!=="function"){throw new TypeError("Super expression must either be null or a function")}if(typeof t!=="undefined"){if(t.has(r))return t.get(r);t.set(r,n)}function n(){return _construct(r,arguments,_getPrototypeOf(this).constructor)}n.prototype=create$1(r.prototype,{constructor:{value:n,enumerable:false,writable:true,configurable:true}});return _setPrototypeOf(n,r)};return _wrapNativeSuper(e)}function _createSuper$3(e){var t=_isNativeReflectConstruct$3();return function r(){var n=_getPrototypeOf(e),i;if(t){var a=_getPrototypeOf(this).constructor;i=construct(n,arguments,a)}else{i=n.apply(this,arguments)}return _possibleConstructorReturn(this,i)}}function _isNativeReflectConstruct$3(){if(typeof Reflect==="undefined"||!construct)return false;if(construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(construct(Boolean,[],function(){}));return true}catch(e){return false}}var CustomError=function(e){_inherits(r,e);var t=_createSuper$3(r);function r(){var e;var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},i=n.name,a=i===void 0?"":i,o=n.message,s=o===void 0?"":o;_classCallCheck(this,r);e=t.call(this,s);Object.setPrototypeOf(_assertThisInitialized(e),r.prototype);e.name=a;return e}return _createClass(r)}(_wrapNativeSuper(Error));function _createSuper$2(e){var t=_isNativeReflectConstruct$2();return function r(){var n=_getPrototypeOf(e),i;if(t){var a=_getPrototypeOf(this).constructor;i=construct(n,arguments,a)}else{i=n.apply(this,arguments)}return _possibleConstructorReturn(this,i)}}function _isNativeReflectConstruct$2(){if(typeof Reflect==="undefined"||!construct)return false;if(construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(construct(Boolean,[],function(){}));return true}catch(e){return false}}var UnsupportedBrowserError=function(e){_inherits(r,e);var t=_createSuper$2(r);function r(e){var n;_classCallCheck(this,r);n=t.call(this,{name:"UnsupportedBrowserError",message:"This OS / browser has one or more missing features preventing it from working correctly (".concat(e.missingFeatures.join(", "),")")});_defineProperty(_assertThisInitialized(n),"data",void 0);n.data=e;return n}return _createClass(r)}(CustomError);var pickerStyles=___$insertStyle('.scandit.scandit-container{align-items:center;display:flex;height:100%;justify-content:center;overflow:hidden;width:100%}.scandit.scandit-barcode-picker{background-color:#000;height:100%;min-height:1px;min-width:1px;position:relative;width:100%}.scandit .scandit-video{display:block;height:100%;position:relative;width:100%}.scandit .scandit-video.mirrored{transform:scaleX(-1)}.scandit .scandit-logo{bottom:5%;max-height:12.5%;max-width:35%;right:5%;z-index:20}.scandit .scandit-laser,.scandit .scandit-logo{pointer-events:none;position:absolute;transform:translateZ(0)}.scandit .scandit-laser{align-items:center;box-sizing:border-box;display:flex;top:-9999px;z-index:10}.scandit .scandit-laser img{max-height:47px;width:100%}.scandit .scandit-laser img,.scandit .scandit-viewfinder{animation-duration:.25s;position:absolute;transition:opacity .25s ease}.scandit .scandit-viewfinder{border:2px solid #fff;border-radius:10px;box-sizing:border-box;pointer-events:none;top:-9999px;transform:translateZ(0);z-index:10}.scandit .scandit-viewfinder.paused{opacity:.4}.scandit .scandit-camera-switcher,.scandit .scandit-torch-toggle{-webkit-tap-highlight-color:rgba(255,255,255,0);cursor:pointer;filter:drop-shadow(0 2px 0 #808080);max-height:15%;max-width:15%;position:absolute;top:5%;transform:translateZ(0);z-index:10}.scandit .scandit-camera-switcher{left:5%}.scandit .scandit-torch-toggle{right:5%}.scandit .scandit-camera-recovery{background-color:#000;color:#fff;cursor:pointer;position:absolute;top:0;transform:translateZ(0);z-index:15}.scandit .scandit-camera-recovery,.scandit .scandit-camera-upload{align-items:center;display:flex;height:100%;justify-content:center;width:100%}.scandit .scandit-camera-upload{-webkit-tap-highlight-color:rgba(255,255,255,0);flex-direction:column;z-index:5}.scandit .scandit-camera-upload label{align-items:center;border-radius:50%;cursor:pointer;display:flex;flex-direction:column;height:180px;justify-content:center;margin-top:18px;width:180px}.scandit .scandit-camera-upload label input[type=file]{position:absolute;top:-9999px}.scandit .radial-progress{animation-duration:.25s;background-color:transparent;border-radius:50%;border-style:solid;border-width:3px;box-sizing:border-box;height:180px;position:absolute;transition:opacity 1s ease,border-color .5s;width:180px}.scandit .radial-progress[data-progress="0"]{opacity:.2}.scandit .radial-progress[data-progress="5"]{opacity:.24}.scandit .radial-progress[data-progress="10"]{opacity:.28}.scandit .radial-progress[data-progress="15"]{opacity:.32}.scandit .radial-progress[data-progress="20"]{opacity:.36}.scandit .radial-progress[data-progress="25"]{opacity:.4}.scandit .radial-progress[data-progress="30"]{opacity:.44}.scandit .radial-progress[data-progress="35"]{opacity:.48}.scandit .radial-progress[data-progress="40"]{opacity:.52}.scandit .radial-progress[data-progress="45"]{opacity:.56}.scandit .radial-progress[data-progress="50"]{opacity:.6}.scandit .radial-progress[data-progress="55"]{opacity:.64}.scandit .radial-progress[data-progress="60"]{opacity:.68}.scandit .radial-progress[data-progress="65"]{opacity:.72}.scandit .radial-progress[data-progress="70"]{opacity:.76}.scandit .radial-progress[data-progress="75"]{opacity:.8}.scandit .radial-progress[data-progress="80"]{opacity:.84}.scandit .radial-progress[data-progress="85"]{opacity:.88}.scandit .radial-progress[data-progress="90"]{opacity:.92}.scandit .radial-progress[data-progress="95"]{opacity:.96}.scandit .radial-progress[data-progress="100"]{opacity:1}.scandit .scandit-flash-color{animation-name:scandit-flash-color}.scandit .scandit-flash-white{animation-name:scandit-flash-white}.scandit .scandit-flash-inset{animation-name:scandit-flash-inset}.scandit .scandit-opacity-pulse{animation-delay:0s,.333s;animation-duration:.333s,1s;animation-iteration-count:1,infinite;animation-name:scandit-opacity-pulse-before,scandit-opacity-pulse;animation-timing-function:cubic-bezier(.645,.045,.355,1),cubic-bezier(.645,.045,.355,1)}.scandit .scandit-hidden-opacity{opacity:0}.scandit-hidden{display:none!important}@keyframes scandit-flash-color{0%{filter:none}50%{filter:drop-shadow(0 0 .75rem #fff) drop-shadow(0 0 2.5rem #7ed9e2)}to{filter:none}}@keyframes scandit-flash-white{0%{filter:none}50%{filter:drop-shadow(0 0 .5rem #fff) drop-shadow(0 0 1rem #fff) drop-shadow(0 0 2.5rem #fff)}to{filter:none}}@keyframes scandit-flash-inset{0%{box-shadow:none}50%{box-shadow:inset 0 0 .5rem,inset 0 0 1rem,inset 0 0 2.5rem}to{box-shadow:none}}@keyframes scandit-opacity-pulse-before{0%{opacity:1}to{opacity:.4}}@keyframes scandit-opacity-pulse{0%{opacity:.4}50%{opacity:.6}to{opacity:.4}}');var howler_core_min={};
/*! howler.js v2.2.3 | (c) 2013-2020, James Simpson of GoldFire Studios | MIT License | howlerjs.com */(function(e){!function(){var t=function(){this.init()};t.prototype={init:function(){var e=this||r;return e._counter=1e3,e._html5AudioPool=[],e.html5PoolSize=10,e._codecs={},e._howls=[],e._muted=!1,e._volume=1,e._canPlayEvent="canplaythrough",e._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,e.masterGain=null,e.noAudio=!1,e.usingWebAudio=!0,e.autoSuspend=!0,e.ctx=null,e.autoUnlock=!0,e._setup(),e},volume:function(e){var t=this||r;if(e=parseFloat(e),t.ctx||l(),void 0!==e&&e>=0&&e<=1){if(t._volume=e,t._muted)return t;t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e,r.ctx.currentTime);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var i=t._howls[n]._getSoundIds(),a=0;a<i.length;a++){var o=t._howls[n]._soundById(i[a]);o&&o._node&&(o._node.volume=o._volume*e)}return t}return t._volume},mute:function(e){var t=this||r;t.ctx||l(),t._muted=e,t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e?0:t._volume,r.ctx.currentTime);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var i=t._howls[n]._getSoundIds(),a=0;a<i.length;a++){var o=t._howls[n]._soundById(i[a]);o&&o._node&&(o._node.muted=!!e||o._muted)}return t},stop:function(){for(var e=this||r,t=0;t<e._howls.length;t++)e._howls[t].stop();return e},unload:function(){for(var e=this||r,t=e._howls.length-1;t>=0;t--)e._howls[t].unload();return e.usingWebAudio&&e.ctx&&void 0!==e.ctx.close&&(e.ctx.close(),e.ctx=null,l()),e},codecs:function(e){return(this||r)._codecs[e.replace(/^x-/,"")]},_setup:function(){var e=this||r;if(e.state=e.ctx?e.ctx.state||"suspended":"suspended",e._autoSuspend(),!e.usingWebAudio)if("undefined"!=typeof Audio)try{var t=new Audio;void 0===t.oncanplaythrough&&(e._canPlayEvent="canplay")}catch(t){e.noAudio=!0}else e.noAudio=!0;try{var t=new Audio;t.muted&&(e.noAudio=!0)}catch(e){}return e.noAudio||e._setupCodecs(),e},_setupCodecs:function(){var e=this||r,t=null;try{t="undefined"!=typeof Audio?new Audio:null}catch(t){return e}if(!t||"function"!=typeof t.canPlayType)return e;var n=t.canPlayType("audio/mpeg;").replace(/^no$/,""),i=e._navigator?e._navigator.userAgent:"",a=i.match(/OPR\/([0-6].)/g),o=a&&parseInt(a[0].split("/")[1],10)<33,s=-1!==i.indexOf("Safari")&&-1===i.indexOf("Chrome"),c=i.match(/Version\/(.*?) /),u=s&&c&&parseInt(c[1],10)<15;return e._codecs={mp3:!(o||!n&&!t.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!n,opus:!!t.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(t.canPlayType('audio/wav; codecs="1"')||t.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!t.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!t.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/m4a;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(t.canPlayType("audio/x-m4b;")||t.canPlayType("audio/m4b;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(t.canPlayType("audio/x-mp4;")||t.canPlayType("audio/mp4;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!(u||!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!(u||!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!t.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(t.canPlayType("audio/x-flac;")||t.canPlayType("audio/flac;")).replace(/^no$/,"")},e},_unlockAudio:function(){var e=this||r;if(!e._audioUnlocked&&e.ctx){e._audioUnlocked=!1,e.autoUnlock=!1,e._mobileUnloaded||44100===e.ctx.sampleRate||(e._mobileUnloaded=!0,e.unload()),e._scratchBuffer=e.ctx.createBuffer(1,1,22050);var t=function(r){for(;e._html5AudioPool.length<e.html5PoolSize;)try{var n=new Audio;n._unlocked=!0,e._releaseHtml5Audio(n)}catch(r){e.noAudio=!0;break}for(var i=0;i<e._howls.length;i++)if(!e._howls[i]._webAudio)for(var a=e._howls[i]._getSoundIds(),o=0;o<a.length;o++){var s=e._howls[i]._soundById(a[o]);s&&s._node&&!s._node._unlocked&&(s._node._unlocked=!0,s._node.load())}e._autoResume();var c=e.ctx.createBufferSource();c.buffer=e._scratchBuffer,c.connect(e.ctx.destination),void 0===c.start?c.noteOn(0):c.start(0),"function"==typeof e.ctx.resume&&e.ctx.resume(),c.onended=function(){c.disconnect(0),e._audioUnlocked=!0,document.removeEventListener("touchstart",t,!0),document.removeEventListener("touchend",t,!0),document.removeEventListener("click",t,!0),document.removeEventListener("keydown",t,!0);for(var r=0;r<e._howls.length;r++)e._howls[r]._emit("unlock")}};return document.addEventListener("touchstart",t,!0),document.addEventListener("touchend",t,!0),document.addEventListener("click",t,!0),document.addEventListener("keydown",t,!0),e}},_obtainHtml5Audio:function(){var e=this||r;if(e._html5AudioPool.length)return e._html5AudioPool.pop();var t=(new Audio).play();return t&&"undefined"!=typeof Promise&&(t instanceof Promise||"function"==typeof t.then)&&t.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(e){var t=this||r;return e._unlocked&&t._html5AudioPool.push(e),t},_autoSuspend:function(){var e=this;if(e.autoSuspend&&e.ctx&&void 0!==e.ctx.suspend&&r.usingWebAudio){for(var t=0;t<e._howls.length;t++)if(e._howls[t]._webAudio)for(var n=0;n<e._howls[t]._sounds.length;n++)if(!e._howls[t]._sounds[n]._paused)return e;return e._suspendTimer&&clearTimeout(e._suspendTimer),e._suspendTimer=setTimeout(function(){if(e.autoSuspend){e._suspendTimer=null,e.state="suspending";var t=function(){e.state="suspended",e._resumeAfterSuspend&&(delete e._resumeAfterSuspend,e._autoResume())};e.ctx.suspend().then(t,t)}},3e4),e}},_autoResume:function(){var e=this;if(e.ctx&&void 0!==e.ctx.resume&&r.usingWebAudio)return"running"===e.state&&"interrupted"!==e.ctx.state&&e._suspendTimer?(clearTimeout(e._suspendTimer),e._suspendTimer=null):"suspended"===e.state||"running"===e.state&&"interrupted"===e.ctx.state?(e.ctx.resume().then(function(){e.state="running";for(var t=0;t<e._howls.length;t++)e._howls[t]._emit("resume")}),e._suspendTimer&&(clearTimeout(e._suspendTimer),e._suspendTimer=null)):"suspending"===e.state&&(e._resumeAfterSuspend=!0),e}};var r=new t,n=function(e){var t=this;if(!e.src||0===e.src.length)return void console.error("An array of source files must be passed with any new Howl.");t.init(e)};n.prototype={init:function(e){var t=this;return r.ctx||l(),t._autoplay=e.autoplay||!1,t._format="string"!=typeof e.format?e.format:[e.format],t._html5=e.html5||!1,t._muted=e.mute||!1,t._loop=e.loop||!1,t._pool=e.pool||5,t._preload="boolean"!=typeof e.preload&&"metadata"!==e.preload||e.preload,t._rate=e.rate||1,t._sprite=e.sprite||{},t._src="string"!=typeof e.src?e.src:[e.src],t._volume=void 0!==e.volume?e.volume:1,t._xhr={method:e.xhr&&e.xhr.method?e.xhr.method:"GET",headers:e.xhr&&e.xhr.headers?e.xhr.headers:null,withCredentials:!(!e.xhr||!e.xhr.withCredentials)&&e.xhr.withCredentials},t._duration=0,t._state="unloaded",t._sounds=[],t._endTimers={},t._queue=[],t._playLock=!1,t._onend=e.onend?[{fn:e.onend}]:[],t._onfade=e.onfade?[{fn:e.onfade}]:[],t._onload=e.onload?[{fn:e.onload}]:[],t._onloaderror=e.onloaderror?[{fn:e.onloaderror}]:[],t._onplayerror=e.onplayerror?[{fn:e.onplayerror}]:[],t._onpause=e.onpause?[{fn:e.onpause}]:[],t._onplay=e.onplay?[{fn:e.onplay}]:[],t._onstop=e.onstop?[{fn:e.onstop}]:[],t._onmute=e.onmute?[{fn:e.onmute}]:[],t._onvolume=e.onvolume?[{fn:e.onvolume}]:[],t._onrate=e.onrate?[{fn:e.onrate}]:[],t._onseek=e.onseek?[{fn:e.onseek}]:[],t._onunlock=e.onunlock?[{fn:e.onunlock}]:[],t._onresume=[],t._webAudio=r.usingWebAudio&&!t._html5,void 0!==r.ctx&&r.ctx&&r.autoUnlock&&r._unlockAudio(),r._howls.push(t),t._autoplay&&t._queue.push({event:"play",action:function(){t.play()}}),t._preload&&"none"!==t._preload&&t.load(),t},load:function(){var e=this,t=null;if(r.noAudio)return void e._emit("loaderror",null,"No audio support.");"string"==typeof e._src&&(e._src=[e._src]);for(var n=0;n<e._src.length;n++){var a,s;if(e._format&&e._format[n])a=e._format[n];else{if("string"!=typeof(s=e._src[n])){e._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}a=/^data:audio\/([^;,]+);/i.exec(s),a||(a=/\.([^.]+)$/.exec(s.split("?",1)[0])),a&&(a=a[1].toLowerCase())}if(a||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),a&&r.codecs(a)){t=e._src[n];break}}return t?(e._src=t,e._state="loading","https:"===window.location.protocol&&"http:"===t.slice(0,5)&&(e._html5=!0,e._webAudio=!1),new i(e),e._webAudio&&o(e),e):void e._emit("loaderror",null,"No codec support for selected audio sources.")},play:function(e,t){var n=this,i=null;if("number"==typeof e)i=e,e=null;else{if("string"==typeof e&&"loaded"===n._state&&!n._sprite[e])return null;if(void 0===e&&(e="__default",!n._playLock)){for(var a=0,o=0;o<n._sounds.length;o++)n._sounds[o]._paused&&!n._sounds[o]._ended&&(a++,i=n._sounds[o]._id);1===a?e=null:i=null}}var s=i?n._soundById(i):n._inactiveSound();if(!s)return null;if(i&&!e&&(e=s._sprite||"__default"),"loaded"!==n._state){s._sprite=e,s._ended=!1;var c=s._id;return n._queue.push({event:"play",action:function(){n.play(c)}}),c}if(i&&!s._paused)return t||n._loadQueue("play"),s._id;n._webAudio&&r._autoResume();var u=Math.max(0,s._seek>0?s._seek:n._sprite[e][0]/1e3),l=Math.max(0,(n._sprite[e][0]+n._sprite[e][1])/1e3-u),d=1e3*l/Math.abs(s._rate),f=n._sprite[e][0]/1e3,h=(n._sprite[e][0]+n._sprite[e][1])/1e3;s._sprite=e,s._ended=!1;var v=function(){s._paused=!1,s._seek=u,s._start=f,s._stop=h,s._loop=!(!s._loop&&!n._sprite[e][2])};if(u>=h)return void n._ended(s);var p=s._node;if(n._webAudio){var g=function(){n._playLock=!1,v(),n._refreshBuffer(s);var e=s._muted||n._muted?0:s._volume;p.gain.setValueAtTime(e,r.ctx.currentTime),s._playStart=r.ctx.currentTime,void 0===p.bufferSource.start?s._loop?p.bufferSource.noteGrainOn(0,u,86400):p.bufferSource.noteGrainOn(0,u,l):s._loop?p.bufferSource.start(0,u,86400):p.bufferSource.start(0,u,l),d!==1/0&&(n._endTimers[s._id]=setTimeout(n._ended.bind(n,s),d)),t||setTimeout(function(){n._emit("play",s._id),n._loadQueue()},0)};"running"===r.state&&"interrupted"!==r.ctx.state?g():(n._playLock=!0,n.once("resume",g),n._clearTimer(s._id))}else{var m=function(){p.currentTime=u,p.muted=s._muted||n._muted||r._muted||p.muted,p.volume=s._volume*r.volume(),p.playbackRate=s._rate;try{var i=p.play();if(i&&"undefined"!=typeof Promise&&(i instanceof Promise||"function"==typeof i.then)?(n._playLock=!0,v(),i.then(function(){n._playLock=!1,p._unlocked=!0,t?n._loadQueue():n._emit("play",s._id)}).catch(function(){n._playLock=!1,n._emit("playerror",s._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),s._ended=!0,s._paused=!0})):t||(n._playLock=!1,v(),n._emit("play",s._id)),p.playbackRate=s._rate,p.paused)return void n._emit("playerror",s._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==e||s._loop?n._endTimers[s._id]=setTimeout(n._ended.bind(n,s),d):(n._endTimers[s._id]=function(){n._ended(s),p.removeEventListener("ended",n._endTimers[s._id],!1)},p.addEventListener("ended",n._endTimers[s._id],!1))}catch(e){n._emit("playerror",s._id,e)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===p.src&&(p.src=n._src,p.load());var y=window&&window.ejecta||!p.readyState&&r._navigator.isCocoonJS;if(p.readyState>=3||y)m();else{n._playLock=!0,n._state="loading";var b=function(){n._state="loaded",m(),p.removeEventListener(r._canPlayEvent,b,!1)};p.addEventListener(r._canPlayEvent,b,!1),n._clearTimer(s._id)}}return s._id},pause:function(e){var t=this;if("loaded"!==t._state||t._playLock)return t._queue.push({event:"pause",action:function(){t.pause(e)}}),t;for(var r=t._getSoundIds(e),n=0;n<r.length;n++){t._clearTimer(r[n]);var i=t._soundById(r[n]);if(i&&!i._paused&&(i._seek=t.seek(r[n]),i._rateSeek=0,i._paused=!0,t._stopFade(r[n]),i._node))if(t._webAudio){if(!i._node.bufferSource)continue;void 0===i._node.bufferSource.stop?i._node.bufferSource.noteOff(0):i._node.bufferSource.stop(0),t._cleanBuffer(i._node)}else isNaN(i._node.duration)&&i._node.duration!==1/0||i._node.pause();arguments[1]||t._emit("pause",i?i._id:null)}return t},stop:function(e,t){var r=this;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"stop",action:function(){r.stop(e)}}),r;for(var n=r._getSoundIds(e),i=0;i<n.length;i++){r._clearTimer(n[i]);var a=r._soundById(n[i]);a&&(a._seek=a._start||0,a._rateSeek=0,a._paused=!0,a._ended=!0,r._stopFade(n[i]),a._node&&(r._webAudio?a._node.bufferSource&&(void 0===a._node.bufferSource.stop?a._node.bufferSource.noteOff(0):a._node.bufferSource.stop(0),r._cleanBuffer(a._node)):isNaN(a._node.duration)&&a._node.duration!==1/0||(a._node.currentTime=a._start||0,a._node.pause(),a._node.duration===1/0&&r._clearSound(a._node))),t||r._emit("stop",a._id))}return r},mute:function(e,t){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"mute",action:function(){n.mute(e,t)}}),n;if(void 0===t){if("boolean"!=typeof e)return n._muted;n._muted=e}for(var i=n._getSoundIds(t),a=0;a<i.length;a++){var o=n._soundById(i[a]);o&&(o._muted=e,o._interval&&n._stopFade(o._id),n._webAudio&&o._node?o._node.gain.setValueAtTime(e?0:o._volume,r.ctx.currentTime):o._node&&(o._node.muted=!!r._muted||e),n._emit("mute",o._id))}return n},volume:function(){var e,t,n=this,i=arguments;if(0===i.length)return n._volume;if(1===i.length||2===i.length&&void 0===i[1]){n._getSoundIds().indexOf(i[0])>=0?t=parseInt(i[0],10):e=parseFloat(i[0])}else i.length>=2&&(e=parseFloat(i[0]),t=parseInt(i[1],10));var a;if(!(void 0!==e&&e>=0&&e<=1))return a=t?n._soundById(t):n._sounds[0],a?a._volume:0;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"volume",action:function(){n.volume.apply(n,i)}}),n;void 0===t&&(n._volume=e),t=n._getSoundIds(t);for(var o=0;o<t.length;o++)(a=n._soundById(t[o]))&&(a._volume=e,i[2]||n._stopFade(t[o]),n._webAudio&&a._node&&!a._muted?a._node.gain.setValueAtTime(e,r.ctx.currentTime):a._node&&!a._muted&&(a._node.volume=e*r.volume()),n._emit("volume",a._id));return n},fade:function(e,t,n,i){var a=this;if("loaded"!==a._state||a._playLock)return a._queue.push({event:"fade",action:function(){a.fade(e,t,n,i)}}),a;e=Math.min(Math.max(0,parseFloat(e)),1),t=Math.min(Math.max(0,parseFloat(t)),1),n=parseFloat(n),a.volume(e,i);for(var o=a._getSoundIds(i),s=0;s<o.length;s++){var c=a._soundById(o[s]);if(c){if(i||a._stopFade(o[s]),a._webAudio&&!c._muted){var u=r.ctx.currentTime,l=u+n/1e3;c._volume=e,c._node.gain.setValueAtTime(e,u),c._node.gain.linearRampToValueAtTime(t,l)}a._startFadeInterval(c,e,t,n,o[s],void 0===i)}}return a},_startFadeInterval:function(e,t,r,n,i,a){var o=this,s=t,c=r-t,u=Math.abs(c/.01),l=Math.max(4,u>0?n/u:n),d=Date.now();e._fadeTo=r,e._interval=setInterval(function(){var i=(Date.now()-d)/n;d=Date.now(),s+=c*i,s=Math.round(100*s)/100,s=c<0?Math.max(r,s):Math.min(r,s),o._webAudio?e._volume=s:o.volume(s,e._id,!0),a&&(o._volume=s),(r<t&&s<=r||r>t&&s>=r)&&(clearInterval(e._interval),e._interval=null,e._fadeTo=null,o.volume(r,e._id),o._emit("fade",e._id))},l)},_stopFade:function(e){var t=this,n=t._soundById(e);return n&&n._interval&&(t._webAudio&&n._node.gain.cancelScheduledValues(r.ctx.currentTime),clearInterval(n._interval),n._interval=null,t.volume(n._fadeTo,e),n._fadeTo=null,t._emit("fade",e)),t},loop:function(){var e,t,r,n=this,i=arguments;if(0===i.length)return n._loop;if(1===i.length){if("boolean"!=typeof i[0])return!!(r=n._soundById(parseInt(i[0],10)))&&r._loop;e=i[0],n._loop=e}else 2===i.length&&(e=i[0],t=parseInt(i[1],10));for(var a=n._getSoundIds(t),o=0;o<a.length;o++)(r=n._soundById(a[o]))&&(r._loop=e,n._webAudio&&r._node&&r._node.bufferSource&&(r._node.bufferSource.loop=e,e&&(r._node.bufferSource.loopStart=r._start||0,r._node.bufferSource.loopEnd=r._stop,n.playing(a[o])&&(n.pause(a[o],!0),n.play(a[o],!0)))));return n},rate:function(){var e,t,n=this,i=arguments;if(0===i.length)t=n._sounds[0]._id;else if(1===i.length){var a=n._getSoundIds(),o=a.indexOf(i[0]);o>=0?t=parseInt(i[0],10):e=parseFloat(i[0])}else 2===i.length&&(e=parseFloat(i[0]),t=parseInt(i[1],10));var s;if("number"!=typeof e)return s=n._soundById(t),s?s._rate:n._rate;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"rate",action:function(){n.rate.apply(n,i)}}),n;void 0===t&&(n._rate=e),t=n._getSoundIds(t);for(var c=0;c<t.length;c++)if(s=n._soundById(t[c])){n.playing(t[c])&&(s._rateSeek=n.seek(t[c]),s._playStart=n._webAudio?r.ctx.currentTime:s._playStart),s._rate=e,n._webAudio&&s._node&&s._node.bufferSource?s._node.bufferSource.playbackRate.setValueAtTime(e,r.ctx.currentTime):s._node&&(s._node.playbackRate=e);var u=n.seek(t[c]),l=(n._sprite[s._sprite][0]+n._sprite[s._sprite][1])/1e3-u,d=1e3*l/Math.abs(s._rate);!n._endTimers[t[c]]&&s._paused||(n._clearTimer(t[c]),n._endTimers[t[c]]=setTimeout(n._ended.bind(n,s),d)),n._emit("rate",s._id)}return n},seek:function(){var e,t,n=this,i=arguments;if(0===i.length)n._sounds.length&&(t=n._sounds[0]._id);else if(1===i.length){var a=n._getSoundIds(),o=a.indexOf(i[0]);o>=0?t=parseInt(i[0],10):n._sounds.length&&(t=n._sounds[0]._id,e=parseFloat(i[0]))}else 2===i.length&&(e=parseFloat(i[0]),t=parseInt(i[1],10));if(void 0===t)return 0;if("number"==typeof e&&("loaded"!==n._state||n._playLock))return n._queue.push({event:"seek",action:function(){n.seek.apply(n,i)}}),n;var s=n._soundById(t);if(s){if(!("number"==typeof e&&e>=0)){if(n._webAudio){var c=n.playing(t)?r.ctx.currentTime-s._playStart:0,u=s._rateSeek?s._rateSeek-s._seek:0;return s._seek+(u+c*Math.abs(s._rate))}return s._node.currentTime}var l=n.playing(t);l&&n.pause(t,!0),s._seek=e,s._ended=!1,n._clearTimer(t),n._webAudio||!s._node||isNaN(s._node.duration)||(s._node.currentTime=e);var d=function(){l&&n.play(t,!0),n._emit("seek",t)};if(l&&!n._webAudio){var f=function(){n._playLock?setTimeout(f,0):d()};setTimeout(f,0)}else d()}return n},playing:function(e){var t=this;if("number"==typeof e){var r=t._soundById(e);return!!r&&!r._paused}for(var n=0;n<t._sounds.length;n++)if(!t._sounds[n]._paused)return!0;return!1},duration:function(e){var t=this,r=t._duration,n=t._soundById(e);return n&&(r=t._sprite[n._sprite][1]/1e3),r},state:function(){return this._state},unload:function(){for(var e=this,t=e._sounds,n=0;n<t.length;n++)t[n]._paused||e.stop(t[n]._id),e._webAudio||(e._clearSound(t[n]._node),t[n]._node.removeEventListener("error",t[n]._errorFn,!1),t[n]._node.removeEventListener(r._canPlayEvent,t[n]._loadFn,!1),t[n]._node.removeEventListener("ended",t[n]._endFn,!1),r._releaseHtml5Audio(t[n]._node)),delete t[n]._node,e._clearTimer(t[n]._id);var i=r._howls.indexOf(e);i>=0&&r._howls.splice(i,1);var o=!0;for(n=0;n<r._howls.length;n++)if(r._howls[n]._src===e._src||e._src.indexOf(r._howls[n]._src)>=0){o=!1;break}return a&&o&&delete a[e._src],r.noAudio=!1,e._state="unloaded",e._sounds=[],e=null,null},on:function(e,t,r,n){var i=this,a=i["_on"+e];return"function"==typeof t&&a.push(n?{id:r,fn:t,once:n}:{id:r,fn:t}),i},off:function(e,t,r){var n=this,i=n["_on"+e],a=0;if("number"==typeof t&&(r=t,t=null),t||r)for(a=0;a<i.length;a++){var o=r===i[a].id;if(t===i[a].fn&&o||!t&&o){i.splice(a,1);break}}else if(e)n["_on"+e]=[];else{var s=Object.keys(n);for(a=0;a<s.length;a++)0===s[a].indexOf("_on")&&Array.isArray(n[s[a]])&&(n[s[a]]=[])}return n},once:function(e,t,r){var n=this;return n.on(e,t,r,1),n},_emit:function(e,t,r){for(var n=this,i=n["_on"+e],a=i.length-1;a>=0;a--)i[a].id&&i[a].id!==t&&"load"!==e||(setTimeout(function(e){e.call(this,t,r)}.bind(n,i[a].fn),0),i[a].once&&n.off(e,i[a].fn,i[a].id));return n._loadQueue(e),n},_loadQueue:function(e){var t=this;if(t._queue.length>0){var r=t._queue[0];r.event===e&&(t._queue.shift(),t._loadQueue()),e||r.action()}return t},_ended:function(e){var t=this,n=e._sprite;if(!t._webAudio&&e._node&&!e._node.paused&&!e._node.ended&&e._node.currentTime<e._stop)return setTimeout(t._ended.bind(t,e),100),t;var i=!(!e._loop&&!t._sprite[n][2]);if(t._emit("end",e._id),!t._webAudio&&i&&t.stop(e._id,!0).play(e._id),t._webAudio&&i){t._emit("play",e._id),e._seek=e._start||0,e._rateSeek=0,e._playStart=r.ctx.currentTime;var a=1e3*(e._stop-e._start)/Math.abs(e._rate);t._endTimers[e._id]=setTimeout(t._ended.bind(t,e),a)}return t._webAudio&&!i&&(e._paused=!0,e._ended=!0,e._seek=e._start||0,e._rateSeek=0,t._clearTimer(e._id),t._cleanBuffer(e._node),r._autoSuspend()),t._webAudio||i||t.stop(e._id,!0),t},_clearTimer:function(e){var t=this;if(t._endTimers[e]){if("function"!=typeof t._endTimers[e])clearTimeout(t._endTimers[e]);else{var r=t._soundById(e);r&&r._node&&r._node.removeEventListener("ended",t._endTimers[e],!1)}delete t._endTimers[e]}return t},_soundById:function(e){for(var t=this,r=0;r<t._sounds.length;r++)if(e===t._sounds[r]._id)return t._sounds[r];return null},_inactiveSound:function(){var e=this;e._drain();for(var t=0;t<e._sounds.length;t++)if(e._sounds[t]._ended)return e._sounds[t].reset();return new i(e)},_drain:function(){var e=this,t=e._pool,r=0,n=0;if(!(e._sounds.length<t)){for(n=0;n<e._sounds.length;n++)e._sounds[n]._ended&&r++;for(n=e._sounds.length-1;n>=0;n--){if(r<=t)return;e._sounds[n]._ended&&(e._webAudio&&e._sounds[n]._node&&e._sounds[n]._node.disconnect(0),e._sounds.splice(n,1),r--)}}},_getSoundIds:function(e){var t=this;if(void 0===e){for(var r=[],n=0;n<t._sounds.length;n++)r.push(t._sounds[n]._id);return r}return[e]},_refreshBuffer:function(e){var t=this;return e._node.bufferSource=r.ctx.createBufferSource(),e._node.bufferSource.buffer=a[t._src],e._panner?e._node.bufferSource.connect(e._panner):e._node.bufferSource.connect(e._node),e._node.bufferSource.loop=e._loop,e._loop&&(e._node.bufferSource.loopStart=e._start||0,e._node.bufferSource.loopEnd=e._stop||0),e._node.bufferSource.playbackRate.setValueAtTime(e._rate,r.ctx.currentTime),t},_cleanBuffer:function(e){var t=this,n=r._navigator&&r._navigator.vendor.indexOf("Apple")>=0;if(r._scratchBuffer&&e.bufferSource&&(e.bufferSource.onended=null,e.bufferSource.disconnect(0),n))try{e.bufferSource.buffer=r._scratchBuffer}catch(e){}return e.bufferSource=null,t},_clearSound:function(e){/MSIE |Trident\//.test(r._navigator&&r._navigator.userAgent)||(e.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var i=function(e){this._parent=e,this.init()};i.prototype={init:function(){var e=this,t=e._parent;return e._muted=t._muted,e._loop=t._loop,e._volume=t._volume,e._rate=t._rate,e._seek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++r._counter,t._sounds.push(e),e.create(),e},create:function(){var e=this,t=e._parent,n=r._muted||e._muted||e._parent._muted?0:e._volume;return t._webAudio?(e._node=void 0===r.ctx.createGain?r.ctx.createGainNode():r.ctx.createGain(),e._node.gain.setValueAtTime(n,r.ctx.currentTime),e._node.paused=!0,e._node.connect(r.masterGain)):r.noAudio||(e._node=r._obtainHtml5Audio(),e._errorFn=e._errorListener.bind(e),e._node.addEventListener("error",e._errorFn,!1),e._loadFn=e._loadListener.bind(e),e._node.addEventListener(r._canPlayEvent,e._loadFn,!1),e._endFn=e._endListener.bind(e),e._node.addEventListener("ended",e._endFn,!1),e._node.src=t._src,e._node.preload=!0===t._preload?"auto":t._preload,e._node.volume=n*r.volume(),e._node.load()),e},reset:function(){var e=this,t=e._parent;return e._muted=t._muted,e._loop=t._loop,e._volume=t._volume,e._rate=t._rate,e._seek=0,e._rateSeek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++r._counter,e},_errorListener:function(){var e=this;e._parent._emit("loaderror",e._id,e._node.error?e._node.error.code:0),e._node.removeEventListener("error",e._errorFn,!1)},_loadListener:function(){var e=this,t=e._parent;t._duration=Math.ceil(10*e._node.duration)/10,0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),"loaded"!==t._state&&(t._state="loaded",t._emit("load"),t._loadQueue()),e._node.removeEventListener(r._canPlayEvent,e._loadFn,!1)},_endListener:function(){var e=this,t=e._parent;t._duration===1/0&&(t._duration=Math.ceil(10*e._node.duration)/10,t._sprite.__default[1]===1/0&&(t._sprite.__default[1]=1e3*t._duration),t._ended(e)),e._node.removeEventListener("ended",e._endFn,!1)}};var a={},o=function(e){var t=e._src;if(a[t])return e._duration=a[t].duration,void u(e);if(/^data:[^;]+;base64,/.test(t)){for(var r=atob(t.split(",")[1]),n=new Uint8Array(r.length),i=0;i<r.length;++i)n[i]=r.charCodeAt(i);c(n.buffer,e)}else{var o=new XMLHttpRequest;o.open(e._xhr.method,t,!0),o.withCredentials=e._xhr.withCredentials,o.responseType="arraybuffer",e._xhr.headers&&Object.keys(e._xhr.headers).forEach(function(t){o.setRequestHeader(t,e._xhr.headers[t])}),o.onload=function(){var t=(o.status+"")[0];if("0"!==t&&"2"!==t&&"3"!==t)return void e._emit("loaderror",null,"Failed loading audio file with status: "+o.status+".");c(o.response,e)},o.onerror=function(){e._webAudio&&(e._html5=!0,e._webAudio=!1,e._sounds=[],delete a[t],e.load())},s(o)}},s=function(e){try{e.send()}catch(t){e.onerror()}},c=function(e,t){var n=function(){t._emit("loaderror",null,"Decoding audio data failed.")},i=function(e){e&&t._sounds.length>0?(a[t._src]=e,u(t,e)):n()};"undefined"!=typeof Promise&&1===r.ctx.decodeAudioData.length?r.ctx.decodeAudioData(e).then(i).catch(n):r.ctx.decodeAudioData(e,i,n)},u=function(e,t){t&&!e._duration&&(e._duration=t.duration),0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue())},l=function(){if(r.usingWebAudio){try{"undefined"!=typeof AudioContext?r.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?r.ctx=new webkitAudioContext:r.usingWebAudio=!1}catch(e){r.usingWebAudio=!1}r.ctx||(r.usingWebAudio=!1);var e=/iP(hone|od|ad)/.test(r._navigator&&r._navigator.platform),t=r._navigator&&r._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),n=t?parseInt(t[1],10):null;if(e&&n&&n<9){var i=/safari/.test(r._navigator&&r._navigator.userAgent.toLowerCase());r._navigator&&!i&&(r.usingWebAudio=!1)}r.usingWebAudio&&(r.masterGain=void 0===r.ctx.createGain?r.ctx.createGainNode():r.ctx.createGain(),r.masterGain.gain.setValueAtTime(r._muted?0:r._volume,r.ctx.currentTime),r.masterGain.connect(r.ctx.destination)),r._setup()}};e.Howler=r,e.Howl=n,"undefined"!=typeof commonjsGlobal?(commonjsGlobal.HowlerGlobal=t,commonjsGlobal.Howler=r,commonjsGlobal.Howl=n,commonjsGlobal.Sound=i):"undefined"!=typeof window&&(window.HowlerGlobal=t,window.Howler=r,window.Howl=n,window.Sound=i)}()})(howler_core_min);var beepSound="data:audio/mp3;base64,//uwAAAAA8ROTJVigAB4icmSrFAAE/IjVfj6gAJ+RGq/H1AAADEN55555509PSUkYjEMQ5DCaBiMBmSoGPBh6QGGJAZo8BoDwGYJADEBmQbAAbMBcAJ0IIRQuFwuF8vm6aaaaaaCCH/9RcIubDkCgBQAzBOLL5cLhog3p////6BgTBFC4yZfTah/////WmYFwuBgTh///5cEDgnB8AMQ3nnnnnnT09JSRiMQxDkMJoGIwGZKgY8GHpAYYkBmjwGgPAZgkAMQGZBsABswFwAnQghFC4XC4Xy+bppppppoIIf/1Fwi5sOQKAFADME4svlwuGiDen////oGBMEULjJl9NqH////9aZgXC4GBOH///lwQOCcH7usq4IwABEoZUkABBACSAH6LQxWQ1ekTmN4ZafMA1wANy7UyDUPgZzK4WdA1sdhHQGm0eAcG0Uwxsang94vpi3jMEgeLBTM1nUEFdDatet8mwsLJddIZ0CIGTVYoADBkuf9NrJ1f3UsUMJtLy/dMOCTfrUURBBm/6mKA7P6lkcLj/z5mI2/+plE5/9TFgqrf/qYpFf/9v///9Z7////Weu6yrgjAAEShlSQAEEAJIAfotDFZDV6ROY3hlp8wDXAA3LtTINQ+BnMrhZ0DWx2EdAabR4BwbRTDGxqeD3i+mLeMwSB4sFMzWdQQV0Nq163ybCwsl10hnQIgZNVigAMGS5/02snV/dSxQwm0vL90w4JN+tRREEGb/qYoDs/qWRwuP/PmYjb/6mUTn/1MWCqt/+pikV//2////1nv///9Z57qrtSAAaAEOPo6q0VkVoBSMfBmZVHFMomra/sFv//+7IADwAEcXjR92KgAo4vGj7sVABRJeNFzHKLAiS8aLmOUWARYQFAEDoGXFeBv7iAZHHAGKwQLnD0RkkCKmpzOKUjUjUiy0nUlpOh2UUjSoc4VsAaFAMkgspOZb1de+/222v3lN9ikN8FBKOaa0lI/b/+32+TGsxIaGIRJknav9///1fSInqSWHRKS6v///6/nCEJvdVdqQADQAhx9HVWisitAKRj4MzKo4plE1bX9gt/iLCAoAgdAy4rwN/cQDI44AxWCBc4eiMkgRU1OZxSkakakWWk6ktJ0OyikaVDnCtgDQoBkkFlJzLerr33+221+8pvsUhvgoJRzTWkpH7f/2+3yY1mJDQxCJMk7V/v//+r6RE9SSw6JSXV////X84QhNqq9yGAAtDIPgN54cGQ0s4MLUdIZgz1qumUxddqEpWGZfQdAYAOR0btmDgYpm3SG6ec7wnc1aVs2dj+1bbTnyweolsigCR4Bd4UcqIoKbf1mlbVoekvRo/NT+yIW3Ci11PUfr6dTaC7b2fe/yLtUspAgFDuR53///+pvOkM14YR+pvt/+v6/koSLVV7kMABaGQfAbzw4MhpZwYWo6QzBnrVdMpi67UJSsMy+g6AwAcjo3bMHAxTNukN0853hO5q0rZs7H9q22nPlg9RLZFAEjwC7wo5URQU2/rNK2rQ9JejR+an9kQtuFFrqeo/X06m0F23s+9/kXapZSBAKHcjzv///9TedIZrwwj9Tfb/9f1/JQkVi7zplQAFIAgwMk9GmLaGUorLwS8iIOIgIHDACBpGPGPIQTeb9Ig1+zoNGAMN6Ijtv5KI3h0rZfrLVE0dZ6n/+7IAHwAEk3jRez2kEJJvGi9ntIIT3eU/7PqwQnu8p/2fVgg7IPUzJfLB65iPwTcgPIEeWDqpvvvo6N2qSs9T1fIxKtlg1Fg5Kkp6z7nWWdSqqUulspS3s9vkhqoBb8Kg7POv6///9vUQVqqgx7Xmf7f//rbyUN1Rd50yoACkAQYGSejTFtDKUVl4JeREHEQEDhgBA0jHjHkIJvN+kQa/Z0GjAGG9ER238lEbw6Vsv1lqiaOs9SdkHqZkvlg9cxH4JuQHkCPLB1U3330dG7VJWep6vkYlWywaiwclSU9Z9zrLOpVVKXS2Upb2e3yQ1UAt+FQdnnX9f//+3qIK1VQY9rzP9v//1t5KG6jmYd0IAA0gIAD4Llq2gAnFo8YQd9sJd67dV09LYmltad5GkSGPh80IAtg4NUiAWeV15W6FXRpnnczdM46C/SvZzut0SUNUjYiIywAAvA1QCg40iSbnTJdtr85/P3fO63YhxpWgiDUWgsOUjjzp+tq2+r+++jtYd2dURoFQ+LhSOZ0/Xrb/9T9Sz21xU3rrCIH1Zi9ev9/1atZ7aRwqb1nMw7oQABpAQAHwXLVtABOLR4wg77YS7126rp6WxNLa07yNIkMfD5oQBbBwapEAs8rryt0KujTPO5m6Zx0F+lezndbokoapGxERlgABeBqgFBxpEk3OmS7bX5z+fu+d1uxDjStBEGotBYcpHHnT9bVt9X999Haw7s6ojQKh8XCkczp+vW3/6n6lntripvXWEQPqzF69f7/q1az20jhU3rV7maZEAAWQDDArs+W/cFQBSysHAKdYWnzUwc2mlLOlivqupASYLMR//In/+7IAFQAEsHlRe4mkoJYPKi9xNJQSUeVF7hqSwko8qL3DUliIwQla+ytB9/jCGTwOk7YLCgqBZuy6Dc6/c4eQc0L4CDQAc0T4T5smsq7e5vm9np2bqoaspnmWgiEzoOAqU861fWtS6kamrTW703pasnfL4YpEzZ2sf+32//WnrnSY1XDcPXnP/r/q/baZjfd7maZEAAWQDDArs+W/cFQBSysHAKdYWnzUwc2mlLOlivqupASYLMR//ImIwQla+ytB9/jCGTwOk7YLCgqBZuy6Dc6/c4eQc0L4CDQAc0T4T5smsq7e5vm9np2bqoaspnmWgiEzoOAqU861fWtS6kamrTW703pasnfL4YpEzZ2sf+32//WnrnSY1XDcPXnP/r/q/baZjfdpycyVAATgBDA1ALqbMHAeBrYsAWWvHH2AywaA7BHvZmwaGmklUBEh5MPfAYCKjjZQRAGyw/4fwM8hGdB9J4CJscei+u5YLTImQ+QavAASY+iycWpPbNd999Hba+rMXrrCZ0W1StZar1utXOa91mj1O3XkCZ1SkCRAiy16n9Tfq//P+onVdYcXq02/9f9bf+P47nacnMlQAE4AQwNQC6mzBwHga2LAFlrxx9gMsGgOwR72ZsGhppJVARIeTD3wGAio42UEQBssP+H8DPIRnQfSeAibHHovruWC0yJkPkGrwAEmPosnFqT2zXfffR22vqzF66wmdFtUrWWq9brVzmvdZo9Tt15AmdUpAkQIstep/U36v/z/qJ1XWHF6tNv/X/W3/j+O543/+6UACbAYaztA4tsHCcKBx5S8EJ48ScsKkEaV3wtIwd45ACAQBij/+7IAFAAEt3hUfWKgApbvCo+sVABSgV9f+YoAAlAr6/8xQAAgAbKYoGDwWBIDlhrJuWqzTL9SbKMay9NzZaZstX1Hqz6AYYCxHFLl9Pf+tVapulmK7UWt9B61l8Neg3tQSZCrztaV88yFfW7oCbU6RmLPAOCwEggQQ0TqfapGrV//Uf9RC6EzDAiSHKL/////nREb//dKABNgMNZ2gcW2DhOFA48peCE8eJOWFSCNK74WkYO8cgBAIAxQQANlMUDB4LAkByw1k3LVZpl+pNlGNZem5stM2Wr6j1Z9AMMBYjily+nv/WqtU3SzFdqLW+g9ay+GvQb2oJMhV52tK+eZCvrd0BNqdIzFngHBYCQQIIaJ1PtUjVq//qP+ohdCZhgRJDlF/////zoi5C6lVAABQCoDYQD4ZCwVB9kTFKkiv9NQcExMLk3ipgtxrzPf8LZgdNYHsgYIPgbIgAEXEAwCgpAie4XVi5BaBlBUxSQfMO7yfQPFcsGReNjIgX0QvmASaIgQc3SJkgpqr+myNNNNJSSX/n1Hw/4CgwqkXN3qSMTVX//U2skkQuTq9JJEy/+ybvT6p1IjCCpfiL/+SuQupVQAAUAqA2EA+GQsFQfZExSpIr/TUHBMTC5N4qYLca8z3/C2YHTWB7IGCD4GyIABFxAMAoKQInuF1YuQWgZQVMUkHzDu8n0DxXLBkXjYyIF9EL5gEmiIEHN0iZIKaq/psjTTTSUkl/59R8P+AoMKpFzd6kjE1V//1NrJJELk6vSSRMv/sm70+qdSIwgqX4i//klMQU1FMy45OS41VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+7IAAA/wAABpBwAACAAADSDgAAEAAAGkAAAAIAAANIAAAARMQU1FMy45OS41VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVU=";var scanditLogoImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUcAAAAhCAMAAAB9TZmqAAABgFBMVEVHcEyCgoL+/v6Kior///+FhYXW1tbn5+eAgIDp6en+/v6BgYH///////////+BgYH///////////+wsLCCgoL4+PiBgYH///+srKyAgID////s7OyCgoKBgYGDg4P///+BgYH6+vqBgYH////MzMz39/f///+BgYGbm5uDg4OMjIyBgYG+vr6QkJD///////+BgYGDg4P+/v7Hx8eOjo6BgYH09PT7+/v///////+MjIz9/f3////////Y2Nj6+vrPz8+BgYH9/f3///+3t7f///+Ghob///+AgICDg4P///+IiIj///////+CgoL6+vqmpqb////////t7e3////////////b29vj4+PNzc3y8vLl5eXv7+/U1NTDw8O8vLyRkZH////x8fGJiYmZmZnDw8Pf39/S0tLT09PCwsKfn5/4+PjV1dWlpaWwsLCjo6OsrKzj4+OZmZnCwsLq6uqurq7///+AgICfn5+Tk5OFhYXCwsLJycmYmJjU1NS/v79wPZvPAAAAdnRSTlMAcvoPxiTEAsby9L8p/eusNEoJBlEZ2Pb67nz25fVGOv1Eh+RW7oyC/ToXzkALzmqTe8BJHmf9Uu+n/B2Dnt7/+6MvEP2ZKrmzXHIx2dScYv6wkf3o3SL+/uDhqLbnuNrVV4u4ie7LNGlhweeUnrTsZOjkis/PjpWtfQAACfhJREFUaN7tmXlbGksWxtlMEwRUVjUgrSQqEAQccXdQQRUVVYxqoolqjGa9WW7uW25Xv/pUdxe9q2TM88zMM55/aE5V1/Lr03XeqrZYHuzBHuzB/vPmX+hzgdmcyh/sXrIx95LKPQ64/JoG5oaHHVztzya8Ssl0rV1PfO6A03YbR4xdzUBnblbgXphZm2hv+W0z9bW0+H7tjmL9d2w6VDPon7XX/CsuxR2fTcr1hervk+oWBM9KDa0bLqVys5pOn1vTrxfvG6SrCT3HpwNiS3O1Gzt/E8dN5RHVadNAsL6aXB9ch3/9zWyUdDF/Bqh8/ngm2Shpkp+QB49xEdJy3MbgW4UjaVQ42nola73ywDWt5XhKpIcWbP4h9F3CIOuOEOodiwNz4wvdDsDW/N/PMYPhb1GiGOMY82CiSeWWObYgXsI2SWo4tq7jusOco9xC7yAGF005WixOocIq1mt1eerrw/BT6/L8cu69C3Hfb+EY3NkJ/tINHOU4Vl/VORxGiTOQ9DOTVjGugrVGwmdn/Zxkcv0qds/gOS9rOa6isM+Zc3TaRUsmvhQw2WDO0Z+mNoRnpEnurgjs8RLVPeD3vNkNhMz+2h1PgZP6anrxkTT69d4hhI8IHzCpX8Eb8gyrU1qOxIHJ/A0c5XqHwL7flCOL9GdK2NMR4JRv7LJmnYQvoF2OEHcsqEpY/s1YzK1JYJy7WRu8KoeGo75iMea7iWMxdncYb6CXLBq8I5jhSd7s1YBnnxzjMqLjSDv8kb6Do8+L6556OXYCpYR41RFdbWXx2NwfBrCRYU+jOO4FgBfjEsn+8EpxZBjAHHsX9Y4Tm+3EtKLFV10CPA73SrjfwPFgA0C8KlIOusILtVmHq1pil1HOsC548YcKgMpWUOHJCtbJrJZjwwi2eu7gaGnHdlu6To4DgHdIugwQIi2+GRvwogJgRByxzwF4+vqos5uNY8EBl/Cfrad6Ry3PGCoGHYCLqr94Nxx6joceeIWqfSLzNVQkQptATE0sBk+rXU9rDJ4IKZtxnMAOCQWB0byO46YNqwN3cIzRv+U6OQauAfSNd9KJ+qMkx1SUY3M2cVIFFiQl6xqaTSQW55hkpWy8Q9zs83EgY+pQOBorDiUT9gMbYOCIjWl7YmDBI2nrFmCaxURFS2YG+JlpoRYrWpT5ewlvN+MYp4Gapbm0dV7H0dKN9ak7OAaB8+U6OXaQkihgPX3jsY5yQkqJS05BWkQ+SbN14FGbkIe+ApvC/8dAZxP18IMYsZg5ngP/MPPHgD9C9K9zBXis5+j9FhL6fCMmu2R0kAV/BaWs9h3eqclf20RQntInkjLD6IYtRAKU2WQbp+NY9KK0eDtHH3CWqpNjmieRz2vDAABHjEVTiU6Izqr3pbgiruydET6Vip6yMHuMV07SluLJJfotZg6Fo9Y/gieERFNREnlm5PiIF6uSdZH5/DXinCQsRxM6OB8vtx6/evXKBWyM1Rb5T2TeXG06hEBtwSBJ6DjSMkGM38axCJxH6uRoyRFCUl0fMmthwNYpvVKjTtpPQ5YQq1Cjh0QD6WBn+6DMcbKNSgx77hqvLCYOTuGorVihOSLAWfzl6JWR498hGh1+K3+JPmG5GZVE2DiuQoaskuNrSvl7ks3fRabMOK5hh1AwPhvOcnqO/iVcBG7lOA2Qtno5WqziS8ununY8GKbL5AIKKTFL+UNSo87zR3PDAFwyngsxH3HvGA294/kNFV0oSYmsfGHkOCohyZcQFm6JbGFClDmrVhOBmlueorZvw1d7bSFrMtP3w/iDCDuefpQa9Ryp5Cvs+2/jeEDDvN54PDhwp/NNIkryUsyNhyiw5Jbo6hHerT/D8DjoOcY3Gc9LqfyRzFHjUMWj1m/DOza/SSPHI1b0Djah055V4aE2Y5BP3iwmd3GdZenktNGkPAZXRNQg7diKpvUcKd0r620cZ/CT1Ls+VsTHzi3mm6LkTEzQfwIDTH0HBS0edGEuaEl25H7IeB7pOWodz2+o+ATHrNfvRo4f2OUxnoh6jB/EEE0QF/O3iPIFXPED0so7GTEpb0c/ifpFoAWm6dQcm4GvJzdz9HvxhkzVyXECGyyTpXtOgRaR41BtGC6fEN04mhcCtrdOjtxNHK/wTOoraDNyPGSXn7Al/s5fYI2L4yxwC8cqXksCrxOF0QFjeT8FIULyu9DbZeBI8W9/uZnjAsIhYq2T4+eauhZDoUAfWm4d0jGn7wXWRJoFKlWWc4Hde8YjtwqssPmb6J4iGx1axd4DZx5bC7Yj/lvOOV9QTlL+6MNWzlhuw0diZQnnOmXkOBbGxY0cm13YIaShTo6hLWBElLxjM8Ak7TWwCqwVhT0c0MlZuCFgj65RxRkAT+8Vj6lteDJFy2YVg0aOWKKj4IbC2JYStJBp4mjtugXjGuIptuGYtmHLsDlvQTwqbca5DLblhVbhSOVA4QaO/swwlt6qovMOjsvnTwDEHf1LAK6ERWSRXILKcscwcCEsLuV1YGNuyePZGUR84T7rY9PoNoBhYK5k5HgMvOinZetnbEWkmQaFc/3BUay7ZmteeN4TnhEZssE2Mt4uGdubd2OXtNWOx2znASPHohdajp7J1xOC9dOCjSOiUp13cCwT8qbCDunfED4typ2/Kh4AG19FcZs72wLgWWpZvgBm7hOPHYTfcYRRqWav8d2gezJxAN7dc8LmK2SaSacxdSjmfR+R8wD3YVspcFnYy/5Gnmkcq8tGjpYMUFBzVMy2+5aQrKVejtw8IVPPYysrnSdZQpbZeUVTsjkWzBK+Q/p7FIv57LT47AMnngazl62Hhb3eUTs3M1RsJHw+WaQCf7KmiJgtEkJCs+7OzUBUURpvCzg1nIV1zhz/U7KXexFCInJ24QK915evWdGUsFhy1eq+fJiW2V0NmXDkltQcgzPHl5OvBXu5N0p4MsXVzdFiTwnbWmdjiCeE3ZcVZLmTpmjxZMkeIiREi/muCIlY78Nx+nCPtkzbfevCnp7jMh1FY5uAU0mB64roU0z+fEAHPK+e2WKjUiChsfNKnlCug+6owrH45YyopGde9W0ipJEKY8+JlqPffaTZz3DlkHRfY7mGPyBAldtpmBfGFuqgOMRA//c5Al+cUT6UnVG+M8kcB/I0vEjblDxW3xJKyybppcNas7J+8Wwo14qkoSfzqnjOW2WmbUQRSemImuOs3HhA33iS53VP1Up0m6iBRLncodFf6cWEah+RTCTEJhpmuXt9cHAgXG3pzPQDJbM8PKsaQ7W9D4PniYfP9Sa2mPsJAMBwyfQjgNqGgfBp6IGZKUfCf1vonmkfWiZt9ru+r1bb9++E/f9qThLNBhL5RkKsd1XN9qRIJP2AzNTSTdLJYVv+znWWZu7ow+p4ow1Ys3Snnry7Yj5rHfjfmda/AA1uqYyEPVX6AAAAAElFTkSuQmCC";var laserActiveImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAuwAAAAvCAMAAACPHW/9AAAAwFBMVEVHcExUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFVydJUyNFUyNFUyNFUyNH8/v5UyNFUyNFUyNFVydJUyNFUyNFUyNFVydJUyNFVydL3/f1YytNUyNFUyNFUyNHx+/ve9fbp+PnR8fNUyNGF2N9009q15+uW3ePD7O+l4+dv0dlv0dj///9Ujp4pAAAAP3RSTlMAiXJnBFsIARM5oA1+UKsuG5W3JEULBishQj5iAm0QkTQZ/h5MF3snWISbSHb8plMFjfjv9Oeyua3Ww9/Nn4y/IgemAAAIrElEQVR42u2da1saOxCAq8jRVuql0qOVIgcvgHhBrBbUYv//vzpzySSTZBeWqo8fOm+E9Vv3eXxnOptNJh8+vD3rhvFC3lHR73/GmmEsxdKKVY+N3ONFN3OT8O+S/GMYnmXtid0rCJAy7b3nrPDyQn5dnk3DiFnaoeJ4Ife98ZnqTnTSPHZ38R0ezWPDMF6BeY6lseK0F+Ej3Vl1MJ1EZ78rmXrmBvxWTLcCO4axU8WUEsk2nIMhJsh6Et75HnQn10l1NB093xB9F9p4UsBBKXuGsQSlIuXSScSQ/Og8Ch9097aT66I6mo6S74i1c++mn7G/v4+fQrYNYymKPWLBEvEkOtD7LhoPvmN+R93R9sR1UR1FR8n7/cqS/oejjI+G8UIyqbb9NQ4NtB6MJ99J99j2deU6q35AnrPDFew99FcY+MN8K6VpGHMpVecwQL5p/1h+dL6/Bwm+i9k92M6yY2IPrpPqaLqT2omrR7hk9l4ETvEHRuAzD8OogNNFgUpd8DeRhgYGACkPvqPuO5jc2XZM7SGxK9dRdRSdknNicIy+Ey/xyDMYDRR1dzGMaihrHKCUxweFhALpD8qj76Q71jLOdknt6y6xB9dZdRCddU4ibpSgdA606q2cWqtWq7VqfDWMUpwk8BVRd99xPHAYkP6oPPkOurPtVMlwaneyU2KHZ1NxHVVvXqDm3uXC0GuR1Nrr+J7bODyr9IGByNUwYtr+wrYEgcClJCZ0FJD6YDz5Drqz7Vi3U2oX2amKgcR+1nWuk+okelmOrmVWB6XxVi9xBHpFNHoNw0gpUkU8WsUfCYoQBLW2uA/Cj0aQ353tBydcyHAdQ8+na5TYsYg52GPXUXUwnbXW2TnC/atKbO+x47xxnrFiGBXIxEGbkoCQAHD2k/CgO2T3JtkOT6ldl9q17JtUxOz1xXXM6WC6N5qVVtm6B2ZfRmrnPo9Xxkxn3InYlWEYGudFDOjDpHEAyin7UXoQnnVn27mQodQusksVw0UMuj6CrM6mU7ZO/6ehIFNZ28uNXjudFUPNJxz8ZRgxw09eDbgEQCEdERwCSn+X+EF48B11B9uxkqFCZmNjk4t2/3xKFTsl9m9Ndh1N7zUa5eWHZO1Y7qFzW+7/GgZ+AVvXW1v0RR/DKMGZgldAFJKAcP7vDhP30fkG6I7ZnWynQoZS+9ev/ISKz6euioHEDkWMdx1UJ8Wdz+NOqEZU1vaJW9ntxBZ+5nzhYRgJJEYBKhQoAjL3wXr0nXRH20+bnNpdHQNPqCQ7VzGS2C9GXnUQncQe+nyNZcjsegZMZ1NgMp0Aj8Av5AF5Qu6RH8wdcctcBY49v42/m6CC8oN8YXnu2CSyivwi01A5dO8RJZxMp+jl8/Pzee+yXasPJLV3pWj3slMVgxV78xTyunN93KG8HWoqjKkZfKZb06A6u462P4DtTyT7Pdn+g3S/I9tvyfYrHInpJPvxbzP+79Qc//BBddEdPLm9cvmRZCfd78t0d7ZP2fbn3mq7VcfU7uqYWPYjnnekKmYAiV1cZ9W5MnGmo+jadQotSuwPvySxR64H1dl2dh1/LLMbLHyku8/sV2z6rU/tJPvTvbhO1cSjtx2E5NzeoNT++SLUMaWy1yPZOZ+L7VtTlP3ndPqFbJ9M0irmKVQxktddYpfMTrofp5ndMNlF9WNnep7ZXWIH2x+C7uT6Y5zaWfZvy8o+lPIF8/oW6z5F3Sec2UNiDxX7vS7Z7+6KqhjU3TK7kVTsKrOz7XeuaM/KGK5iojpmSmU7uT43s0c1Oz2fNs7P8elUlewzrGJwkO6+Yp/oil1ndl2ySxnjXD9OUrv9vU12pzqNUMWEZ9TwiPoUinYpYySzu0dUKmNKa3Y9G0MTj5doO0/G4BzMDAZ+fZrRXEw0FePLmHQu5l5l9rRmvzLZjeLUfhW7ns3GJM+nfj5mqlzHB9Ti2Zh8nr2l5tnjF/67qL9+PxomJYd6ziZ6bVQwz24Y5XPt2SQ7jvDGiebZr7Np9irz7Okb1IvsDeqKjNIXqJ3s/elQvWOS6Rz1psneoRrlL1D16yN+gxpeoPplBLslb1BXy9+ghrUx3cK1Mb2CtTGN4oWMWv6Ol1/nfnkvRStkeJmMrZExooUxTo4E8kjWioXFYdHSsEZj0dqYSqseLwuQNY9h0WMjW0Yz9sTrHnnFY0fu3jCcCR2vc77ocbwyztf/hmWPbtVjbf6qR1nP3o3Xs9fdevaa3yeithz5bRpxMMT6Fy1o53vlj61tN+I17JEX2Xr282SDh9/TIbs5eD37YDRvPXvpTqV6vcI+Jdou5f1XWzr0fwL5ZiW+a9uZY0T7lBpzNioFsfVOJdr9WXGnkt+DulG+B7Vk+3eyZa+m4qCdbEBVwWCbT41Ke1H1/tOgdbtoE6reg3qa7kHd1HtQo+4Ce2l3gfLeAoO4X0YSBfWstUAr7Bo3jMXtBdiatMGA7i5Qj3pshO4C4rokdtVdwPeNOYv7xnD7o6W6xnzWoTBIWsdwRFjrGGNBw5ikT4YyelDaN+ZU+sYcUp+k4r4xlTqCHc7radcsagiWBINvCGYdwYxqHcFO855g1BWMWs2VtwRTHcHQ9aOoI9jcXo/S3NEP/3tOHBSuRV4WGNbq0ajW7DFr+Mg9F2Oy5qfS6/Eg9HpUib2ki+8ed/HtL27iK91PS9ugWhtf4zW6+H7MO/lux518ky6+2vWsZ3VRf/ZqzdnD70l39m1rz268eoN2TML9/Vi90J/9ZE5/9kUnbyx77gYOfdqGHbxhvPLRGycFZ2+EkzfO+LQZOXnjZi0/Z6boTKVFJyrJLy84UcmOVDJefqhSctDYnDOVotPy3GGQ1Q7LO8JhZ+UZ731cHoqojsuT0/Ju1uYeDpmfg/pmp6DaMajGWx2EOvcc1OTg32oHXN+89HxrO+DaeNMjrqsd7M5Huxfy/Y9ZM4wlWVoyZ+mHd2LdMF7Ma5j4P+hE04Z78rHKAAAAAElFTkSuQmCC";var laserPausedImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAuwAAAAvCAMAAACPHW/9AAAAYFBMVEVHcExUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFTyNFUyNE9ws1UyNFUyNFUyNFTyNFCxM5UyNFHxc9RyNE5wcwd5ZO7AAAAH3RSTlMAZ35yAQgbBAwTI4lbRDmUoKtQLrc080osVZvhKMyyq5oARwAAB8JJREFUeNrtnYtS4koQhhUENRFRRBQRff+3PNP3nktCRHbPqTr9T5jErdrVrfr6t5PMdF9d/XndhEK/1H8T0dtQ6K/ol7FxAWIX+Veh0AVVoLaYEAojoP8C1btQ6O8KmBsPiSbwnvSfsHvPB4w7ucBhRyh0EQlROgw5/kKjwDNf4G6ke8yngrrkaYmDr+hIk35CoXPlOKJTAZxQSCHhiK9xV9aFdKN3BNNOJ5w7nTs60tR1PIdCZ2pp52VHXC3lBMh1SqEGBjHPvJe056gj6UsFt6HPdMAH5s9K73zQ9I6Tnlp6CYVqGSCf/hK4+pQTq6OJg4KQF+AVdzV2Yt2jjlDjP1ux2cLzFUZTj3A8hkLn6JXn1yEReRofSD0gT7wb7WLtjnVGHTkHpo3YbIxrBccKjlDoskKucLQiA+lPzAPw7O6OdoNdWGfUCXSBtxhyKnh+g5GEU0sbGqHQKb1tGJYBlFY854EgyL+8GO5CO8HOxm6sA+oIOsEsDBffqODYaZ+OfTpMD6HQWdrLKQ0T8JWFhqIJzAPviHuDdjV2ZZ1RB9ALjgXmzd7jDD/S/qFG+pqGnUKhn+iBJkUojToaLAwIe+Q94f5utJewo7Ej68nWkXTkfIov489AP5PTPA0+zfmY21eh0KgEE4GHh2DlwsFHAQAvuCvtYO0edjV29HVgnUh3/vxwPeLOAnGB8awcIrsKhXLNGY+5Xs95QqJ8PABzHn5kHnh3tDtrB9idsad7U2adSDeY9eCpsueZwV2r7+lInxme+15OoVCtmcwzZgYpqoOCsWP6EXjAHdw90Y53qWbtBjsbO7KebF1QL3Cm06yJdT9jlBXjNQ1/QvEpFCrUu6t+vc4B8rEAmOX0E6CKO3q7WbvBTlmMJOyJdUad4B6U0t0b3X2J8sdHOgo9PcGUBkyhEIphIELwYK1pAph8LHj6e3Z/wZ1p50SG8pgbn7KzsaccZg+oK+gDCcea4e6N7g+Hdv4feYYRCv1IT8/PRE4WExYEAr/aPvGutIu1Ux6T7lARdjV2TGI2zDom2y4d6UvTZr4rujOwv56/vvQj2tIIhTIxGIUSRIkeHwQV/Agj8Q7unmgvrL2GHZMY9nVCvfDrD8k8GGTgFnQUHY4H067SN4xv/IRCA9p9IyeAS6bDzthKpJG2RwqTFAxA/pp4v0bazdqHYSfWGfXCs51tM+nHLX5LZZ1x38kwzr9tootQqME5kQFnYl5QJ6CYdcOdgUfchfaUyoC1D8LedZTFJGNnX/eoU9b95HMTJn0rpAPqauye853EKYNunAfvoYx0vVJ3d/Z+8N5+VNq3Ge2QzaC1b+DxI+Qxbdg/4fZ0442dWLc7BYe6ZNyKumd9dyh8fWesh7OHTno7o54lM4ec92OWyhydtc+asN82nV1gtyTm+Snz9crYt01nrzj3pLfiOfQ/t/WdT9kbeXuGepbFHC1td87+yrDfD+bslsb0RcpON8HFvamzdkvZd2buyrsDPjtCoTx/cfeombET621nB9iJ9fWUnL28QeU71LU+hDHuFXez9/phzO7QeBKzC7xDU4DftY39MJTDoK9Lyi6wjz6NyZ6zu/dJ/Oq2krzcGnvOrnGhj9jtcvu1jSfuoS8/CIniYXv1tql6zN54zr5qP2fP36Bu9rJYYKbvlXgZV/0a1cVA/TRen+M82Q1uvEkNTXt7ys9F+Jax8Qb1w1bU9PIGdT72BvXU2pjB9bi6irGIgew3QGthDK16gGiIpTEhvzYGgfjQ1TFea8d2c21MP2VtzPCqx2LRY75GvV726NaEzZr+H2sdQ+csg2xxravF3YrfYtXjamDV4/B69odsb4Yuma83G7UX/orzZxexkj00bU27QqMI5dt/5oJ4vqB9bD37lJ1KugHK9gaWW/Aa2zlm/heBj4LYqRQa36k0L7ZoCNSzYqOS36pEG5XGdypN2YO69xtc29uqiyiY2xanYkfhtW0zDIXG9qEaN5JdtPZku53Y+/3pPagj1QVaVT2stMCD1hfgKgMaAdmmcPndEAqdridwnW13tu3PVYGBPeKt9QVcdYHHkeoCi2bdGKuB9DasRuWjfVYzBn4U/o3gym5w0YIoKRNqFYmRCyOmVF43hsopcbEkrJPUrhszXBFMC4LVFcHa4npKqywWaJKIeMvLPoVCw0XB+PxWFwdbYTmwt6o4nlQEex+oCCbWPlbr0RcqxWqTUgGyVebRRUUodPFqj4JYWfDxNav1WLBusOdVfJdVFd/091/k896q4Gs1VduFfF1J1KjoG5pUvZeReR2u4fviSvm6Mr6uii+zvrAqvpzHtOqzj8nXZu/qQu3D9dijPHvoRGn2F/XUkpbPrDC7VWdnyLVA+1B99qrzhnaPmdwehnsgVO0Lou9G6A904ei6svdG1XhDSF8M95nJeyqdbKR0r81tfI8buaBQuY+OSqFLNVVSsvyF76zkQB/oqZThzt3ysPHeYqRDnmtTZh3yrK0Zf+7sD0KhczvkOYQyohyM2jAvsbsY65ZX9UFd/KAP6p2c7vwVd6ksm1ZG787Q+V1P2X4BOYKNDfzOMETKF+N9UH/V4XpRNB1e6BdFM1b+hEKT+lkLLbd5P1+meZGBVzZX/0Fjdwf+dN3+pg98KPRDjbF49S/pJhT6tS5B4j8UFQCShr1YqAAAAABJRU5ErkJggg==";var cameraImage="PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MCA1MCIgd2lkdGg9IjEwMCIgaGVpZ2h0PSIxMDAiIGZpbGw9IiNmZmYiPjxwYXRoIGQ9Ik0xNyA1Yy0uOCAwLTEuNC41LTEuOCAxLS40LjUtLjcgMS0xLjEgMS41cy0uNiAxLS44IDEuM2wtLjMuM0gzYy0xLjYgMC0zIDEuNC0zIDN2MjdjMCAxLjYgMS40IDMgMyAzaDQ0YzEuNiAwIDMtMS40IDMtM3YtMjdjMC0xLjYtMS40LTMtMy0zSDM3bC0uMy0uM2MtLjItLjMtLjUtLjctLjgtMS4ycy0uNi0xLTEuMS0xLjVjLS40LS41LTEtMS0xLjgtMXptMCAyaDE2Yy0uMSAwIC4xIDAgLjMuM3MuNS44LjggMS4zLjcgMSAxLjEgMS41IDEgMSAxLjggMWgxMGMuNiAwIDEgLjQgMSAxdjI3YzAgLjYtLjQgMS0xIDFIM2MtLjYgMC0xLS40LTEtMXYtMjdjMC0uNi40LTEgMS0xaDEwYy44IDAgMS40LS41IDEuOC0xcy44LTEgMS4xLTEuNS42LTEgLjgtMS4yLjQtLjMuMy0uM3ptOCA0Yy03LjIgMC0xMyA1LjgtMTMgMTNzNS44IDEzIDEzIDEzIDEzLTUuOCAxMy0xMy01LjgtMTMtMTMtMTN6bTAgMmM2LjEgMCAxMSA0LjkgMTEgMTFzLTQuOSAxMS0xMSAxMS0xMS00LjktMTEtMTEgNC45LTExIDExLTExek04IDE0Yy0xLjEgMC0yIC45LTIgMnMuOSAyIDIgMmgxYzEuMSAwIDItLjkgMi0ycy0uOS0yLTItMnptMTcgMWMtNSAwLTkgNC05IDlzNCA5IDkgOSA5LTQgOS05LTQtOS05LTl6bTAgMmMzLjkgMCA3IDMuMSA3IDdzLTMuMSA3LTcgNy03LTMuMS03LTcgMy4xLTcgNy03eiIvPjwvc3ZnPgo=";var folderImage="PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNzIgMTcyIiB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgZmlsbD0iI2ZmZiI+PHBhdGggZD0iTTEwLjMgMTMuOEM0LjcgMTMuOCAwIDE4LjQgMCAyNHYxMjdjLS4yLjctLjEgMS42LjIgMi4zIDEgNC43IDUuMiA4LjMgMTAuMSA4LjNoMTM0LjJjNS4xIDAgOS4zLTMuOSAxMC04LjhsLjItLjd2LS4ybC4xLS41di0uMWwxNy05Mi4zLjItLjN2LS4zYzAtNS43LTQuNy0xMC4zLTEwLjMtMTAuM1YzNy44YzAtNS42LTQuNy0xMC4zLTEwLjMtMTAuM0g2MmE3IDcgMCAwIDEtMS0xYy0uOS0xLTEuOS0yLjUtMy00LjItMS0xLjgtMi4yLTMuNi0zLjYtNS4ycy0zLjQtMy4zLTYuMi0zLjN6bTAgNi44aDM3LjljLS4zIDAgLjIgMCAxIDEgLjkgMSAxLjkgMi42IDMgNC4zYTQxIDQxIDAgMCAwIDMuNiA1LjJjMS40IDEuNiAzLjMgMy4zIDYuMSAzLjNoODkuNWMxLjkgMCAzLjQgMS41IDMuNCAzLjR2MTAuNEgyNy41Yy01LjQgMC05LjcgNC4zLTEwIDkuNmgtLjJsLS4xLjctMTAuMyA1NS43VjI0YzAtMiAxLjUtMy41IDMuNC0zLjV6TTI3LjUgNTVoMTM0LjJjMiAwIDMuNCAxLjUgMy40IDMuNWwtMTYuOSA5MS4ydi4zbC0uMi40VjE1MWwtLjIuNnYuN2EzLjQgMy40IDAgMCAxLTMuMyAyLjRIMTAuM2MtMiAwLTMuNC0xLjUtMy40LTMuNGwxNy05Mi4zLjItLjN2LS4zYzAtMiAxLjUtMy41IDMuNC0zLjV6Ii8+PC9zdmc+Cg==";var switchCameraImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NCA2NCIgd2lkdGg9IjEwMCIgaGVpZ2h0PSIxMDAiIGZpbGw9IiNmZmYiPjxwYXRoIGQ9Ik0yNi4xNCA4YTQuOTkgNC45OSAwIDAgMC00LjE2IDIuMjI3bC0yLjIxOCAzLjMyOGExLjAwMyAxLjAwMyAwIDAgMS0uODMyLjQ0NUgxOHYtMmMwLTEuMTAyLS44OTgtMi0yLTJoLTZjLTEuMTAyIDAtMiAuODk4LTIgMnYySDVjLTEuNjUyIDAtMyAxLjM0OC0zIDN2MzZjMCAxLjY1MiAxLjM0OCAzIDMgM2g1NGMxLjY1MiAwIDMtMS4zNDggMy0zVjE3YzAtMS42NTItMS4zNDgtMy0zLTNoLTN2LTFjMC0xLjEwMi0uODk4LTItMi0yaC0yYy0xLjEwMiAwLTIgLjg5OC0yIDJ2MWgtNC45MzhhLjk5Ny45OTcgMCAwIDEtLjgyOC0uNDQxbC0yLjI1NC0zLjM1MkE1LjAwMSA1LjAwMSAwIDAgMCAzNy44MjggOHptMCAyaDExLjY4OGMxIDAgMS45MzQuNDk2IDIuNDkyIDEuMzI0bDIuMjU0IDMuMzUyQTIuOTk4IDIuOTk4IDAgMCAwIDQ1LjA2MyAxNkg1OWMuNTUgMCAxIC40NSAxIDF2MzZjMCAuNTUtLjQ1IDEtMSAxSDVjLS41NSAwLTEtLjQ1LTEtMVYxN2MwLS41NS40NS0xIDEtMWgxMy45M2MxLjAwNCAwIDEuOTM3LS41IDIuNDk2LTEuMzM2bDIuMjE5LTMuMzI4QTIuOTk4IDIuOTk4IDAgMCAxIDI2LjE0IDEwek0xMCAxMmg2djJoLTZ6bTQyIDFoMnYxaC0yem0tMjAgNWMtNS4yOSAwLTEwLjI0NiAyLjgzNi0xMi45MzQgNy4zOThhLjk5Ni45OTYgMCAwIDAgLjM1NiAxLjM2OC45OTcuOTk3IDAgMCAwIDEuMzY3LS4zNTZBMTMuMDY1IDEzLjA2NSAwIDAgMSAzMiAyMGM3LjE2OCAwIDEzIDUuODMyIDEzIDEzIDAgLjE4OC0uMDE2LjM3NS0uMDIzLjU2M2wtMi4yNy0yLjI3YTEgMSAwIDEgMC0xLjQxNCAxLjQxNGw0IDRjLjE5NS4xOTUuNDUuMjkzLjcwNy4yOTNhLjk5My45OTMgMCAwIDAgLjcwNy0uMjkzbDQtNGExIDEgMCAxIDAtMS40MTQtMS40MTRsLTIuMzIgMi4zMTZjLjAxMS0uMjAzLjAyNy0uNDA2LjAyNy0uNjA5IDAtOC4yNy02LjczLTE1LTE1LTE1ek0xOCAyOWExIDEgMCAwIDAtLjcwNy4yOTNsLTQgNGExIDEgMCAxIDAgMS40MTQgMS40MTRsMi4zMTMtMi4zMTZjLS4wMDguMjAzLS4wMi40MDYtLjAyLjYwOSAwIDguMjcgNi43MyAxNSAxNSAxNSA1LjM2NyAwIDEwLjM2LTIuODk4IDEzLjAyNy03LjU2M2EuOTk5Ljk5OSAwIDEgMC0xLjczNC0uOTkyQTEzLjA0MiAxMy4wNDIgMCAwIDEgMzIgNDZjLTcuMTY4IDAtMTMtNS44MzItMTMtMTMgMC0uMTg4LjAxMi0uMzc5LjAyLS41NjZsMi4yNzMgMi4yNzNjLjE5NS4xOTUuNDUuMjkzLjcwNy4yOTNhMSAxIDAgMCAwIC43MDctMS43MDdsLTQtNEExIDEgMCAwIDAgMTggMjl6bTkgMmMtLjU1NSAwLTEgLjQ0NS0xIDF2MmMwIC41NTUuNDQ1IDEgMSAxIC41NTUgMCAxLS40NDUgMS0xdi0yYzAtLjU1NS0uNDQ1LTEtMS0xem01IDBjLS41NTUgMC0xIC40NDUtMSAxdjJjMCAuNTU1LjQ0NSAxIDEgMSAuNTU1IDAgMS0uNDQ1IDEtMXYtMmMwLS41NTUtLjQ0NS0xLTEtMXptNSAwYy0uNTU1IDAtMSAuNDQ1LTEgMXYyYzAgLjU1NS40NDUgMSAxIDEgLjU1NSAwIDEtLjQ0NSAxLTF2LTJjMC0uNTU1LS40NDUtMS0xLTF6Ii8+PC9zdmc+Cg==";var toggleTorchImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NCA2NCIgd2lkdGg9IjEwMCIgaGVpZ2h0PSIxMDAiIGZpbGw9IiNmZmYiPjxwYXRoIGQ9Ik0zMC45MzggMWMtLjQ0Ni4wMi0xIC4yMy0xLjMxMy42NTZhMS4zMDIgMS4zMDIgMCAwIDAtLjA2My4wOTRsLTYuNzggMTIuMDYzLS4wNjMuMDkzYy0uNTU1Ljc4NS0uNzI3IDEuNzMtLjU5NCAyLjY1NmwtMjAuNSAyMi41NjMtLjAzMS4wMzFjLTEuMDcgMS4yMTktLjY2NCAzLjAxMi40NjggNC4xNTdoLjAzMmw0LjU5NCA0LjU5M2MuNTcuNTcgMS4yNjUuOTUgMiAxLjA2My43MzQuMTEzIDEuNTQ2LS4wNTUgMi4xNTYtLjU5NGguMDMxbDIyLjU2My0yMC41Yy45My4xMjkgMS44Ny0uMDQzIDIuNjU2LS41OTQuMDItLjAxNS4wNDMtLjAxNS4wNjItLjAzMWwuMDYzLS4wMzEgMTIuMDMxLTYuNzgyYy4wMzEtLjAxOS4wNjMtLjAzOS4wOTQtLjA2Mi40MjItLjMxMy42MzYtLjg2Ny42NTYtMS4zMTMuMDItLjQ0NS0uMDk4LS44NC0uMjUtMS4yNS0uMzA1LS44Mi0uODI4LTEuNjktMS41MzEtMi42ODctMS40MDctMS45OTItMy41MTYtNC4zOS01Ljc1LTYuNjI1LTIuMjM1LTIuMjM0LTQuNjAyLTQuMzEzLTYuNTk0LTUuNzE5LS45OTYtLjcwMy0xLjg2Ny0xLjIyNi0yLjY4OC0xLjUzMS0uNDEtLjE1Mi0uODA0LS4yNy0xLjI1LS4yNXptLjIxOCAyLjAzMWMuMDc4LjAxMi4xNTMuMDI0LjM0NC4wOTQuNTIuMTkxIDEuMy42MzMgMi4yMTkgMS4yODEgMS44MzYgMS4yOTcgNC4xNjggMy4zNTYgNi4zNDMgNS41MzIgMi4xNzYgMi4xNzUgNC4yMzUgNC40NzYgNS41MzIgNi4zMTIuNjQ4LjkxOCAxLjA5IDEuNzMgMS4yODEgMi4yNS4wNy4xOTEuMDgyLjI2Ni4wOTQuMzQ0TDM1LjEyNSAyNS41M2EuOTQ5Ljk0OSAwIDAgMC0uMTI1LjA5NGMtLjMxNi4yNDItLjg2LjMyOC0xLjQzOC4yMTlhMS4wNTYgMS4wNTYgMCAwIDAtLjE4Ny0uMDYzIDMuMTEzIDMuMTEzIDAgMCAxLTEuNDM4LS44MTJsLTYuOTA2LTYuOTA3Yy0uOTc2LS45ODQtMS4xMjktMi40MzctLjY1Ni0zLjA2MmEuNTMyLjUzMiAwIDAgMCAuMDk0LS4wOTR6bS04LjIxOCAxNS41OTRjLjE5OS4yOTcuNDMuNTg2LjY4Ny44NDRsNi45MDYgNi45MDZjLjI2Mi4yNjIuNTQzLjQ4OC44NDQuNjg4TDkuNTMxIDQ2LjkwNmMtLjA4Ni4wNzgtLjI1NC4xMzctLjUzMS4wOTQtLjI3Ny0uMDQzLS42MjktLjIyMy0uOTA2LS41TDMuNSA0MS45MDZjLS41NTktLjU2Ni0uNTYzLTEuMjYxLS40MDYtMS40Mzd6bS0yLjg3NSA4LjMxM2MtLjc3IDAtMS41NDMuMjkyLTIuMTI1Ljg3NWwtMi4xMjUgMi4xMjVhMy4wMjMgMy4wMjMgMCAwIDAgMCA0LjI1IDMuMDIzIDMuMDIzIDAgMCAwIDQuMjUgMGwyLjEyNS0yLjEyNmEzLjAyMyAzLjAyMyAwIDAgMCAwLTQuMjUgMy4wMDIgMy4wMDIgMCAwIDAtMi4xMjUtLjg3NXptMCAyYy4yNTMgMCAuNTE5LjA4Mi43MTguMjguMzk5LjQuMzk5IDEuMDQgMCAxLjQzOGwtMi4xMjUgMi4xMjVhMS4wMTQgMS4wMTQgMCAwIDEtMS40MzcgMCAxLjAxNCAxLjAxNCAwIDAgMSAwLTEuNDM3Yy40MjItLjQyMiAxLjY5OS0xLjY5NiAyLjEyNS0yLjEyNS4xOTktLjIuNDY1LS4yODIuNzE4LS4yODJ6Ii8+PC9zdmc+Cg==";var Camera;(function(e){(function(e){e["FRONT"]="front";e["BACK"]="back"})(e.Type||(e.Type={}))})(Camera||(Camera={}));var $export$5=_export;$export$5($export$5.S,"Array",{isArray:_isArray});var isArray$1=_core.exports.Array.isArray;var isArray=isArray$1;function _arrayLikeToArray$1(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function _arrayWithoutHoles(e){if(isArray(e))return _arrayLikeToArray$1(e)}function _iterableToArray(e){if(typeof symbol!=="undefined"&&e[iterator]!=null||e["@@iterator"]!=null)return from$1(e)}function _unsupportedIterableToArray$1(e,t){if(!e)return;if(typeof e==="string")return _arrayLikeToArray$1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return from$1(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _arrayLikeToArray$1(e,t)}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray$1(e)||_nonIterableSpread()}var core=_core.exports;var $JSON=core.JSON||(core.JSON={stringify:JSON.stringify});var stringify$1=function e(t){return $JSON.stringify.apply($JSON,arguments)};var stringify=stringify$1;var ImageSettings;(function(e){(function(e){e[e["GRAY_8U"]=0]="GRAY_8U";e[e["RGB_8U"]=1]="RGB_8U";e[e["RGBA_8U"]=2]="RGBA_8U"})(e.Format||(e.Format={}))})(ImageSettings||(ImageSettings={}));
/**
 * A data string parser.
 *
 * Parsers are capable of parsing one particular data format, which is passed to them during construction.
 *
 * The parser is created through [[BarcodePicker.createParserForFormat]] or [[Scanner.createParserForFormat]].
 *
 * Note that you need to have a valid license key with the parsing feature enabled to use the parser functionalities.
 *
 * For documentation on the available formats, check the official parser library documentation here:
 * https://docs.scandit.com/parser/formats.html.
 */var Parser=function(){function e(t,r){_classCallCheck(this,e);_defineProperty(this,"scanner",void 0);_defineProperty(this,"dataFormat",void 0);_defineProperty(this,"options",void 0);this.scanner=t;this.dataFormat=r}_createClass(e,[{key:"setOptions",value:function e(t){this.options=t}},{key:"parseRawData",value:function e(t){return this.scanner.parse(this.dataFormat,t,this.options)}
/**
     * Process the given string data with the parser, retrieving the result as a [[ParserResult]] object.
     *
     * Multiple requests done without waiting for previous results will be queued and handled in order.
     *
     * If parsing of the data fails the returned promise is rejected with a `ScanditEngineError` error.
     *
     * Note that you should use [[parseRawData]] whenever possible: some codes, such as those found on driving licenses,
     * might have non-printable characters and will need to use [[Barcode.rawData]] information to be parsed correctly.
     *
     * @param data The string data to be parsed.
     * @returns A promise resolving to the [[ParserResult]] object.
     */},{key:"parseString",value:function e(t){return this.scanner.parse(this.dataFormat,t,this.options)}}]);return e}();(function(e){(function(e){e[e["GS1_AI"]=1]="GS1_AI";e[e["HIBC"]=2]="HIBC";
/**
     * AAMVA Driver License/Identification (DL/ID).
     *
     * See: http://www.aamva.org.
     */e[e["DLID"]=3]="DLID";e[e["MRTD"]=4]="MRTD";e[e["SWISSQR"]=5]="SWISSQR";e[e["VIN"]=6]="VIN";e[e["US_USID"]=7]="US_USID"})(e.DataFormat||(e.DataFormat={}))})(Parser||(Parser={}));var RecognizedText;(function(e){function t(e){return{location:{topLeft:{x:e.location[0][0],y:e.location[0][1]},topRight:{x:e.location[1][0],y:e.location[1][1]},bottomRight:{x:e.location[2][0],y:e.location[2][1]},bottomLeft:{x:e.location[3][0],y:e.location[3][1]}},value:e.value}}e.createFromWASMResult=t})(RecognizedText||(RecognizedText={}));var ScanResult=function(){function e(t,r,n,i){var a=this;_classCallCheck(this,e);_defineProperty(this,"barcodes",void 0);_defineProperty(this,"texts",void 0);_defineProperty(this,"imageData",void 0);_defineProperty(this,"imageSettings",void 0);_defineProperty(this,"rejectedCodes",void 0);_defineProperty(this,"rejectedTexts",void 0);this.barcodes=[];t.forEach(function(e){a.barcodes.push(Barcode.createFromWASMResult(e))});this.texts=[];r.forEach(function(e){a.texts.push(RecognizedText.createFromWASMResult(e))});this.imageData=n;this.imageSettings=i;this.rejectedCodes=new set;this.rejectedTexts=new set}_createClass(e,[{key:"rejectCode",value:function e(t){this.rejectedCodes.add(t)}},{key:"rejectText",value:function e(t){this.rejectedTexts.add(t)}}]);return e}();var DESCRIPTORS$1=_descriptors;var getKeys$1=_objectKeys;var toIObject$1=_toIobject;var isEnum=_objectPie.f;var _objectToArray=function(e){return function(t){var r=toIObject$1(t);var n=getKeys$1(r);var i=n.length;var a=0;var o=[];var s;while(i>a){s=n[a++];if(!DESCRIPTORS$1||isEnum.call(r,s)){o.push(e?[s,r[s]]:r[s])}}return o}};var $export$4=_export;var $values=_objectToArray(false);$export$4($export$4.S,"Object",{values:function e(t){return $values(t)}});var values$1=_core.exports.Object.values;var values=values$1;var SymbologySettings=function(){function e(t){var r,n,i;var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;_classCallCheck(this,e);_defineProperty(this,"symbology",void 0);_defineProperty(this,"enabled",void 0);_defineProperty(this,"colorInvertedEnabled",void 0);_defineProperty(this,"activeSymbolCounts",void 0);_defineProperty(this,"extensions",void 0);_defineProperty(this,"checksums",void 0);this.symbology=t;this.enabled=a;this.colorInvertedEnabled=false;this.activeSymbolCounts=(r=e.defaultActiveSymbolCounts[t])!==null&&r!==void 0?r:[];this.extensions=new set((n=e.defaultExtensions[t])!==null&&n!==void 0?n:[]);this.checksums=new set((i=e.defaultChecksums[t])!==null&&i!==void 0?i:[])}_createClass(e,[{key:"isEnabled",value:function e(){return this.enabled}},{key:"setEnabled",value:function e(t){this.enabled=t;return this}},{key:"isColorInvertedEnabled",value:function e(){return this.colorInvertedEnabled}},{key:"setColorInvertedEnabled",value:function e(t){this.colorInvertedEnabled=t;return this}},{key:"getActiveSymbolCounts",value:function e(){return this.activeSymbolCounts}},{key:"setActiveSymbolCounts",value:function t(r){this.activeSymbolCounts=r;if(this.activeSymbolCounts.length===0){var n;this.activeSymbolCounts=(n=e.defaultActiveSymbolCounts[this.symbology])!==null&&n!==void 0?n:[]}return this}},{key:"setActiveSymbolCountsRange",value:function t(r,n){this.activeSymbolCounts=e.getNumberRange(r,n);if(this.activeSymbolCounts.length===0){var i;this.activeSymbolCounts=(i=e.defaultActiveSymbolCounts[this.symbology])!==null&&i!==void 0?i:[]}return this}},{key:"getEnabledExtensions",value:function e(){return this.extensions}},{key:"enableExtensions",value:function e(t){var r=this;if(typeof t==="object"){this.extensions=new set([].concat(_toConsumableArray(this.extensions),_toConsumableArray(from$1(t).filter(function(e){return r.isValidExtension(e)}))))}else if(this.isValidExtension(t)){this.extensions.add(t)}return this}},{key:"disableExtensions",value:function e(t){if(typeof t==="object"){this.extensions=new set(_toConsumableArray(this.extensions).filter(function(e){return t instanceof Array?!t.includes(e):!t.has(e)}))}else if(this.isValidExtension(t)){this.extensions.delete(t)}return this}},{key:"getEnabledChecksums",value:function e(){return this.checksums}},{key:"enableChecksums",value:function e(t){var r=this;if(typeof t==="object"){this.checksums=new set([].concat(_toConsumableArray(this.checksums),_toConsumableArray(from$1(t).filter(function(e){return r.isValidChecksum(e)}))))}else if(this.isValidChecksum(t)){this.checksums.add(t)}return this}},{key:"disableChecksums",value:function e(t){if(typeof t==="object"){this.checksums=new set(_toConsumableArray(this.checksums).filter(function(e){return t instanceof Array?!t.includes(e):!t.has(e)}))}else if(this.isValidChecksum(t)){this.checksums.delete(t)}return this}},{key:"toJSON",value:function e(){return{enabled:this.enabled,colorInvertedEnabled:this.colorInvertedEnabled,activeSymbolCounts:this.activeSymbolCounts.length===0?undefined:this.activeSymbolCounts,extensions:from$1(this.extensions),checksums:from$1(this.checksums)}}},{key:"isValidExtension",value:function t(r){return r in e.Extension||values(e.Extension).includes(r.toLowerCase())}},{key:"isValidChecksum",value:function t(r){return r in e.Checksum||values(e.Checksum).includes(r.toLowerCase())}}]);return e}();(function(e){function t(e,t){return from$1({length:t-e+1},function(t,r){return r+e})}e.getNumberRange=t;var r;(function(e){e["DIRECT_PART_MARKING_MODE"]="direct_part_marking_mode";e["FULL_ASCII"]="full_ascii";e["RELAXED_SHARP_QUIET_ZONE_CHECK"]="relaxed_sharp_quiet_zone_check";e["REMOVE_LEADING_ZERO"]="remove_leading_zero";e["REMOVE_LEADING_UPCA_ZERO"]="remove_leading_upca_zero";e["RETURN_AS_UPCA"]="return_as_upca";e["STRICT"]="strict";e["STRIP_LEADING_FNC1"]="strip_leading_fnc1";e["DEBUG_CONTROL_CHARACTERS"]="debug_control_characters";e["GUESS_ENCODING"]="guess_encoding";e["MIRRORED"]="mirrored";e["NO_BLURRY_DECODING"]="no_blurry_decoding";e["USE_UTF8_AS_DEFAULT_ENCODING"]="use_utf8_as_default_encoding"})(r=e.Extension||(e.Extension={}));var n;(function(e){e["MOD_10"]="mod10";e["MOD_11"]="mod11";e["MOD_16"]="mod16";e["MOD_43"]="mod43";e["MOD_47"]="mod47";e["MOD_103"]="mod103";e["MOD_1010"]="mod1010";e["MOD_1110"]="mod1110"})(n=e.Checksum||(e.Checksum={}));e.defaultActiveSymbolCounts={[Barcode.Symbology.CODABAR]:t(7,20),[Barcode.Symbology.CODE11]:t(7,20),[Barcode.Symbology.CODE128]:t(6,40),[Barcode.Symbology.CODE25]:t(7,20),[Barcode.Symbology.CODE32]:[8],[Barcode.Symbology.CODE39]:t(6,40),[Barcode.Symbology.CODE93]:t(6,40),[Barcode.Symbology.EAN13]:[12],[Barcode.Symbology.EAN8]:[8],[Barcode.Symbology.FIVE_DIGIT_ADD_ON]:[5],[Barcode.Symbology.GS1_DATABAR_EXPANDED]:t(1,11),[Barcode.Symbology.GS1_DATABAR_LIMITED]:[1],[Barcode.Symbology.GS1_DATABAR]:[2],[Barcode.Symbology.IATA_2_OF_5]:t(7,20),[Barcode.Symbology.INTERLEAVED_2_OF_5]:t(6,40),[Barcode.Symbology.KIX]:t(7,24),[Barcode.Symbology.LAPA4SC]:[16],[Barcode.Symbology.MSI_PLESSEY]:t(6,32),[Barcode.Symbology.RM4SCC]:t(7,24),[Barcode.Symbology.TWO_DIGIT_ADD_ON]:[2],[Barcode.Symbology.UPCA]:[12],[Barcode.Symbology.UPCE]:[6]};e.defaultExtensions={[Barcode.Symbology.CODE128]:[r.STRIP_LEADING_FNC1],[Barcode.Symbology.DATA_MATRIX]:[r.STRIP_LEADING_FNC1]};e.defaultChecksums={[Barcode.Symbology.MSI_PLESSEY]:[n.MOD_10],[Barcode.Symbology.CODE11]:[n.MOD_11]}})(SymbologySettings||(SymbologySettings={}));var TextRecognitionSettings=function(){function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},r=t.recognizer,n=r===void 0?"mrzFullScreen":r,i=t.regex,a=t.characterWhitelist,o=t.textDuplicateFilter,s=o===void 0?0:o;_classCallCheck(this,e);_defineProperty(this,"properties",void 0);_defineProperty(this,"recognizer",void 0);_defineProperty(this,"regex",void 0);_defineProperty(this,"characterWhitelist",void 0);_defineProperty(this,"textDuplicateFilter",void 0);this.recognizer=n;this.regex=i instanceof RegExp?i.source:i;this.characterWhitelist=a;this.textDuplicateFilter=s;this.properties=new map}_createClass(e,[{key:"toJSONString",value:function e(){var t={};this.properties.forEach(function(e,r){t[r]=e});return stringify({recognizer:this.recognizer,regex:this.regex,characterWhitelist:this.characterWhitelist,duplicateFilter:this.textDuplicateFilter,properties:t})}},{key:"getRegex",value:function e(){return this.regex}},{key:"setRegex",value:function e(t){this.regex=t instanceof RegExp?t.source:t;return this}},{key:"getCharacterWhitelist",value:function e(){return this.characterWhitelist}},{key:"setCharacterWhitelist",value:function e(t){this.characterWhitelist=t;return this}},{key:"getTextDuplicateFilter",value:function e(){return this.textDuplicateFilter}},{key:"setTextDuplicateFilter",value:function e(t){this.textDuplicateFilter=t;return this}},{key:"getProperty",value:function e(t){if(this.properties.has(t)){return this.properties.get(t)}return-1}},{key:"setProperty",value:function e(t,r){this.properties.set(t,r);return this}}]);return e}();function _createForOfIteratorHelper(e,t){var r=typeof symbol!=="undefined"&&e[iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=_unsupportedIterableToArray(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var i=function e(){};return{s:i,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=true,o=false,s;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();a=t.done;return t},e:function e(t){o=true;s=t},f:function e(){try{if(!a&&r.return!=null)r.return()}finally{if(o)throw s}}}}function _unsupportedIterableToArray(e,t){if(!e)return;if(typeof e==="string")return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return from$1(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _arrayLikeToArray(e,t)}function _arrayLikeToArray(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}var ScanSettings=function(){function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},r=t.textRecognitionSettings,n=r===void 0?new TextRecognitionSettings:r,i=t.recognitionMode,a=i===void 0?e.RecognitionMode.CODE:i,o=t.enabledSymbologies,s=o===void 0?[]:o,c=t.codeDuplicateFilter,u=c===void 0?0:c,l=t.maxNumberOfCodesPerFrame,d=l===void 0?1:l,f=t.searchArea,h=f===void 0?{x:0,y:0,width:1,height:1}:f,v=t.gpuAcceleration,p=v===void 0?true:v,g=t.blurryRecognition,m=g===void 0?true:g,y=t.codeDirectionHint,b=y===void 0?e.CodeDirection.LEFT_TO_RIGHT:y,_=t.deviceName;_classCallCheck(this,e);_defineProperty(this,"symbologySettings",void 0);_defineProperty(this,"properties",void 0);_defineProperty(this,"textRecognitionSettings",void 0);_defineProperty(this,"recognitionMode",void 0);_defineProperty(this,"codeDuplicateFilter",void 0);_defineProperty(this,"maxNumberOfCodesPerFrame",void 0);_defineProperty(this,"baseSearchArea",void 0);_defineProperty(this,"searchArea",void 0);_defineProperty(this,"gpuAcceleration",void 0);_defineProperty(this,"blurryRecognition",void 0);_defineProperty(this,"codeDirectionHint",void 0);_defineProperty(this,"deviceName",void 0);this.symbologySettings=new map;this.textRecognitionSettings=n;this.setRecognitionMode(a);this.enableSymbologies(s);this.codeDuplicateFilter=u;this.maxNumberOfCodesPerFrame=d;this.baseSearchArea={x:0,y:0,width:1,height:1};this.searchArea=h;this.gpuAcceleration=p;this.blurryRecognition=m;this.codeDirectionHint=b;this.deviceName=_;this.properties=new map([["advanced_localization",0]])}_createClass(e,[{key:"toJSONString",value:function e(){var t={};this.symbologySettings.forEach(function(e,r){t[Barcode.Symbology.toJSONName(r)]=e});var r={};this.properties.forEach(function(e,t){r[t]=e});var n={x:Math.max(0,Math.min(1,this.baseSearchArea.x+this.searchArea.x*this.baseSearchArea.width)),y:Math.max(0,Math.min(1,this.baseSearchArea.y+this.searchArea.y*this.baseSearchArea.height)),width:Math.max(0,Math.min(1,this.baseSearchArea.width*this.searchArea.width)),height:Math.max(0,Math.min(1,this.baseSearchArea.height*this.searchArea.height))};var i=Math.round(n.x*100)===0&&Math.round(n.y*100)===0&&Math.round(n.width*100)===100&&Math.round(n.height*100)===100;return stringify({textRecognitionSettings:this.textRecognitionSettings.toJSONString(),recognitionMode:this.recognitionMode,symbologies:t,codeDuplicateFilter:this.codeDuplicateFilter,maxNumberOfCodesPerFrame:this.maxNumberOfCodesPerFrame,searchArea:n,codeLocation1d:i?undefined:{area:{x:n.x,y:n.y+n.height*.75/2,width:n.width,height:n.height*.25}},codeLocation2d:i?undefined:{area:n},gpuAcceleration:this.gpuAcceleration,blurryRecognition:this.blurryRecognition,codeDirectionHint:this.codeDirectionHint,properties:r})}},{key:"getTextRecognitionSettings",value:function e(){return this.textRecognitionSettings}},{key:"setTextRecognitionSettings",value:function e(t){this.textRecognitionSettings=t;return this}},{key:"getRecognitionMode",value:function e(){return this.recognitionMode}},{key:"setRecognitionMode",value:function e(t){this.recognitionMode=t;if(t.includes("text")&&!textRecognition){Logger.log(Logger.Level.WARN,"The library has not been configured to load text recognition (ScanditSDK.configure() - loadTextRecognition option): ScanSettings' recognition mode for text will be ignored")}return this}},{key:"getSymbologySettings",value:function e(t){if(this.symbologySettings.has(t)){return this.symbologySettings.get(t)}else{if(t in Barcode.Symbology||values(Barcode.Symbology).includes(t)){this.symbologySettings.set(t,new SymbologySettings(t));return this.symbologySettings.get(t)}else{throw new TypeError('Invalid symbology "'.concat(t,'"'))}}}},{key:"isSymbologyEnabled",value:function e(t){return this.symbologySettings.has(t)&&this.symbologySettings.get(t).isEnabled()}},{key:"enableSymbologies",value:function e(t){return this.setSymbologiesEnabled(t,true)}},{key:"disableSymbologies",value:function e(t){return this.setSymbologiesEnabled(t,false)}},{key:"getCodeDuplicateFilter",value:function e(){return this.codeDuplicateFilter}},{key:"setCodeDuplicateFilter",value:function e(t){this.codeDuplicateFilter=t;return this}},{key:"getMaxNumberOfCodesPerFrame",value:function e(){return this.maxNumberOfCodesPerFrame}},{key:"setMaxNumberOfCodesPerFrame",value:function e(t){this.maxNumberOfCodesPerFrame=t;return this}},{key:"getSearchArea",value:function e(){return this.searchArea}},{key:"setSearchArea",value:function e(t){this.searchArea=t;return this}},{key:"getBaseSearchArea",value:function e(){return this.baseSearchArea}},{key:"setBaseSearchArea",value:function e(t){this.baseSearchArea=t;return this}},{key:"isGpuAccelerationEnabled",value:function e(){return this.gpuAcceleration}},{key:"setGpuAccelerationEnabled",value:function e(t){this.gpuAcceleration=t;return this}},{key:"isBlurryRecognitionEnabled",value:function e(){return this.blurryRecognition}},{key:"setBlurryRecognitionEnabled",value:function e(t){this.blurryRecognition=t;return this}},{key:"getCodeDirectionHint",value:function e(){return this.codeDirectionHint}},{key:"setCodeDirectionHint",value:function e(t){this.codeDirectionHint=t;return this}},{key:"getDeviceName",value:function e(){return this.deviceName}},{key:"setDeviceName",value:function e(t){this.deviceName=t;return this}},{key:"getProperty",value:function e(t){if(this.properties.has(t)){return this.properties.get(t)}return-1}},{key:"setProperty",value:function e(t,r){this.properties.set(t,r);return this}},{key:"setSingleSymbologyEnabled",value:function e(t,r){if(t in Barcode.Symbology||values(Barcode.Symbology).includes(t)){if(this.symbologySettings.has(t)){this.symbologySettings.get(t).setEnabled(r)}else{this.symbologySettings.set(t,new SymbologySettings(t,r))}}else{throw new TypeError('Invalid symbology "'.concat(t,'"'))}}},{key:"setMultipleSymbologiesEnabled",value:function e(t,r){var n=_createForOfIteratorHelper(t),i;try{for(n.s();!(i=n.n()).done;){var a=i.value;if(!(a in Barcode.Symbology||values(Barcode.Symbology).includes(a))){throw new TypeError('Invalid symbology "'.concat(a,'"'))}}}catch(e){n.e(e)}finally{n.f()}var o=_createForOfIteratorHelper(t),s;try{for(o.s();!(s=o.n()).done;){var c=s.value;if(this.symbologySettings.has(c)){this.symbologySettings.get(c).setEnabled(r)}else{this.symbologySettings.set(c,new SymbologySettings(c,r))}}}catch(e){o.e(e)}finally{o.f()}}},{key:"setSymbologiesEnabled",value:function e(t,r){if(typeof t==="object"){this.setMultipleSymbologiesEnabled(t,r)}else{this.setSingleSymbologyEnabled(t,r)}return this}}]);return e}();(function(e){(function(e){e["CODE"]="code";e["TEXT"]="text";e["CODE_AND_TEXT"]="code-and-text"})(e.RecognitionMode||(e.RecognitionMode={}));(function(e){e["LEFT_TO_RIGHT"]="left-to-right";e["RIGHT_TO_LEFT"]="right-to-left";e["BOTTOM_TO_TOP"]="bottom-to-top";e["TOP_TO_BOTTOM"]="top-to-bottom";e["HORIZONTAL"]="horizontal";e["VERTICAL"]="vertical";e["NONE"]="none"})(e.CodeDirection||(e.CodeDirection={}))})(ScanSettings||(ScanSettings={}));var Scanner=function(){function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},r=t.scanSettings,n=r===void 0?new ScanSettings:r,i=t.imageSettings;_classCallCheck(this,e);_defineProperty(this,"dataCaptureWorker",void 0);_defineProperty(this,"eventEmitter",void 0);_defineProperty(this,"scanSettings",void 0);_defineProperty(this,"imageSettings",void 0);_defineProperty(this,"workerParseRequestId",void 0);_defineProperty(this,"workerScanQueueLength",void 0);_defineProperty(this,"isReadyToWork",void 0);_defineProperty(this,"licenseKeyFeatures",void 0);_defineProperty(this,"imageDataConversionContext",void 0);_defineProperty(this,"activeBlurryRecognitionSymbologies",void 0);_defineProperty(this,"blurryRecognitionAvailable",void 0);var a=BrowserHelper.checkBrowserCompatibility();if(!a.scannerSupport){throw new UnsupportedBrowserError(a)}if(configurePhase!=="done"){throw new CustomError({name:"LibraryNotConfiguredError",message:configurePhase==="started"?"The library has not completed its configuration yet, please call 'configure' and wait for the returned\n            promise's resolution":"The library was not configured yet, 'configure' must be called with valid parameters before instantiating\n            the Scanner"})}this.eventEmitter=new eventemitter3.exports.EventEmitter;this.isReadyToWork=false;this.workerScanQueueLength=0;this.workerParseRequestId=0;this.dataCaptureWorker=dataCaptureLoader.getDataCaptureWorker();this.dataCaptureWorker.onmessage=this.dataCaptureWorkerOnMessage.bind(this);DataCaptureLoader.load(this.dataCaptureWorker);this.activeBlurryRecognitionSymbologies=new set;this.blurryRecognitionAvailable=false;this.applyScanSettings(n);if(i!=null){this.applyImageSettings(i)}blurryRecognitionPreloader.on("blurryTablesUpdate",this.handleBlurryTablesUpdate.bind(this))}_createClass(e,[{key:"destroy",value:function e(){if(this.dataCaptureWorker!=null){dataCaptureLoader.returnDataCaptureWorker(this.dataCaptureWorker)}this.eventEmitter.removeAllListeners()}},{key:"applyScanSettings",value:function e(t){var r=this;this.scanSettings=t;blurryRecognitionPreloader.updateBlurryRecognitionPriority(this.scanSettings);var n=blurryRecognitionPreloader.getEnabledSymbologies(this.scanSettings);this.blurryRecognitionAvailable=blurryRecognitionPreloader.isBlurryRecognitionAvailable(this.scanSettings);this.dataCaptureWorker.postMessage({type:"scan-settings",settings:this.scanSettings.toJSONString(),blurryRecognitionAvailable:this.blurryRecognitionAvailable,blurryRecognitionRequiresUpdate:n.some(function(e){return!r.activeBlurryRecognitionSymbologies.has(e)})});var i=this.scanSettings.getDeviceName();if(i!=null){this.dataCaptureWorker.postMessage({type:"device-name",deviceName:i})}if(this.blurryRecognitionAvailable){this.activeBlurryRecognitionSymbologies=new set([].concat(_toConsumableArray(this.activeBlurryRecognitionSymbologies),_toConsumableArray(n)))}this.eventEmitter.emit("newScanSettings",this.scanSettings);return this}},{key:"applyImageSettings",value:function e(t){this.imageSettings=t;this.dataCaptureWorker.postMessage({type:"image-settings",imageSettings:t});return this}},{key:"clearSession",value:function e(){this.dataCaptureWorker.postMessage({type:"clear-session"});return this}},{key:"processImage",value:function(){var t=_asyncToGenerator(regenerator.mark(function t(r){var n=this;var i,a,o=arguments;return regenerator.wrap(function t(s){while(1){switch(s.prev=s.next){case 0:i=o.length>1&&o[1]!==undefined?o[1]:false;if(!(this.imageSettings==null)){s.next=3;break}throw new CustomError({name:"NoImageSettings",message:"No image settings set up in the scanner"});case 3:if(r instanceof HTMLImageElement){if(this.imageDataConversionContext==null){this.imageDataConversionContext=document.createElement("canvas").getContext("2d")}this.imageDataConversionContext.canvas.width=r.naturalWidth;this.imageDataConversionContext.canvas.height=r.naturalHeight;this.imageDataConversionContext.drawImage(r,0,0,r.naturalWidth,r.naturalHeight);r=new Uint8Array(this.imageDataConversionContext.getImageData(0,0,r.naturalWidth,r.naturalHeight).data.buffer)}s.t0=this.imageSettings.format.valueOf();s.next=s.t0===ImageSettings.Format.GRAY_8U?7:s.t0===ImageSettings.Format.RGB_8U?9:s.t0===ImageSettings.Format.RGBA_8U?11:13;break;case 7:a=1;return s.abrupt("break",15);case 9:a=3;return s.abrupt("break",15);case 11:a=4;return s.abrupt("break",15);case 13:a=1;return s.abrupt("break",15);case 15:if(!(this.imageSettings.width*this.imageSettings.height*a!==r.length)){s.next=17;break}throw new CustomError({name:"ImageSettingsDataMismatch",message:"The provided image data doesn't match the previously set image settings"});case 17:e.workerScanRequestId++;this.workerScanQueueLength++;return s.abrupt("return",new promise(function(t,a){var o="workResult-".concat(e.workerScanRequestId);var s="workError-".concat(e.workerScanRequestId);n.eventEmitter.once(o,function(e,r){n.eventEmitter.removeAllListeners(s);n.workerScanQueueLength--;t(new ScanResult(e.barcodes,e.texts,r,n.imageSettings))});n.eventEmitter.once(s,function(e,t){Logger.log(Logger.Level.ERROR,"Scandit Data Capture error (".concat(e.errorCode,"):"),e.errorMessage);n.eventEmitter.removeAllListeners(o);n.workerScanQueueLength--;var r=new CustomError({name:"ScanditEngineError",message:"".concat(e.errorMessage," (").concat(e.errorCode,")")});a(r)});n.dataCaptureWorker.postMessage({type:"scan-image",requestId:e.workerScanRequestId,data:r,highQualitySingleFrameMode:i},[r.buffer])}));case 20:case"end":return s.stop()}}},t,this)}));function r(e){return t.apply(this,arguments)}return r}()},{key:"isBusyProcessing",value:function e(){return this.workerScanQueueLength!==0}},{key:"isReady",value:function e(){return this.isReadyToWork}},{key:"on",value:function e(t,r){if(t==="ready"){if(this.isReadyToWork){r()}else{this.eventEmitter.once(t,r,this)}}else if(t==="contextCreated"){if(this.licenseKeyFeatures!=null){r(this.licenseKeyFeatures)}else{this.eventEmitter.once(t,r,this)}}else{this.eventEmitter.on(t,r,this)}return this}},{key:"addListener",value:function e(t,r){return this.on(t,r)}},{key:"createParserForFormat",value:function e(t){return new Parser(this,t)}},{key:"getImageSettings",value:function e(){return this.imageSettings}},{key:"getScanSettings",value:function e(){return this.scanSettings}},{key:"parse",value:function(){var e=_asyncToGenerator(regenerator.mark(function e(t,r,n){var i=this;return regenerator.wrap(function e(a){while(1){switch(a.prev=a.next){case 0:this.workerParseRequestId++;return a.abrupt("return",new promise(function(e,a){var o="parseResult-".concat(i.workerParseRequestId);var s="parseError-".concat(i.workerParseRequestId);i.eventEmitter.once(o,function(t){i.eventEmitter.removeAllListeners(s);var r={jsonString:t,fields:[],fieldsByName:{}};JSON.parse(t).forEach(function(e){r.fields.push(e);r.fieldsByName[e.name]=e});e(r)});i.eventEmitter.once(s,function(e){Logger.log(Logger.Level.ERROR,"Scandit Data Capture error (".concat(e.errorCode,"):"),e.errorMessage);i.eventEmitter.removeAllListeners(o);var t=new CustomError({name:"ScanditEngineError",message:"".concat(e.errorMessage," (").concat(e.errorCode,")")});a(t)});i.dataCaptureWorker.postMessage({type:"parse",requestId:i.workerParseRequestId,dataFormat:t,data:r,options:n==null?"{}":stringify(n)})}));case 2:case"end":return a.stop()}}},e,this)}));function t(t,r,n){return e.apply(this,arguments)}return t}()},{key:"reportCameraProperties",value:function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;this.dataCaptureWorker.postMessage({type:"camera-properties",cameraType:t,autofocus:r});return this}},{key:"removeListener",value:function e(t,r){this.eventEmitter.removeListener(t,r);return this}},{key:"removeAllListeners",value:function e(t){this.eventEmitter.removeAllListeners(t);return this}},{key:"handleBlurryTablesUpdate",value:function e(){if(this.blurryRecognitionAvailable){return}this.blurryRecognitionAvailable=blurryRecognitionPreloader.isBlurryRecognitionAvailable(this.scanSettings);if(this.blurryRecognitionAvailable){this.activeBlurryRecognitionSymbologies=new set([].concat(_toConsumableArray(this.activeBlurryRecognitionSymbologies),_toConsumableArray(blurryRecognitionPreloader.getEnabledSymbologies(this.scanSettings))));this.dataCaptureWorker.postMessage({type:"scan-settings",settings:this.scanSettings.toJSONString(),blurryRecognitionAvailable:true,blurryRecognitionRequiresUpdate:true})}}},{key:"dataCaptureWorkerOnMessage",value:function e(t){var r=t.data;if(r[0]==="log"){r[1].data.forEach(function(e,t){if(e.name!=null&&e.message!=null){var n=new CustomError({name:e.name,message:e.message});n.stack=e.stack;r[1].data[t]=n}});Logger.log.apply(Logger,[r[1].level].concat(_toConsumableArray(r[1].data)));return}if(r[0]==="library-loaded"){this.isReadyToWork=true;this.eventEmitter.emit("ready");return}if(r[1]!=null){switch(r[0]){case"context-created":this.licenseKeyFeatures=r[1];this.eventEmitter.emit("contextCreated",this.licenseKeyFeatures);break;case"work-result":this.eventEmitter.emit("workResult-".concat(r[1].requestId),r[1].result,r[2]);break;case"work-error":this.eventEmitter.emit("workError-".concat(r[1].requestId),r[1].error,r[2]);break;case"parse-result":this.eventEmitter.emit("parseResult-".concat(r[1].requestId),r[1].result);break;case"parse-error":this.eventEmitter.emit("parseError-".concat(r[1].requestId),r[1].error);break}}}}],[{key:"ready",value:function e(){}}]);return e}();_defineProperty(Scanner,"workerScanRequestId",0);var SingleImageModeSettings;(function(e){function t(e,t){return{informationElement:document.createRange().createContextualFragment(e).firstElementChild,buttonElement:document.createRange().createContextualFragment(atob(t)).firstElementChild,containerStyle:{backgroundColor:"#333333"},informationStyle:{color:"#FFFFFF"},buttonStyle:{borderColor:"#FFFFFF",color:"#FFFFFF",fill:"#FFFFFF"}}}(function(e){e["NEVER"]="never";e["FALLBACK"]="fallback";e["ALWAYS"]="always"})(e.UsageStrategy||(e.UsageStrategy={}));e.defaultDesktop=t("<p>To scan:<br>1. Click on the folder icon<br>2. Select the picture to scan</p>",folderImage);e.defaultMobile=t("<p>To scan:<br>1. Tap the camera icon<br>2. Take a picture of the code(s)</p>",cameraImage)})(SingleImageModeSettings||(SingleImageModeSettings={}));var getOwnPropertySymbols$1=_core.exports.Object.getOwnPropertySymbols;var getOwnPropertySymbols=getOwnPropertySymbols$1;var gOPN=_objectGopn;var gOPS$1=_objectGops;var anObject=_anObject;var Reflect$1=_global.exports.Reflect;var _ownKeys=Reflect$1&&Reflect$1.ownKeys||function e(t){var r=gOPN.f(anObject(t));var n=gOPS$1.f;return n?r.concat(n(t)):r};var $export$3=_export;var ownKeys$3=_ownKeys;var toIObject=_toIobject;var gOPD=_objectGopd;var createProperty=_createProperty;$export$3($export$3.S,"Object",{getOwnPropertyDescriptors:function e(t){var r=toIObject(t);var n=gOPD.f;var i=ownKeys$3(r);var a={};var o=0;var s,c;while(i.length>o){c=n(r,s=i[o++]);if(c!==undefined)createProperty(a,s,c)}return a}});var getOwnPropertyDescriptors$1=_core.exports.Object.getOwnPropertyDescriptors;var getOwnPropertyDescriptors=getOwnPropertyDescriptors$1;var _stringWs="\t\n\v\f\r   ᠎    "+"         　\u2028\u2029\ufeff";var $export$2=_export;var defined=_defined;var fails=_fails;var spaces=_stringWs;var space="["+spaces+"]";var non="​";var ltrim=RegExp("^"+space+space+"*");var rtrim=RegExp(space+space+"*$");var exporter=function(e,t,r){var n={};var i=fails(function(){return!!spaces[e]()||non[e]()!=non});var a=n[e]=i?t(trim):spaces[e];if(r)n[r]=a;$export$2($export$2.P+$export$2.F*i,"String",n)};var trim=exporter.trim=function(e,t){e=String(defined(e));if(t&1)e=e.replace(ltrim,"");if(t&2)e=e.replace(rtrim,"");return e};var _stringTrim=exporter;var $parseInt$1=_global.exports.parseInt;var $trim=_stringTrim.trim;var ws=_stringWs;var hex=/^[-+]?0[xX]/;var _parseInt$2=$parseInt$1(ws+"08")!==8||$parseInt$1(ws+"0x16")!==22?function e(t,r){var n=$trim(String(t),3);return $parseInt$1(n,r>>>0||(hex.test(n)?16:10))}:$parseInt$1;var $export$1=_export;var $parseInt=_parseInt$2;$export$1($export$1.G+$export$1.F*(parseInt!=$parseInt),{parseInt:$parseInt});var _parseInt$1=_core.exports.parseInt;var _parseInt=_parseInt$1;function ownKeys$2(e,t){var r=Object.keys(e);if(getOwnPropertySymbols){var n=getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _objectSpread$2(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys$2(Object(r),!0).forEach(function(t){_defineProperty(e,t,r[t])}):getOwnPropertyDescriptors?Object.defineProperties(e,getOwnPropertyDescriptors(r)):ownKeys$2(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var CameraAccess;(function(e){var t=new map([["DeviceCaptureError","AbortError"],["NotSupportedError","AbortError"],["ScreenCaptureError","AbortError"],["TabCaptureError","AbortError"],["TypeError","AbortError"],["InvalidStateError","NotAllowedError"],["MediaDeviceFailedDueToShutdown","NotAllowedError"],["MediaDeviceKillSwitchOn","NotAllowedError"],["PermissionDeniedError","NotAllowedError"],["PermissionDismissedError","NotAllowedError"],["DevicesNotFoundError","NotFoundError"],["SourceUnavailableError","NotReadableError"],["TrackStartError","NotReadableError"],["ConstraintNotSatisfiedError","OverconstrainedError"]]);var r=["rear","back","rück","arrière","trasera","trás","traseira","posteriore","后面","後面","背面","后置","後置","背置","задней","الخلفية","후","arka","achterzijde","หลัง","baksidan","bagside","sau","bak","tylny","takakamera","belakang","אחורית","πίσω","spate","hátsó","zadní","darrere","zadná","задня","stražnja","belakang","बैक"];var n;var i=false;e.mainCameraForTypeOverridesOnDesktop=new map;e.deviceIdToCameraObjects=new map;e.inaccessibleDeviceIds=new set;function a(){i=true}function o(e){var t=e.toLowerCase();return r.some(function(e){return t.includes(e)})}function s(e){var r;if(e.message==="Invalid constraint"){r="OverconstrainedError"}else{var n;r=(n=t.get(e.name))!==null&&n!==void 0?n:e.name}Object.defineProperty(e,"name",{value:r})}function c(t,r){var n;if(BrowserHelper.isDesktopDevice()){if(e.mainCameraForTypeOverridesOnDesktop.has(r)){n=e.mainCameraForTypeOverridesOnDesktop.get(r)}else{n=t.filter(function(e){return e.cameraType===r})[0]}}else{var i=t.every(function(e){return e.label===""});var a=t.every(function(e){return e.label!==""});var o=t.length>1&&!i&&!a;if(i){n=t[r===Camera.Type.FRONT?0:t.length-1]}else if(o){var s=t.filter(function(e){return e.cameraType===r});if(s.length===1){n=s[0]}else if(s.length>1){n=s[r===Camera.Type.FRONT?0:s.length-1]}}else{n=t.filter(function(e){return e.cameraType===r}).sort(function(e,t){return e.label.localeCompare(t.label)})[0]}}return n}e.getMainCameraForType=c;function u(t,r){function n(t,r){var n=e.mainCameraForTypeOverridesOnDesktop.get(r);if(n!=null&&t.includes(n)){t=t.filter(function(e){return e!==n});t.unshift(n)}return t}var i=t.filter(function(e){return e.cameraType===Camera.Type.FRONT});var a=t.filter(function(e){return e.cameraType===Camera.Type.BACK});if(BrowserHelper.isDesktopDevice()){i=n(i,Camera.Type.FRONT);a=n(a,Camera.Type.BACK)}else if(t.every(function(e){return e.label===""})){a.reverse()}else{i.sort(function(e,t){return e.label.localeCompare(t.label)});a.sort(function(e,t){return e.label.localeCompare(t.label)})}return r===Camera.Type.FRONT?[].concat(_toConsumableArray(i),_toConsumableArray(a)):[].concat(_toConsumableArray(a),_toConsumableArray(i))}e.sortCamerasForCameraType=u;function l(e,t){var r=e.getVideoTracks();if(r.length!==0){var n=r[0];var i;if(typeof n.getSettings==="function"){var a;i=n.getSettings();if(((a=i)===null||a===void 0?void 0:a.facingMode)!=null&&i.facingMode.length>0){t.cameraType=i.facingMode==="environment"?Camera.Type.BACK:Camera.Type.FRONT}}if(n.label!=null&&n.label.length>0){t.label=n.label}}}e.adjustCameraFromMediaStream=l;function d(t){function r(t,r,n){var i;if(e.deviceIdToCameraObjects.has(t.deviceId)){return e.deviceIdToCameraObjects.get(t.deviceId)}var a=(i=t.label)!==null&&i!==void 0?i:"";var s;if(!BrowserHelper.isDesktopDevice()&&n.every(function(t){return t.label===""&&!e.deviceIdToCameraObjects.has(t.deviceId)})){s=n.length===1||r+1<=Math.floor(n.length/2)?Camera.Type.FRONT:Camera.Type.BACK}else{s=o(a)?Camera.Type.BACK:Camera.Type.FRONT}return{deviceId:t.deviceId,label:a,cameraType:s}}var n=t.map(r).map(function(t){if(t.deviceId!==""){e.deviceIdToCameraObjects.set(t.deviceId,t)}return t}).filter(function(e){return!/\b(?:ir|infrared)\b/i.test(e.label)}).filter(function(t){return!e.inaccessibleDeviceIds.has(t.deviceId)});if(!BrowserHelper.isDesktopDevice()&&n.length>1&&!n.some(function(e){return e.cameraType===Camera.Type.BACK})){var i=n.length-1;var a=n.map(function(e){var t=e.label.match(/\b([0-9]+)MP?\b/i);if(t!=null){return _parseInt(t[1],10)}return NaN});if(!a.some(function(e){return isNaN(e)})){i=a.lastIndexOf(Math.max.apply(Math,_toConsumableArray(a)))}n[i].cameraType=Camera.Type.BACK}return n}function f(){return h.apply(this,arguments)}function h(){h=_asyncToGenerator(regenerator.mark(function t(){return regenerator.wrap(function t(r){while(1){switch(r.prev=r.next){case 0:if(!(n!=null&&n.length>0&&n.every(function(t){return t.label===""&&!e.deviceIdToCameraObjects.has(t.deviceId)}))){r.next=9;break}r.prev=1;r.next=4;return navigator.mediaDevices.getUserMedia({video:true,audio:false});case 4:return r.abrupt("return",r.sent);case 7:r.prev=7;r.t0=r["catch"](1);case 9:case"end":return r.stop()}}},t,null,[[1,7]])}));return h.apply(this,arguments)}function v(t,r){if(r.length>0&&t.length===r.length&&!r.every(function(e,r){return t[r].deviceId===e.deviceId})){var n={};t.forEach(function(t,i){var a;var o=e.deviceIdToCameraObjects.get(t.deviceId);if(o==null||o.label!==((a=r[i].label)!==null&&a!==void 0?a:"")){return}var s=r[i].deviceId;n[o.deviceId]=s;if(e.inaccessibleDeviceIds.has(o.deviceId)){e.inaccessibleDeviceIds.add(s)}o.deviceId=s;e.deviceIdToCameraObjects.set(s,o)});Logger.log(Logger.Level.DEBUG,"Detected updated camera deviceId information and updated it accordingly",n)}}function p(){return g.apply(this,arguments)}function g(){g=_asyncToGenerator(regenerator.mark(function e(){var t,r,o,c,u,l,h,p=arguments;return regenerator.wrap(function e(g){while(1){switch(g.prev=g.next){case 0:t=p.length>0&&p[0]!==undefined?p[0]:false;r=p.length>1&&p[1]!==undefined?p[1]:false;o=BrowserHelper.checkBrowserCompatibility();if(o.fullSupport){g.next=5;break}throw new UnsupportedBrowserError(o);case 5:navigator.mediaDevices.addEventListener("devicechange",a);if(!(n==null||t||i)){g.next=33;break}i=false;l=(c=n)!==null&&c!==void 0?c:[];n=[];g.prev=10;g.next=13;return E();case 13:n=g.sent;if(r){g.next=22;break}g.next=17;return f();case 17:u=g.sent;if(!(u!=null)){g.next=22;break}g.next=21;return E();case 21:n=g.sent;case 22:Logger.log.apply(Logger,[Logger.Level.DEBUG,"Camera list (devices):"].concat(_toConsumableArray(n)));v(l,n);g.next=30;break;case 26:g.prev=26;g.t0=g["catch"](10);s(g.t0);throw g.t0;case 30:g.prev=30;if(u!=null){u.getVideoTracks().forEach(function(e){e.stop()})}return g.finish(30);case 33:h=d(n);Logger.log.apply(Logger,[Logger.Level.DEBUG,"Camera list (cameras): "].concat(_toConsumableArray(h)));return g.abrupt("return",_toConsumableArray(h));case 36:case"end":return g.stop()}}},e,null,[[10,26,30,33]])}));return g.apply(this,arguments)}e.getCameras=p;function m(e){Logger.log(Logger.Level.DEBUG,"Attempt to access camera (parameters):",e.video);return new promise(function(t,r){window.setTimeout(function(){var n;((n=navigator.mediaDevices.getUserMedia(e))!==null&&n!==void 0?n:promise.reject(new CustomError({name:"AbortError"}))).then(t).catch(r)},0)})}function y(e){var t={resizeMode:"none"};switch(e){case CameraResolutionConstraint.ULTRA_HD:return _objectSpread$2(_objectSpread$2({},t),{},{width:{min:3200,ideal:3840,max:4096},height:{min:1800,ideal:2160,max:2400}});case CameraResolutionConstraint.FULL_HD:return _objectSpread$2(_objectSpread$2({},t),{},{width:{min:1400,ideal:1920,max:2160},height:{min:900,ideal:1080,max:1440}});case CameraResolutionConstraint.HD:return _objectSpread$2(_objectSpread$2({},t),{},{width:{min:960,ideal:1280,max:1440},height:{min:480,ideal:720,max:960}});case CameraResolutionConstraint.SD:return _objectSpread$2(_objectSpread$2({},t),{},{width:{min:640,ideal:640,max:800},height:{min:480,ideal:480,max:600}});case CameraResolutionConstraint.NONE:default:return{}}}function b(e,t){return _.apply(this,arguments)}function _(){_=_asyncToGenerator(regenerator.mark(function e(t,r){var n,i;return regenerator.wrap(function e(a){while(1){switch(a.prev=a.next){case 0:Logger.log(Logger.Level.DEBUG,"Attempt to access camera (camera):",r);n={audio:false,video:y(t)};if(r.deviceId===""){n.video.facingMode={ideal:r.cameraType===Camera.Type.BACK?"environment":"user"}}else{n.video.deviceId={exact:r.deviceId}}a.prev=3;a.next=6;return m(n);case 6:i=a.sent;l(i,r);return a.abrupt("return",i);case 11:a.prev=11;a.t0=a["catch"](3);s(a.t0);if(!["OverconstrainedError","NotReadableError","NotAllowedError"].includes(a.t0.name)){A(r)}throw a.t0;case 16:case"end":return a.stop()}}},e,null,[[3,11]])}));return _.apply(this,arguments)}e.accessCameraStream=b;function A(t){if(t.deviceId!==""){Logger.log(Logger.Level.DEBUG,"Camera marked to be inaccessible:",t);e.inaccessibleDeviceIds.add(t.deviceId)}}e.markCameraAsInaccessible=A;function E(){return S.apply(this,arguments)}function S(){S=_asyncToGenerator(regenerator.mark(function e(){var t,r;return regenerator.wrap(function e(n){while(1){switch(n.prev=n.next){case 0:if(!(typeof navigator.enumerateDevices==="function")){n.next=6;break}n.next=3;return navigator.enumerateDevices();case 3:t=n.sent;n.next=24;break;case 6:if(!(typeof navigator.mediaDevices==="object"&&typeof navigator.mediaDevices.enumerateDevices==="function")){n.next=12;break}n.next=9;return navigator.mediaDevices.enumerateDevices();case 9:t=n.sent;n.next=24;break;case 12:n.prev=12;if(!(((r=window.MediaStreamTrack)===null||r===void 0?void 0:r.getSources)==null)){n.next=15;break}throw new Error;case 15:n.next=17;return new promise(function(e){var t,r;(t=window.MediaStreamTrack)===null||t===void 0?void 0:(r=t.getSources)===null||r===void 0?void 0:r.call(t,e)});case 17:t=n.sent;t=t.filter(function(e){return e.kind.toLowerCase()==="video"||e.kind.toLowerCase()==="videoinput"}).map(function(e){var t;return{deviceId:(t=e.deviceId)!==null&&t!==void 0?t:"",groupId:e.groupId,kind:"videoinput",label:e.label,toJSON:function e(){return this}}});n.next=24;break;case 21:n.prev=21;n.t0=n["catch"](12);throw new UnsupportedBrowserError({fullSupport:false,scannerSupport:true,missingFeatures:[BrowserCompatibility.Feature.MEDIA_DEVICES]});case 24:return n.abrupt("return",t.filter(function(e){return e.kind==="videoinput"}));case 25:case"end":return n.stop()}}},e,null,[[12,21]])}));return S.apply(this,arguments)}})(CameraAccess||(CameraAccess={}));var CameraSettings;(function(e){(function(e){e["ULTRA_HD"]="ultra-hd";e["FULL_HD"]="full-hd";e["HD"]="hd"})(e.ResolutionPreference||(e.ResolutionPreference={}))})(CameraSettings||(CameraSettings={}));function ownKeys$1(e,t){var r=Object.keys(e);if(getOwnPropertySymbols){var n=getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _objectSpread$1(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys$1(Object(r),!0).forEach(function(t){_defineProperty(e,t,r[t])}):getOwnPropertyDescriptors?Object.defineProperties(e,getOwnPropertyDescriptors(r)):ownKeys$1(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var MeteringMode;(function(e){e["CONTINUOUS"]="continuous";e["MANUAL"]="manual";e["NONE"]="none";e["SINGLE_SHOT"]="single-shot"})(MeteringMode||(MeteringMode={}));var CameraResolutionConstraint;(function(e){e[e["ULTRA_HD"]=0]="ULTRA_HD";e[e["FULL_HD"]=1]="FULL_HD";e[e["HD"]=2]="HD";e[e["SD"]=3]="SD";e[e["NONE"]=4]="NONE"})(CameraResolutionConstraint||(CameraResolutionConstraint={}));var CameraManager=function(){function e(t,r,n){_classCallCheck(this,e);_defineProperty(this,"selectedCamera",void 0);_defineProperty(this,"activeCamera",void 0);_defineProperty(this,"activeCameraSettings",void 0);_defineProperty(this,"scanner",void 0);_defineProperty(this,"triggerCameraAccessError",void 0);_defineProperty(this,"gui",void 0);_defineProperty(this,"postStreamInitializationListener",this.postStreamInitialization.bind(this));_defineProperty(this,"videoResizeListener",this.videoResizeHandle.bind(this));_defineProperty(this,"videoTrackEndedListener",this.videoTrackEndedRecovery.bind(this));_defineProperty(this,"videoTrackMuteListener",this.videoTrackMuteRecovery.bind(this));_defineProperty(this,"triggerManualFocusListener",this.triggerManualFocus.bind(this));_defineProperty(this,"triggerZoomStartListener",this.triggerZoomStart.bind(this));_defineProperty(this,"triggerZoomMoveListener",this.triggerZoomMove.bind(this));_defineProperty(this,"cameraType",void 0);_defineProperty(this,"selectedCameraSettings",void 0);_defineProperty(this,"mediaStream",void 0);_defineProperty(this,"mediaTrackCapabilities",void 0);_defineProperty(this,"cameraAccessTimeout",void 0);_defineProperty(this,"cameraAccessRejectCallback",void 0);_defineProperty(this,"videoMetadataCheckInterval",void 0);_defineProperty(this,"getCapabilitiesTimeout",void 0);_defineProperty(this,"autofocusInterval",void 0);_defineProperty(this,"manualToAutofocusResumeTimeout",void 0);_defineProperty(this,"manualFocusWaitTimeout",void 0);_defineProperty(this,"cameraSwitcherEnabled",void 0);_defineProperty(this,"torchToggleEnabled",void 0);_defineProperty(this,"tapToFocusEnabled",void 0);_defineProperty(this,"pinchToZoomEnabled",void 0);_defineProperty(this,"pinchToZoomDistance",void 0);_defineProperty(this,"pinchToZoomInitialZoom",void 0);_defineProperty(this,"torchEnabled",void 0);_defineProperty(this,"cameraInitializationPromise",void 0);_defineProperty(this,"abortedCameraInitializationResolveCallback",void 0);_defineProperty(this,"cameraSetupPromise",void 0);this.scanner=t;this.triggerCameraAccessError=r;this.gui=n;this.cameraType=Camera.Type.BACK}_createClass(e,[{key:"setInteractionOptions",value:function e(t,r,n,i){this.cameraSwitcherEnabled=t;this.torchToggleEnabled=r;this.tapToFocusEnabled=n;this.pinchToZoomEnabled=i}},{key:"isCameraSwitcherEnabled",value:function e(){return this.cameraSwitcherEnabled}},{key:"setCameraSwitcherEnabled",value:function(){var e=_asyncToGenerator(regenerator.mark(function e(t){var r;return regenerator.wrap(function e(n){while(1){switch(n.prev=n.next){case 0:this.cameraSwitcherEnabled=t;if(!this.cameraSwitcherEnabled){n.next=8;break}n.next=4;return CameraAccess.getCameras();case 4:r=n.sent;if(r.length>1){this.gui.setCameraSwitcherVisible(true)}n.next=9;break;case 8:this.gui.setCameraSwitcherVisible(false);case 9:case"end":return n.stop()}}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"isTorchToggleEnabled",value:function e(){return this.torchToggleEnabled}},{key:"setTorchToggleEnabled",value:function e(t){this.torchToggleEnabled=t;if(this.torchToggleEnabled){var r;if(this.mediaStream!=null&&((r=this.mediaTrackCapabilities)===null||r===void 0?void 0:r.torch)===true){this.gui.setTorchTogglerVisible(true)}}else{this.gui.setTorchTogglerVisible(false)}}},{key:"isTapToFocusEnabled",value:function e(){return this.tapToFocusEnabled}},{key:"setTapToFocusEnabled",value:function e(t){this.tapToFocusEnabled=t;if(this.mediaStream!=null){if(this.tapToFocusEnabled){this.enableTapToFocusListeners()}else{this.disableTapToFocusListeners()}}}},{key:"isPinchToZoomEnabled",value:function e(){return this.pinchToZoomEnabled}},{key:"setPinchToZoomEnabled",value:function e(t){this.pinchToZoomEnabled=t;if(this.mediaStream!=null){if(this.pinchToZoomEnabled){this.enablePinchToZoomListeners()}else{this.disablePinchToZoomListeners()}}}},{key:"setInitialCameraType",value:function e(t){this.cameraType=t}},{key:"setCameraType",value:function(){var e=_asyncToGenerator(regenerator.mark(function e(t){var r;return regenerator.wrap(function e(n){while(1){switch(n.prev=n.next){case 0:this.setInitialCameraType(t);n.t0=CameraAccess;n.next=4;return CameraAccess.getCameras();case 4:n.t1=n.sent;n.t2=t;r=n.t0.getMainCameraForType.call(n.t0,n.t1,n.t2);if(!(r!=null&&r!==this.selectedCamera)){n.next=9;break}return n.abrupt("return",this.initializeCameraWithSettings(r,this.selectedCameraSettings));case 9:case"end":return n.stop()}}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"setSelectedCamera",value:function e(t){this.selectedCamera=t}},{key:"setSelectedCameraSettings",value:function e(t){this.selectedCameraSettings=t}},{key:"setupCameras",value:function(){var e=_asyncToGenerator(regenerator.mark(function e(){return regenerator.wrap(function e(t){while(1){switch(t.prev=t.next){case 0:if(!(this.cameraSetupPromise!=null)){t.next=2;break}return t.abrupt("return",this.cameraSetupPromise);case 2:this.cameraSetupPromise=this.setupCamerasAndStream();return t.abrupt("return",this.cameraSetupPromise);case 4:case"end":return t.stop()}}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"stopStream",value:function(){var e=_asyncToGenerator(regenerator.mark(function e(){var t=this;var r,n=arguments;return regenerator.wrap(function e(i){while(1){switch(i.prev=i.next){case 0:r=n.length>0&&n[0]!==undefined?n[0]:false;if(this.activeCamera!=null){this.activeCamera.currentResolution=undefined}this.activeCamera=undefined;if(!(this.mediaStream!=null)){i.next=13;break}Logger.log(Logger.Level.DEBUG,"Stop camera video stream access (stream):",this.mediaStream);window.clearTimeout(this.cameraAccessTimeout);window.clearInterval(this.videoMetadataCheckInterval);window.clearTimeout(this.getCapabilitiesTimeout);window.clearTimeout(this.manualFocusWaitTimeout);window.clearTimeout(this.manualToAutofocusResumeTimeout);window.clearInterval(this.autofocusInterval);this.gui.videoElement.pause();return i.abrupt("return",new promise(function(e){setTimeout(function(){var n;(n=t.mediaStream)===null||n===void 0?void 0:n.getVideoTracks().forEach(function(e){e.removeEventListener("ended",t.videoTrackEndedListener);e.stop()});t.gui.videoElement.srcObject=null;t.mediaStream=undefined;t.mediaTrackCapabilities=undefined;if(!r){var i;(i=t.abortedCameraInitializationResolveCallback)===null||i===void 0?void 0:i.call(t)}e()},0)}));case 13:case"end":return i.stop()}}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"applyCameraSettings",value:function(){var t=_asyncToGenerator(regenerator.mark(function t(r){return regenerator.wrap(function t(n){while(1){switch(n.prev=n.next){case 0:this.selectedCameraSettings=r;if(!(this.activeCamera==null)){n.next=3;break}throw new CustomError(e.noCameraErrorParameters);case 3:return n.abrupt("return",this.initializeCameraWithSettings(this.activeCamera,r));case 4:case"end":return n.stop()}}},t,this)}));function r(e){return t.apply(this,arguments)}return r}()},{key:"reinitializeCamera",value:function(){var e=_asyncToGenerator(regenerator.mark(function e(){return regenerator.wrap(function e(t){while(1){switch(t.prev=t.next){case 0:if(!(this.activeCamera==null)){t.next=4;break}Logger.log(Logger.Level.DEBUG,"Camera reinitialization delayed");t.next=15;break;case 4:Logger.log(Logger.Level.DEBUG,"Reinitialize camera:",this.activeCamera);t.prev=5;t.next=8;return this.initializeCameraWithSettings(this.activeCamera,this.activeCameraSettings);case 8:t.next=15;break;case 10:t.prev=10;t.t0=t["catch"](5);Logger.log(Logger.Level.WARN,"Couldn't access camera:",this.activeCamera,t.t0);this.triggerCameraAccessError(t.t0);throw t.t0;case 15:case"end":return t.stop()}}},e,this,[[5,10]])}));function t(){return e.apply(this,arguments)}return t}()},{key:"initializeCameraWithSettings",value:function(){var e=_asyncToGenerator(regenerator.mark(function e(t,r){return regenerator.wrap(function e(n){while(1){switch(n.prev=n.next){case 0:if(!(this.cameraInitializationPromise!=null)){n.next=3;break}n.next=3;return this.cameraInitializationPromise;case 3:this.setSelectedCamera(t);this.selectedCameraSettings=this.activeCameraSettings=r;this.cameraInitializationPromise=this.initializeCameraAndCheckUpdatedSettings(t);return n.abrupt("return",this.cameraInitializationPromise);case 7:case"end":return n.stop()}}},e,this)}));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"setTorchEnabled",value:function(){var e=_asyncToGenerator(regenerator.mark(function e(t){var r;var n;return regenerator.wrap(function e(i){while(1){switch(i.prev=i.next){case 0:if(!(this.mediaStream!=null&&((r=this.mediaTrackCapabilities)===null||r===void 0?void 0:r.torch)===true)){i.next=6;break}this.torchEnabled=t;n=this.mediaStream.getVideoTracks();if(!(n.length!==0&&typeof n[0].applyConstraints==="function")){i.next=6;break}i.next=6;return n[0].applyConstraints({advanced:[{torch:t}]});case 6:case"end":return i.stop()}}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"toggleTorch",value:function(){var e=_asyncToGenerator(regenerator.mark(function e(){return regenerator.wrap(function e(t){while(1){switch(t.prev=t.next){case 0:this.torchEnabled=!this.torchEnabled;t.next=3;return this.setTorchEnabled(this.torchEnabled);case 3:case"end":return t.stop()}}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"setZoom",value:function(){var e=_asyncToGenerator(regenerator.mark(function e(t,r){var n;var i,a,o;return regenerator.wrap(function e(s){while(1){switch(s.prev=s.next){case 0:if(!(this.mediaStream!=null&&((n=this.mediaTrackCapabilities)===null||n===void 0?void 0:n.zoom)!=null)){s.next=7;break}i=this.mediaStream.getVideoTracks();if(!(i.length!==0&&typeof i[0].applyConstraints==="function")){s.next=7;break}a=this.mediaTrackCapabilities.zoom.max-this.mediaTrackCapabilities.zoom.min;o=Math.max(this.mediaTrackCapabilities.zoom.min,Math.min((r!==null&&r!==void 0?r:this.mediaTrackCapabilities.zoom.min)+a*t,this.mediaTrackCapabilities.zoom.max));s.next=7;return i[0].applyConstraints({advanced:[{zoom:o}]});case 7:case"end":return s.stop()}}},e,this)}));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"recoverStreamIfNeeded",value:function(){var e=_asyncToGenerator(regenerator.mark(function e(){var t,r;var n;return regenerator.wrap(function e(i){while(1){switch(i.prev=i.next){case 0:n=(t=this.mediaStream)===null||t===void 0?void 0:t.getVideoTracks();if(!((n===null||n===void 0?void 0:(r=n[0])===null||r===void 0?void 0:r.readyState)==="ended")){i.next=4;break}i.next=4;return this.reinitializeCamera();case 4:case"end":return i.stop()}}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"setupCamerasAndStream",value:function(){var e=_asyncToGenerator(regenerator.mark(function e(){var t,r,n,i,a,o,s;return regenerator.wrap(function e(c){while(1){switch(c.prev=c.next){case 0:c.prev=0;if(!(this.selectedCamera==null)){c.next=6;break}this.gui.setVideoVisible(false);c.next=5;return this.accessInitialCamera();case 5:i=c.sent;case 6:c.next=8;return CameraAccess.getCameras(false,true);case 8:a=c.sent;if(this.cameraSwitcherEnabled&&a.length>1){this.gui.setCameraSwitcherVisible(true)}o=(t=this.mediaStream)===null||t===void 0?void 0:(r=t.getVideoTracks()[0])===null||r===void 0?void 0:(n=r.getSettings)===null||n===void 0?void 0:n.call(r).deviceId;if(!(this.mediaStream!=null&&i!=null)){c.next=29;break}s=a.length===1?a[0]:a.find(function(e){var t;return e.deviceId===o||e.label!==""&&e.label===((t=i)===null||t===void 0?void 0:t.label)});if(!(s!=null)){c.next=28;break}CameraAccess.adjustCameraFromMediaStream(this.mediaStream,s);if(BrowserHelper.isDesktopDevice()){CameraAccess.mainCameraForTypeOverridesOnDesktop.set(this.cameraType,s);CameraAccess.mainCameraForTypeOverridesOnDesktop.set(s.cameraType,s)}if(!(a.length===1||CameraAccess.getMainCameraForType(a,this.cameraType)===s)){c.next=25;break}Logger.log(Logger.Level.DEBUG,"Initial camera access was correct (main camera), keep camera:",s);this.setSelectedCamera(s);this.updateActiveCameraCurrentResolution(s);c.next=22;return this.recoverStreamIfNeeded();case 22:return c.abrupt("return");case 25:Logger.log(Logger.Level.DEBUG,"Initial camera access was incorrect (not main camera), change camera",_objectSpread$1(_objectSpread$1({},i),{},{deviceId:o}));case 26:c.next=29;break;case 28:Logger.log(Logger.Level.DEBUG,"Initial camera access was incorrect (unknown camera), change camera",_objectSpread$1(_objectSpread$1({},i),{},{deviceId:o}));case 29:if(!(this.selectedCamera==null)){c.next=35;break}c.next=32;return this.accessAutoselectedCamera(a);case 32:return c.abrupt("return",c.sent);case 35:c.next=37;return this.initializeCameraWithSettings(this.selectedCamera,this.selectedCameraSettings);case 37:return c.abrupt("return",c.sent);case 38:c.prev=38;this.gui.setVideoVisible(true);this.cameraSetupPromise=undefined;return c.finish(38);case 42:case"end":return c.stop()}}},e,this,[[0,,38,42]])}));function t(){return e.apply(this,arguments)}return t}()},{key:"getInitialCameraResolutionConstraint",value:function e(){var t;var r;switch((t=this.activeCameraSettings)===null||t===void 0?void 0:t.resolutionPreference){case CameraSettings.ResolutionPreference.ULTRA_HD:r=CameraResolutionConstraint.ULTRA_HD;break;case CameraSettings.ResolutionPreference.FULL_HD:r=CameraResolutionConstraint.FULL_HD;break;case CameraSettings.ResolutionPreference.HD:default:r=CameraResolutionConstraint.HD;break}return r}},{key:"accessAutoselectedCamera",value:function(){var t=_asyncToGenerator(regenerator.mark(function t(r){var n;return regenerator.wrap(function t(i){while(1){switch(i.prev=i.next){case 0:r=CameraAccess.sortCamerasForCameraType(r,this.cameraType);n=r.shift();case 2:if(!(n!=null)){i.next=20;break}i.prev=3;i.next=6;return this.initializeCameraWithSettings(n,this.selectedCameraSettings);case 6:return i.abrupt("return",i.sent);case 9:i.prev=9;i.t0=i["catch"](3);this.setSelectedCamera();if(r.length===1){this.gui.setCameraSwitcherVisible(false)}if(!(r.length>=1)){i.next=17;break}Logger.log(Logger.Level.WARN,"Couldn't access camera:",n,i.t0);n=r.shift();return i.abrupt("continue",2);case 17:throw i.t0;case 18:i.next=2;break;case 20:throw new CustomError(e.noCameraErrorParameters);case 21:case"end":return i.stop()}}},t,this,[[3,9]])}));function r(e){return t.apply(this,arguments)}return r}()},{key:"accessInitialCamera",value:function(){var e=_asyncToGenerator(regenerator.mark(function e(){var t;return regenerator.wrap(function e(r){while(1){switch(r.prev=r.next){case 0:t={deviceId:"",label:"",cameraType:this.cameraType};r.prev=1;r.next=4;return this.initializeCameraWithSettings(t,this.selectedCameraSettings);case 4:r.next=8;break;case 6:r.prev=6;r.t0=r["catch"](1);case 8:r.prev=8;this.setSelectedCamera();return r.finish(8);case 11:return r.abrupt("return",t);case 12:case"end":return r.stop()}}},e,this,[[1,6,8,11]])}));function t(){return e.apply(this,arguments)}return t}()},{key:"updateActiveCameraCurrentResolution",value:function e(t){if(this.gui.videoElement.videoWidth>2&&this.gui.videoElement.videoHeight>2){t.currentResolution={width:this.gui.videoElement.videoWidth,height:this.gui.videoElement.videoHeight}}if(t.deviceId!==""){this.activeCamera=t;this.gui.setMirrorImageEnabled(this.gui.isMirrorImageEnabled(),false)}}},{key:"postStreamInitialization",value:function t(){var r=this;window.clearTimeout(this.getCapabilitiesTimeout);this.getCapabilitiesTimeout=window.setTimeout(function(){var e;r.storeStreamCapabilities();r.setupAutofocus();if(r.torchToggleEnabled&&r.mediaStream!=null&&((e=r.mediaTrackCapabilities)===null||e===void 0?void 0:e.torch)===true){r.gui.setTorchTogglerVisible(true)}},e.getCapabilitiesTimeoutMs)}},{key:"videoResizeHandle",value:function e(){if(this.activeCamera!=null){this.updateActiveCameraCurrentResolution(this.activeCamera)}}},{key:"videoTrackEndedRecovery",value:function(){var e=_asyncToGenerator(regenerator.mark(function e(){return regenerator.wrap(function e(t){while(1){switch(t.prev=t.next){case 0:t.prev=0;Logger.log(Logger.Level.DEBUG,'Detected video track "ended" event, try to reinitialize camera');t.next=4;return this.reinitializeCamera();case 4:t.next=8;break;case 6:t.prev=6;t.t0=t["catch"](0);case 8:case"end":return t.stop()}}},e,this,[[0,6]])}));function t(){return e.apply(this,arguments)}return t}()},{key:"videoTrackMuteRecovery",value:function(){var e=_asyncToGenerator(regenerator.mark(function e(t){var r;return regenerator.wrap(function e(n){while(1){switch(n.prev=n.next){case 0:if(!(this.gui.videoElement.onloadeddata!=null)){n.next=4;break}Logger.log(Logger.Level.DEBUG,'Detected video track "'.concat(t.type,'" event, delay video stream access detection'));this.setCameraAccessTimeout();return n.abrupt("return");case 4:r=t.type==="mute";if(r!==this.gui.isCameraRecoveryVisible()){Logger.log(Logger.Level.DEBUG,'Detected video track "'.concat(t.type,'" event, ').concat(r?"enable":"disable"," camera recovery"));this.gui.setCameraRecoveryVisible(r)}case 6:case"end":return n.stop()}}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"triggerManualFocusForContinuous",value:function(){var t=_asyncToGenerator(regenerator.mark(function t(){var r=this;return regenerator.wrap(function t(n){while(1){switch(n.prev=n.next){case 0:this.manualToAutofocusResumeTimeout=window.setTimeout(_asyncToGenerator(regenerator.mark(function e(){return regenerator.wrap(function e(t){while(1){switch(t.prev=t.next){case 0:t.next=2;return r.triggerFocusMode(MeteringMode.CONTINUOUS);case 2:case"end":return t.stop()}}},e)})),e.manualToAutofocusResumeTimeoutMs);n.next=3;return this.triggerFocusMode(MeteringMode.CONTINUOUS);case 3:this.manualFocusWaitTimeout=window.setTimeout(_asyncToGenerator(regenerator.mark(function e(){return regenerator.wrap(function e(t){while(1){switch(t.prev=t.next){case 0:t.next=2;return r.triggerFocusMode(MeteringMode.MANUAL);case 2:case"end":return t.stop()}}},e)})),e.manualFocusWaitTimeoutMs);case 4:case"end":return n.stop()}}},t,this)}));function r(){return t.apply(this,arguments)}return r}()},{key:"triggerManualFocusForSingleShot",value:function(){var t=_asyncToGenerator(regenerator.mark(function t(){var r=this;return regenerator.wrap(function t(n){while(1){switch(n.prev=n.next){case 0:window.clearInterval(this.autofocusInterval);this.manualToAutofocusResumeTimeout=window.setTimeout(function(){r.autofocusInterval=window.setInterval(r.triggerAutoFocus.bind(r),e.autofocusIntervalMs)},e.manualToAutofocusResumeTimeoutMs);n.prev=2;n.next=5;return this.triggerFocusMode(MeteringMode.SINGLE_SHOT);case 5:n.next=9;break;case 7:n.prev=7;n.t0=n["catch"](2);case 9:case"end":return n.stop()}}},t,this,[[2,7]])}));function r(){return t.apply(this,arguments)}return r}()},{key:"triggerManualFocus",value:function(){var e=_asyncToGenerator(regenerator.mark(function e(t){var r;return regenerator.wrap(function e(n){while(1){switch(n.prev=n.next){case 0:if(!(t!=null)){n.next=7;break}t.preventDefault();if(!(t.type==="touchend"&&t.touches.length!==0)){n.next=4;break}return n.abrupt("return");case 4:if(!(this.pinchToZoomDistance!=null)){n.next=7;break}this.pinchToZoomDistance=undefined;return n.abrupt("return");case 7:window.clearTimeout(this.manualFocusWaitTimeout);window.clearTimeout(this.manualToAutofocusResumeTimeout);if(!(this.mediaStream!=null&&this.mediaTrackCapabilities!=null)){n.next=20;break}r=this.mediaTrackCapabilities.focusMode;if(!(r instanceof Array&&r.includes(MeteringMode.SINGLE_SHOT))){n.next=20;break}if(!(r.includes(MeteringMode.CONTINUOUS)&&r.includes(MeteringMode.MANUAL))){n.next=17;break}n.next=15;return this.triggerManualFocusForContinuous();case 15:n.next=20;break;case 17:if(r.includes(MeteringMode.CONTINUOUS)){n.next=20;break}n.next=20;return this.triggerManualFocusForSingleShot();case 20:case"end":return n.stop()}}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"triggerZoomStart",value:function e(t){var r;if((t===null||t===void 0?void 0:t.touches.length)!==2){return}t.preventDefault();this.pinchToZoomDistance=Math.hypot((t.touches[1].screenX-t.touches[0].screenX)/screen.width,(t.touches[1].screenY-t.touches[0].screenY)/screen.height);if(this.mediaStream!=null&&((r=this.mediaTrackCapabilities)===null||r===void 0?void 0:r.zoom)!=null){var n=this.mediaStream.getVideoTracks();if(n.length!==0&&typeof n[0].getConstraints==="function"){this.pinchToZoomInitialZoom=this.mediaTrackCapabilities.zoom.min;var i=n[0].getConstraints();if(i.advanced!=null){var a=i.advanced.find(function(e){return"zoom"in e});if((a===null||a===void 0?void 0:a.zoom)!=null){this.pinchToZoomInitialZoom=a.zoom}}}}}},{key:"triggerZoomMove",value:function(){var e=_asyncToGenerator(regenerator.mark(function e(t){return regenerator.wrap(function e(r){while(1){switch(r.prev=r.next){case 0:if(!(this.pinchToZoomDistance==null||(t===null||t===void 0?void 0:t.touches.length)!==2)){r.next=2;break}return r.abrupt("return");case 2:t.preventDefault();r.next=5;return this.setZoom((Math.hypot((t.touches[1].screenX-t.touches[0].screenX)/screen.width,(t.touches[1].screenY-t.touches[0].screenY)/screen.height)-this.pinchToZoomDistance)*2,this.pinchToZoomInitialZoom);case 5:case"end":return r.stop()}}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"storeStreamCapabilities",value:function e(){if(this.mediaStream!=null){var t=this.mediaStream.getVideoTracks();if(t.length!==0&&typeof t[0].getCapabilities==="function"){this.mediaTrackCapabilities=t[0].getCapabilities()}}if(this.activeCamera!=null){var r;this.scanner.reportCameraProperties(this.activeCamera.cameraType,((r=this.mediaTrackCapabilities)===null||r===void 0?void 0:r.focusMode)==null||this.mediaTrackCapabilities.focusMode.includes(MeteringMode.CONTINUOUS))}}},{key:"setupAutofocus",value:function t(){window.clearTimeout(this.manualFocusWaitTimeout);window.clearTimeout(this.manualToAutofocusResumeTimeout);if(this.mediaStream!=null&&this.mediaTrackCapabilities!=null){var r=this.mediaTrackCapabilities.focusMode;if(r instanceof Array&&!r.includes(MeteringMode.CONTINUOUS)&&r.includes(MeteringMode.SINGLE_SHOT)){window.clearInterval(this.autofocusInterval);this.autofocusInterval=window.setInterval(this.triggerAutoFocus.bind(this),e.autofocusIntervalMs)}}}},{key:"triggerAutoFocus",value:function(){var e=_asyncToGenerator(regenerator.mark(function e(){return regenerator.wrap(function e(t){while(1){switch(t.prev=t.next){case 0:t.next=2;return this.triggerFocusMode(MeteringMode.SINGLE_SHOT);case 2:case"end":return t.stop()}}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"triggerFocusMode",value:function(){var e=_asyncToGenerator(regenerator.mark(function e(t){var r;return regenerator.wrap(function e(n){while(1){switch(n.prev=n.next){case 0:if(!(this.mediaStream!=null)){n.next=10;break}r=this.mediaStream.getVideoTracks();if(!(r.length!==0&&typeof r[0].applyConstraints==="function")){n.next=10;break}n.prev=3;n.next=6;return r[0].applyConstraints({advanced:[{focusMode:t}]});case 6:n.next=10;break;case 8:n.prev=8;n.t0=n["catch"](3);case 10:case"end":return n.stop()}}},e,this,[[3,8]])}));function t(t){return e.apply(this,arguments)}return t}()},{key:"enableTapToFocusListeners",value:function e(){var t=this;["touchend","mousedown"].forEach(function(e){t.gui.videoElement.addEventListener(e,t.triggerManualFocusListener)})}},{key:"enablePinchToZoomListeners",value:function e(){this.gui.videoElement.addEventListener("touchstart",this.triggerZoomStartListener);this.gui.videoElement.addEventListener("touchmove",this.triggerZoomMoveListener)}},{key:"disableTapToFocusListeners",value:function e(){var t=this;["touchend","mousedown"].forEach(function(e){t.gui.videoElement.removeEventListener(e,t.triggerManualFocusListener)})}},{key:"disablePinchToZoomListeners",value:function e(){this.gui.videoElement.removeEventListener("touchstart",this.triggerZoomStartListener);this.gui.videoElement.removeEventListener("touchmove",this.triggerZoomMoveListener)}},{key:"initializeCameraAndCheckUpdatedSettings",value:function(){var e=_asyncToGenerator(regenerator.mark(function e(t){var r=this;return regenerator.wrap(function e(n){while(1){switch(n.prev=n.next){case 0:n.prev=0;n.next=3;return this.initializeCamera(t);case 3:if(!(this.selectedCameraSettings!==this.activeCameraSettings&&(this.selectedCameraSettings==null||this.activeCameraSettings==null||Object.keys(this.selectedCameraSettings).some(function(e){return r.selectedCameraSettings[e]!==r.activeCameraSettings[e]})))){n.next=8;break}this.activeCameraSettings=this.selectedCameraSettings;n.next=7;return this.initializeCameraAndCheckUpdatedSettings(t);case 7:return n.abrupt("return",n.sent);case 8:n.prev=8;this.cameraInitializationPromise=undefined;return n.finish(8);case 11:case"end":return n.stop()}}},e,this,[[0,,8,11]])}));function t(t){return e.apply(this,arguments)}return t}()},{key:"handleCameraInitializationError",value:function(){var e=_asyncToGenerator(regenerator.mark(function e(t,r,n){var i;return regenerator.wrap(function e(a){while(1){switch(a.prev=a.next){case 0:if(!(!["OverconstrainedError","NotReadableError"].includes(n.name)||n.name==="NotReadableError"&&r===CameraResolutionConstraint.NONE)){a.next=4;break}Logger.log(Logger.Level.DEBUG,"Camera video stream access failure (unrecoverable error)",t,n);if(n.name!=="NotAllowedError"){CameraAccess.markCameraAsInaccessible(t)}throw n;case 4:if(!(n.name==="OverconstrainedError"&&r===CameraResolutionConstraint.NONE)){a.next=20;break}if(!(t.deviceId==="")){a.next=8;break}Logger.log(Logger.Level.DEBUG,"Camera video stream access failure (no camera with such type error)",t,n);throw n;case 8:Logger.log(Logger.Level.DEBUG,"Detected non-existent deviceId error, attempt to find and reaccess updated camera",t,n);i=t.deviceId;a.next=12;return CameraAccess.getCameras(true);case 12:if(!(i===t.deviceId)){a.next=18;break}Logger.log(Logger.Level.DEBUG,"Camera video stream access failure (updated camera not found after non-existent deviceId error)",t,n);CameraAccess.markCameraAsInaccessible(t);throw n;case 18:Logger.log(Logger.Level.DEBUG,"Updated camera found (recovered from non-existent deviceId error), attempt to access it",t);return a.abrupt("return",this.initializeCamera(t));case 20:return a.abrupt("return",this.initializeCamera(t,r+1));case 21:case"end":return a.stop()}}},e,this)}));function t(t,r,n){return e.apply(this,arguments)}return t}()},{key:"initializeCamera",value:function(){var t=_asyncToGenerator(regenerator.mark(function t(r,n){var i,a=this;var o,s;return regenerator.wrap(function t(c){while(1){switch(c.prev=c.next){case 0:this.gui.setCameraRecoveryVisible(false);if(!(r==null)){c.next=3;break}throw new CustomError(e.noCameraErrorParameters);case 3:c.next=5;return this.stopStream();case 5:this.torchEnabled=false;this.gui.setTorchTogglerVisible(false);(i=n)!==null&&i!==void 0?i:n=this.getInitialCameraResolutionConstraint();c.prev=8;c.next=11;return CameraAccess.accessCameraStream(n,r);case 11:o=c.sent;Logger.log(Logger.Level.DEBUG,"Camera accessed, waiting for video stream start...");if(!(typeof o.getTracks()[0].getSettings==="function")){c.next=22;break}s=o.getTracks()[0].getSettings();if(!(s.width!=null&&s.height!=null&&(s.width===2||s.height===2))){c.next=22;break}Logger.log(Logger.Level.DEBUG,"Camera video stream access failure (invalid video metadata):",r);if(!(n===CameraResolutionConstraint.NONE)){c.next=21;break}throw new CustomError(e.notReadableErrorParameters);case 21:return c.abrupt("return",this.initializeCamera(r,n+1));case 22:this.mediaStream=o;this.mediaStream.getVideoTracks().forEach(function(e){e.addEventListener("ended",a.videoTrackEndedListener);e.addEventListener("mute",a.videoTrackMuteListener);e.addEventListener("unmute",a.videoTrackMuteListener)});c.prev=24;c.next=27;return this.setupCameraStreamVideo(r,o);case 27:c.next=36;break;case 29:c.prev=29;c.t0=c["catch"](24);if(!(n===CameraResolutionConstraint.NONE)){c.next=35;break}throw c.t0;case 35:return c.abrupt("return",this.initializeCamera(r,n+1));case 36:c.next=41;break;case 38:c.prev=38;c.t1=c["catch"](8);return c.abrupt("return",this.handleCameraInitializationError(r,n,c.t1));case 41:case"end":return c.stop()}}},t,this,[[8,38],[24,29]])}));function r(e,r){return t.apply(this,arguments)}return r}()},{key:"setCameraAccessTimeout",value:function t(){var r=this;window.clearTimeout(this.cameraAccessTimeout);this.cameraAccessTimeout=window.setTimeout(_asyncToGenerator(regenerator.mark(function t(){var n;return regenerator.wrap(function t(i){while(1){switch(i.prev=i.next){case 0:i.next=2;return r.stopStream(true);case 2:(n=r.cameraAccessRejectCallback)===null||n===void 0?void 0:n.call(r,new CustomError(e.notReadableErrorParameters));case 3:case"end":return i.stop()}}},t)})),e.cameraAccessTimeoutMs)}},{key:"checkCameraAccess",value:function e(t){var r=this;return new promise(function(e,n){r.cameraAccessRejectCallback=function(e){Logger.log(Logger.Level.DEBUG,"Camera video stream access failure (video data load timeout):",t);r.gui.setCameraRecoveryVisible(true);n(e)};r.setCameraAccessTimeout()})}},{key:"checkVideoMetadata",value:function(){var t=_asyncToGenerator(regenerator.mark(function t(r){var n=this;return regenerator.wrap(function t(i){while(1){switch(i.prev=i.next){case 0:return i.abrupt("return",new promise(function(t,i){n.gui.videoElement.onloadeddata=function(){n.gui.videoElement.onloadeddata=null;window.clearTimeout(n.cameraAccessTimeout);if(n.gui.videoElement.videoWidth>2&&n.gui.videoElement.videoHeight>2&&n.gui.videoElement.currentTime>0){n.updateActiveCameraCurrentResolution(r);Logger.log(Logger.Level.DEBUG,"Camera video stream access success:",r);return t()}var a=performance.now();window.clearInterval(n.videoMetadataCheckInterval);n.videoMetadataCheckInterval=window.setInterval(_asyncToGenerator(regenerator.mark(function o(){return regenerator.wrap(function o(s){while(1){switch(s.prev=s.next){case 0:if(!(n.gui.videoElement.videoWidth<=2||n.gui.videoElement.videoHeight<=2||n.gui.videoElement.currentTime===0)){s.next=8;break}if(!(performance.now()-a>e.videoMetadataCheckTimeoutMs)){s.next=7;break}Logger.log(Logger.Level.DEBUG,"Camera video stream access failure (valid video metadata timeout):",r);window.clearInterval(n.videoMetadataCheckInterval);s.next=6;return n.stopStream(true);case 6:return s.abrupt("return",i(new CustomError(e.notReadableErrorParameters)));case 7:return s.abrupt("return");case 8:window.clearInterval(n.videoMetadataCheckInterval);n.updateActiveCameraCurrentResolution(r);Logger.log(Logger.Level.DEBUG,"Camera video stream access success:",r);t();case 12:case"end":return s.stop()}}},o)})),e.videoMetadataCheckIntervalMs)}}));case 1:case"end":return i.stop()}}},t)}));function r(e){return t.apply(this,arguments)}return r}()},{key:"setupCameraStreamVideo",value:function e(t,r){var n=this;this.gui.videoElement.addEventListener("loadedmetadata",this.postStreamInitializationListener);this.gui.videoElement.addEventListener("resize",this.videoResizeListener);if(this.tapToFocusEnabled){this.enableTapToFocusListeners()}if(this.pinchToZoomEnabled){this.enablePinchToZoomListeners()}var i=promise.race([this.checkCameraAccess(t),this.checkVideoMetadata(t),new promise(function(e){n.abortedCameraInitializationResolveCallback=e})]);this.gui.videoElement.srcObject=r;this.gui.videoElement.load();this.gui.playVideo();this.scanner.reportCameraProperties(t.cameraType);return i}}]);return e}();_defineProperty(CameraManager,"cameraAccessTimeoutMs",4e3);_defineProperty(CameraManager,"videoMetadataCheckTimeoutMs",4e3);_defineProperty(CameraManager,"videoMetadataCheckIntervalMs",50);_defineProperty(CameraManager,"getCapabilitiesTimeoutMs",500);_defineProperty(CameraManager,"autofocusIntervalMs",1500);_defineProperty(CameraManager,"manualToAutofocusResumeTimeoutMs",5e3);_defineProperty(CameraManager,"manualFocusWaitTimeoutMs",400);_defineProperty(CameraManager,"noCameraErrorParameters",{name:"NoCameraAvailableError",message:"No camera available"});_defineProperty(CameraManager,"notReadableErrorParameters",{name:"NotReadableError",message:"Could not initialize camera correctly"});function _createSuper$1(e){var t=_isNativeReflectConstruct$1();return function r(){var n=_getPrototypeOf(e),i;if(t){var a=_getPrototypeOf(this).constructor;i=construct(n,arguments,a)}else{i=n.apply(this,arguments)}return _possibleConstructorReturn(this,i)}}function _isNativeReflectConstruct$1(){if(typeof Reflect==="undefined"||!construct)return false;if(construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(construct(Boolean,[],function(){}));return true}catch(e){return false}}var DummyCameraManager=function(e){_inherits(r,e);var t=_createSuper$1(r);function r(){_classCallCheck(this,r);return t.apply(this,arguments)}_createClass(r,[{key:"setInteractionOptions",value:function e(t,r,n,i){return}},{key:"isCameraSwitcherEnabled",value:function e(){return false}},{key:"setCameraSwitcherEnabled",value:function(){var e=_asyncToGenerator(regenerator.mark(function e(t){return regenerator.wrap(function e(t){while(1){switch(t.prev=t.next){case 0:return t.abrupt("return");case 1:case"end":return t.stop()}}},e)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"isTorchToggleEnabled",value:function e(){return false}},{key:"setTorchToggleEnabled",value:function e(t){return}},{key:"isTapToFocusEnabled",value:function e(){return false}},{key:"setTapToFocusEnabled",value:function e(t){return}},{key:"isPinchToZoomEnabled",value:function e(){return false}},{key:"setPinchToZoomEnabled",value:function e(t){return}},{key:"setInitialCameraType",value:function e(t){return}},{key:"setCameraType",value:function(){var e=_asyncToGenerator(regenerator.mark(function e(t){return regenerator.wrap(function e(t){while(1){switch(t.prev=t.next){case 0:return t.abrupt("return");case 1:case"end":return t.stop()}}},e)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"setSelectedCamera",value:function e(t){return}},{key:"setSelectedCameraSettings",value:function e(t){return}},{key:"setupCameras",value:function(){var e=_asyncToGenerator(regenerator.mark(function e(){return regenerator.wrap(function e(t){while(1){switch(t.prev=t.next){case 0:return t.abrupt("return");case 1:case"end":return t.stop()}}},e)}));function t(){return e.apply(this,arguments)}return t}()},{key:"stopStream",value:function(){var e=_asyncToGenerator(regenerator.mark(function e(){return regenerator.wrap(function e(t){while(1){switch(t.prev=t.next){case 0:return t.abrupt("return");case 1:case"end":return t.stop()}}},e)}));function t(){return e.apply(this,arguments)}return t}()},{key:"applyCameraSettings",value:function(){var e=_asyncToGenerator(regenerator.mark(function e(t){return regenerator.wrap(function e(t){while(1){switch(t.prev=t.next){case 0:return t.abrupt("return");case 1:case"end":return t.stop()}}},e)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"reinitializeCamera",value:function(){var e=_asyncToGenerator(regenerator.mark(function e(){return regenerator.wrap(function e(t){while(1){switch(t.prev=t.next){case 0:return t.abrupt("return");case 1:case"end":return t.stop()}}},e)}));function t(){return e.apply(this,arguments)}return t}()},{key:"initializeCameraWithSettings",value:function(){var e=_asyncToGenerator(regenerator.mark(function e(t,r){return regenerator.wrap(function e(t){while(1){switch(t.prev=t.next){case 0:return t.abrupt("return");case 1:case"end":return t.stop()}}},e)}));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"setTorchEnabled",value:function(){var e=_asyncToGenerator(regenerator.mark(function e(t){return regenerator.wrap(function e(t){while(1){switch(t.prev=t.next){case 0:return t.abrupt("return");case 1:case"end":return t.stop()}}},e)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"toggleTorch",value:function(){var e=_asyncToGenerator(regenerator.mark(function e(){return regenerator.wrap(function e(t){while(1){switch(t.prev=t.next){case 0:return t.abrupt("return");case 1:case"end":return t.stop()}}},e)}));function t(){return e.apply(this,arguments)}return t}()},{key:"setZoom",value:function(){var e=_asyncToGenerator(regenerator.mark(function e(t,r){return regenerator.wrap(function e(t){while(1){switch(t.prev=t.next){case 0:return t.abrupt("return");case 1:case"end":return t.stop()}}},e)}));function t(t,r){return e.apply(this,arguments)}return t}()}]);return r}(CameraManager);var DESCRIPTORS=_descriptors;var getKeys=_objectKeys;var gOPS=_objectGops;var pIE=_objectPie;var toObject=_toObject;var IObject=_iobject;var $assign=Object.assign;var _objectAssign=!$assign||_fails(function(){var e={};var t={};var r=Symbol();var n="abcdefghijklmnopqrst";e[r]=7;n.split("").forEach(function(e){t[e]=e});return $assign({},e)[r]!=7||Object.keys($assign({},t)).join("")!=n})?function e(t,r){var n=toObject(t);var i=arguments.length;var a=1;var o=gOPS.f;var s=pIE.f;while(i>a){var c=IObject(arguments[a++]);var u=o?getKeys(c).concat(o(c)):getKeys(c);var l=u.length;var d=0;var f;while(l>d){f=u[d++];if(!DESCRIPTORS||s.call(c,f))n[f]=c[f]}}return n}:$assign;var $export=_export;$export($export.S+$export.F,"Object",{assign:_objectAssign});var assign$1=_core.exports.Object.assign;var assign=assign$1;var resizeObservers=[];var hasActiveObservations=function(){return resizeObservers.some(function(e){return e.activeTargets.length>0})};var hasSkippedObservations=function(){return resizeObservers.some(function(e){return e.skippedTargets.length>0})};var msg="ResizeObserver loop completed with undelivered notifications.";var deliverResizeLoopError=function(){var e;if(typeof ErrorEvent==="function"){e=new ErrorEvent("error",{message:msg})}else{e=document.createEvent("Event");e.initEvent("error",false,false);e.message=msg}window.dispatchEvent(e)};var ResizeObserverBoxOptions;(function(e){e["BORDER_BOX"]="border-box";e["CONTENT_BOX"]="content-box";e["DEVICE_PIXEL_CONTENT_BOX"]="device-pixel-content-box"})(ResizeObserverBoxOptions||(ResizeObserverBoxOptions={}));var freeze=function(e){return Object.freeze(e)};var ResizeObserverSize=function(){function e(e,t){this.inlineSize=e;this.blockSize=t;freeze(this)}return e}();var DOMRectReadOnly=function(){function e(e,t,r,n){this.x=e;this.y=t;this.width=r;this.height=n;this.top=this.y;this.left=this.x;this.bottom=this.top+this.height;this.right=this.left+this.width;return freeze(this)}e.prototype.toJSON=function(){var e=this,t=e.x,r=e.y,n=e.top,i=e.right,a=e.bottom,o=e.left,s=e.width,c=e.height;return{x:t,y:r,top:n,right:i,bottom:a,left:o,width:s,height:c}};e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)};return e}();var isSVG=function(e){return e instanceof SVGElement&&"getBBox"in e};var isHidden=function(e){if(isSVG(e)){var t=e.getBBox(),r=t.width,n=t.height;return!r&&!n}var i=e,a=i.offsetWidth,o=i.offsetHeight;return!(a||o||e.getClientRects().length)};var isElement=function(e){var t,r;if(e instanceof Element){return true}var n=(r=(t=e)===null||t===void 0?void 0:t.ownerDocument)===null||r===void 0?void 0:r.defaultView;return!!(n&&e instanceof n.Element)};var isReplacedElement=function(e){switch(e.tagName){case"INPUT":if(e.type!=="image"){break}case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return true}return false};var global$1=typeof window!=="undefined"?window:{};var cache=new WeakMap;var scrollRegexp=/auto|scroll/;var verticalRegexp=/^tb|vertical/;var IE=/msie|trident/i.test(global$1.navigator&&global$1.navigator.userAgent);var parseDimension=function(e){return parseFloat(e||"0")};var size=function(e,t,r){if(e===void 0){e=0}if(t===void 0){t=0}if(r===void 0){r=false}return new ResizeObserverSize((r?t:e)||0,(r?e:t)||0)};var zeroBoxes=freeze({devicePixelContentBoxSize:size(),borderBoxSize:size(),contentBoxSize:size(),contentRect:new DOMRectReadOnly(0,0,0,0)});var calculateBoxSizes=function(e,t){if(t===void 0){t=false}if(cache.has(e)&&!t){return cache.get(e)}if(isHidden(e)){cache.set(e,zeroBoxes);return zeroBoxes}var r=getComputedStyle(e);var n=isSVG(e)&&e.ownerSVGElement&&e.getBBox();var i=!IE&&r.boxSizing==="border-box";var a=verticalRegexp.test(r.writingMode||"");var o=!n&&scrollRegexp.test(r.overflowY||"");var s=!n&&scrollRegexp.test(r.overflowX||"");var c=n?0:parseDimension(r.paddingTop);var u=n?0:parseDimension(r.paddingRight);var l=n?0:parseDimension(r.paddingBottom);var d=n?0:parseDimension(r.paddingLeft);var f=n?0:parseDimension(r.borderTopWidth);var h=n?0:parseDimension(r.borderRightWidth);var v=n?0:parseDimension(r.borderBottomWidth);var p=n?0:parseDimension(r.borderLeftWidth);var g=d+u;var m=c+l;var y=p+h;var b=f+v;var _=!s?0:e.offsetHeight-b-e.clientHeight;var A=!o?0:e.offsetWidth-y-e.clientWidth;var E=i?g+y:0;var S=i?m+b:0;var C=n?n.width:parseDimension(r.width)-E-A;var T=n?n.height:parseDimension(r.height)-S-_;var w=C+g+A+y;var I=T+m+_+b;var N=freeze({devicePixelContentBoxSize:size(Math.round(C*devicePixelRatio),Math.round(T*devicePixelRatio),a),borderBoxSize:size(w,I,a),contentBoxSize:size(C,T,a),contentRect:new DOMRectReadOnly(d,c,C,T)});cache.set(e,N);return N};var calculateBoxSize=function(e,t,r){var n=calculateBoxSizes(e,r),i=n.borderBoxSize,a=n.contentBoxSize,o=n.devicePixelContentBoxSize;switch(t){case ResizeObserverBoxOptions.DEVICE_PIXEL_CONTENT_BOX:return o;case ResizeObserverBoxOptions.BORDER_BOX:return i;default:return a}};var ResizeObserverEntry=function(){function e(e){var t=calculateBoxSizes(e);this.target=e;this.contentRect=t.contentRect;this.borderBoxSize=freeze([t.borderBoxSize]);this.contentBoxSize=freeze([t.contentBoxSize]);this.devicePixelContentBoxSize=freeze([t.devicePixelContentBoxSize])}return e}();var calculateDepthForNode=function(e){if(isHidden(e)){return Infinity}var t=0;var r=e.parentNode;while(r){t+=1;r=r.parentNode}return t};var broadcastActiveObservations=function(){var e=Infinity;var t=[];resizeObservers.forEach(function r(n){if(n.activeTargets.length===0){return}var i=[];n.activeTargets.forEach(function t(r){var n=new ResizeObserverEntry(r.target);var a=calculateDepthForNode(r.target);i.push(n);r.lastReportedSize=calculateBoxSize(r.target,r.observedBox);if(a<e){e=a}});t.push(function e(){n.callback.call(n.observer,i,n.observer)});n.activeTargets.splice(0,n.activeTargets.length)});for(var r=0,n=t;r<n.length;r++){var i=n[r];i()}return e};var gatherActiveObservationsAtDepth=function(e){resizeObservers.forEach(function t(r){r.activeTargets.splice(0,r.activeTargets.length);r.skippedTargets.splice(0,r.skippedTargets.length);r.observationTargets.forEach(function t(n){if(n.isActive()){if(calculateDepthForNode(n.target)>e){r.activeTargets.push(n)}else{r.skippedTargets.push(n)}}})})};var process=function(){var e=0;gatherActiveObservationsAtDepth(e);while(hasActiveObservations()){e=broadcastActiveObservations();gatherActiveObservationsAtDepth(e)}if(hasSkippedObservations()){deliverResizeLoopError()}return e>0};var trigger;var callbacks=[];var notify=function(){return callbacks.splice(0).forEach(function(e){return e()})};var queueMicroTask=function(e){if(!trigger){var t=0;var r=document.createTextNode("");var n={characterData:true};new MutationObserver(function(){return notify()}).observe(r,n);trigger=function(){r.textContent=""+(t?t--:t++)}}callbacks.push(e);trigger()};var queueResizeObserver=function(e){queueMicroTask(function t(){requestAnimationFrame(e)})};var watching=0;var isWatching=function(){return!!watching};var CATCH_PERIOD=250;var observerConfig={attributes:true,characterData:true,childList:true,subtree:true};var events=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"];var time=function(e){if(e===void 0){e=0}return Date.now()+e};var scheduled=false;var Scheduler=function(){function e(){var e=this;this.stopped=true;this.listener=function(){return e.schedule()}}e.prototype.run=function(e){var t=this;if(e===void 0){e=CATCH_PERIOD}if(scheduled){return}scheduled=true;var r=time(e);queueResizeObserver(function(){var n=false;try{n=process()}finally{scheduled=false;e=r-time();if(!isWatching()){return}if(n){t.run(1e3)}else if(e>0){t.run(e)}else{t.start()}}})};e.prototype.schedule=function(){this.stop();this.run()};e.prototype.observe=function(){var e=this;var t=function(){return e.observer&&e.observer.observe(document.body,observerConfig)};document.body?t():global$1.addEventListener("DOMContentLoaded",t)};e.prototype.start=function(){var e=this;if(this.stopped){this.stopped=false;this.observer=new MutationObserver(this.listener);this.observe();events.forEach(function(t){return global$1.addEventListener(t,e.listener,true)})}};e.prototype.stop=function(){var e=this;if(!this.stopped){this.observer&&this.observer.disconnect();events.forEach(function(t){return global$1.removeEventListener(t,e.listener,true)});this.stopped=true}};return e}();var scheduler=new Scheduler;var updateCount=function(e){!watching&&e>0&&scheduler.start();watching+=e;!watching&&scheduler.stop()};var skipNotifyOnElement=function(e){return!isSVG(e)&&!isReplacedElement(e)&&getComputedStyle(e).display==="inline"};var ResizeObservation=function(){function e(e,t){this.target=e;this.observedBox=t||ResizeObserverBoxOptions.CONTENT_BOX;this.lastReportedSize={inlineSize:0,blockSize:0}}e.prototype.isActive=function(){var e=calculateBoxSize(this.target,this.observedBox,true);if(skipNotifyOnElement(this.target)){this.lastReportedSize=e}if(this.lastReportedSize.inlineSize!==e.inlineSize||this.lastReportedSize.blockSize!==e.blockSize){return true}return false};return e}();var ResizeObserverDetail=function(){function e(e,t){this.activeTargets=[];this.skippedTargets=[];this.observationTargets=[];this.observer=e;this.callback=t}return e}();var observerMap=new WeakMap;var getObservationIndex=function(e,t){for(var r=0;r<e.length;r+=1){if(e[r].target===t){return r}}return-1};var ResizeObserverController=function(){function e(){}e.connect=function(e,t){var r=new ResizeObserverDetail(e,t);observerMap.set(e,r)};e.observe=function(e,t,r){var n=observerMap.get(e);var i=n.observationTargets.length===0;if(getObservationIndex(n.observationTargets,t)<0){i&&resizeObservers.push(n);n.observationTargets.push(new ResizeObservation(t,r&&r.box));updateCount(1);scheduler.schedule()}};e.unobserve=function(e,t){var r=observerMap.get(e);var n=getObservationIndex(r.observationTargets,t);var i=r.observationTargets.length===1;if(n>=0){i&&resizeObservers.splice(resizeObservers.indexOf(r),1);r.observationTargets.splice(n,1);updateCount(-1)}};e.disconnect=function(e){var t=this;var r=observerMap.get(e);r.observationTargets.slice().forEach(function(r){return t.unobserve(e,r.target)});r.activeTargets.splice(0,r.activeTargets.length)};return e}();var ResizeObserver$1=function(){function e(e){if(arguments.length===0){throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.")}if(typeof e!=="function"){throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.")}ResizeObserverController.connect(this,e)}e.prototype.observe=function(e,t){if(arguments.length===0){throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.")}if(!isElement(e)){throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element")}ResizeObserverController.observe(this,e,t)};e.prototype.unobserve=function(e){if(arguments.length===0){throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.")}if(!isElement(e)){throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element")}ResizeObserverController.unobserve(this,e)};e.prototype.disconnect=function(){ResizeObserverController.disconnect(this)};e.toString=function(){return"function ResizeObserver () { [polyfill code] }"};return e}();var _window$ResizeObserve;var ResizeObserver=(_window$ResizeObserve=window.ResizeObserver)!==null&&_window$ResizeObserve!==void 0?_window$ResizeObserve:ResizeObserver$1;var GUI=function(){function e(t){var r=this;_classCallCheck(this,e);_defineProperty(this,"videoElement",void 0);_defineProperty(this,"cameraSwitcherElement",void 0);_defineProperty(this,"torchTogglerElement",void 0);_defineProperty(this,"cameraRecoveryElement",void 0);_defineProperty(this,"scanner",void 0);_defineProperty(this,"singleImageModeEnabled",void 0);_defineProperty(this,"singleImageModeSettings",void 0);_defineProperty(this,"grandParentElement",void 0);_defineProperty(this,"parentElement",void 0);_defineProperty(this,"laserContainerElement",void 0);_defineProperty(this,"laserActiveImageElement",void 0);_defineProperty(this,"laserPausedImageElement",void 0);_defineProperty(this,"viewfinderElement",void 0);_defineProperty(this,"cameraUploadElement",void 0);_defineProperty(this,"cameraUploadLabelElement",void 0);_defineProperty(this,"cameraUploadInputElement",void 0);_defineProperty(this,"cameraUploadProgressElement",void 0);_defineProperty(this,"visibilityListener",void 0);_defineProperty(this,"videoPauseListener",void 0);_defineProperty(this,"videoResizeListener",void 0);_defineProperty(this,"webGLContextLostListener",void 0);_defineProperty(this,"newScanSettingsListener",void 0);_defineProperty(this,"contextCreatedShowLogoListener",void 0);_defineProperty(this,"contextCreatedActivateGUIListener",void 0);_defineProperty(this,"resizeObserver",void 0);_defineProperty(this,"cameraUploadCallback",void 0);_defineProperty(this,"mirrorImageOverrides",void 0);_defineProperty(this,"contextWebGL",void 0);_defineProperty(this,"context2d",void 0);_defineProperty(this,"cameraManager",void 0);_defineProperty(this,"originElement",void 0);_defineProperty(this,"scanningPaused",void 0);_defineProperty(this,"visible",void 0);_defineProperty(this,"guiStyle",void 0);_defineProperty(this,"videoFit",void 0);_defineProperty(this,"customLaserArea",void 0);_defineProperty(this,"customViewfinderArea",void 0);_defineProperty(this,"cameraUploadInProgress",void 0);_defineProperty(this,"cameraSwitchInProgress",void 0);_defineProperty(this,"dataCaptureContextCreated",void 0);_defineProperty(this,"isVideoElementDetached",false);this.scanner=t.scanner;this.originElement=t.originElement;this.singleImageModeEnabled=t.singleImageModeEnabled;this.singleImageModeSettings=t.singleImageModeSettings;this.scanningPaused=t.scanningPaused;this.cameraUploadCallback=t.cameraUploadCallback;this.mirrorImageOverrides=new map;this.cameraUploadInProgress=false;this.cameraSwitchInProgress=false;this.dataCaptureContextCreated=false;this.grandParentElement=document.createElement("div");this.grandParentElement.className=e.grandParentElementClassName;this.originElement.appendChild(this.grandParentElement);this.parentElement=document.createElement("div");this.parentElement.className=e.parentElementClassName;this.grandParentElement.appendChild(this.parentElement);this.videoElement=document.createElement("video");this.cameraSwitcherElement=document.createElement("img");this.torchTogglerElement=document.createElement("img");this.laserContainerElement=document.createElement("div");this.laserActiveImageElement=document.createElement("img");this.laserPausedImageElement=document.createElement("img");this.cameraRecoveryElement=document.createElement("div");this.viewfinderElement=document.createElement("div");var n=document.createElement("canvas");this.webGLContextLostListener=this.handleWebGLContextLost.bind(this);if(t.singleImageModeEnabled){this.context2d=n.getContext("2d");this.cameraUploadElement=document.createElement("div");this.cameraUploadLabelElement=document.createElement("label");this.cameraUploadInputElement=document.createElement("input");this.cameraUploadProgressElement=document.createElement("div");this.setupCameraUploadGuiAssets();this.guiStyle=BarcodePicker.GuiStyle.NONE}else{this.setupContext(n);this.setupVideoElement();this.setupCameraSwitcher();this.setupTorchToggler();this.setupCameraRecovery(t.cameraRecoveryText);this.setupFullGuiAssets();this.setGuiStyle(t.guiStyle);this.setVideoFit(t.videoFit);this.setLaserArea(t.laserArea);this.setViewfinderArea(t.viewfinderArea);this.visibilityListener=this.checkAndRecoverPlayback.bind(this);document.addEventListener("visibilitychange",this.visibilityListener);this.newScanSettingsListener=this.handleNewScanSettings.bind(this);this.scanner.on("newScanSettings",this.newScanSettingsListener);this.handleNewScanSettings();this.videoPauseListener=this.handleVideoPause.bind(this);this.videoElement.addEventListener("pause",this.videoPauseListener);this.videoResizeListener=this.handleVideoResize.bind(this);this.videoElement.addEventListener("resize",this.videoResizeListener)}if(t.hideLogo){this.contextCreatedShowLogoListener=this.showScanditLogo.bind(this,t.hideLogo);this.scanner.on("contextCreated",this.contextCreatedShowLogoListener)}else{this.showScanditLogo(t.hideLogo)}this.contextCreatedActivateGUIListener=this.activateGUI.bind(this);this.scanner.on("contextCreated",this.contextCreatedActivateGUIListener);this.resize();this.resizeObserver=new ResizeObserver(function(){r.resize()});this.resizeObserver.observe(this.originElement);this.setVisible(t.visible)}_createClass(e,[{key:"destroy",value:function t(){var r,n,i,a;if(this.visibilityListener!=null){document.removeEventListener("visibilitychange",this.visibilityListener)}if(this.newScanSettingsListener!=null){this.scanner.removeListener("newScanSettings",this.newScanSettingsListener)}if(this.videoPauseListener!=null){this.videoElement.removeEventListener("pause",this.videoPauseListener)}if(this.videoResizeListener!=null){this.videoElement.removeEventListener("resize",this.videoResizeListener)}if(this.contextCreatedShowLogoListener!=null){this.scanner.removeListener("contextCreated",this.contextCreatedShowLogoListener)}if(this.contextCreatedActivateGUIListener!=null){this.scanner.removeListener("contextCreated",this.contextCreatedActivateGUIListener)}this.resizeObserver.disconnect();this.grandParentElement.remove();this.videoElement.remove();(r=this.contextWebGL)===null||r===void 0?void 0:(n=r.canvas)===null||n===void 0?void 0:n.removeEventListener("webglcontextlost",this.webGLContextLostListener);(i=this.contextWebGL)===null||i===void 0?void 0:(a=i.getExtension("WEBGL_lose_context"))===null||a===void 0?void 0:a.loseContext();this.contextWebGL=undefined;this.context2d=undefined;this.originElement.classList.remove(e.hiddenClassName)}},{key:"setCameraManager",value:function e(t){this.cameraManager=t}},{key:"pauseScanning",value:function t(){this.scanningPaused=true;this.laserActiveImageElement.classList.add(e.hiddenOpacityClassName);this.laserPausedImageElement.classList.remove(e.hiddenOpacityClassName);this.viewfinderElement.classList.add(e.pausedClassName)}},{key:"resumeScanning",value:function t(){this.scanningPaused=false;if(this.dataCaptureContextCreated){this.laserPausedImageElement.classList.add(e.hiddenOpacityClassName);this.laserActiveImageElement.classList.remove(e.hiddenOpacityClassName);this.viewfinderElement.classList.remove(e.pausedClassName)}}},{key:"isVisible",value:function e(){return this.visible}},{key:"setVisible",value:function t(r){this.visible=r;if(r){this.originElement.classList.remove(e.hiddenClassName);if(this.guiStyle===BarcodePicker.GuiStyle.LASER){this.laserActiveImageElement.classList.remove(e.flashColorClassName)}else if(this.guiStyle===BarcodePicker.GuiStyle.VIEWFINDER){this.viewfinderElement.classList.remove(e.flashWhiteClassName)}}else{this.originElement.classList.add(e.hiddenClassName)}}},{key:"isMirrorImageEnabled",value:function e(){var t,r;if(((t=this.cameraManager)===null||t===void 0?void 0:t.selectedCamera)!=null&&((r=this.cameraManager)===null||r===void 0?void 0:r.activeCamera)!=null){var n=this.mirrorImageOverrides.get(this.cameraManager.activeCamera);return n!==null&&n!==void 0?n:this.cameraManager.activeCamera.cameraType===Camera.Type.FRONT}else{return false}}},{key:"setMirrorImageEnabled",value:function t(r,n){var i;if(((i=this.cameraManager)===null||i===void 0?void 0:i.selectedCamera)!=null){if(r){this.videoElement.classList.add(e.mirroredClassName)}else{this.videoElement.classList.remove(e.mirroredClassName)}if(n){this.mirrorImageOverrides.set(this.cameraManager.selectedCamera,r)}}}},{key:"setGuiStyle",value:function t(r){if(this.singleImageModeEnabled){return}switch(r){case BarcodePicker.GuiStyle.LASER:this.guiStyle=r;this.laserContainerElement.classList.remove(e.hiddenClassName);this.viewfinderElement.classList.add(e.hiddenClassName);break;case BarcodePicker.GuiStyle.VIEWFINDER:this.guiStyle=r;this.laserContainerElement.classList.add(e.hiddenClassName);this.viewfinderElement.classList.remove(e.hiddenClassName);break;case BarcodePicker.GuiStyle.NONE:default:this.guiStyle=BarcodePicker.GuiStyle.NONE;this.laserContainerElement.classList.add(e.hiddenClassName);this.viewfinderElement.classList.add(e.hiddenClassName);break}}},{key:"setLaserArea",value:function e(t){this.customLaserArea=t;if(t==null){t=this.scanner.getScanSettings().getSearchArea()}var r=.025;var n=1-r*2;this.laserContainerElement.style.left="".concat((r+t.x*n)*100,"%");this.laserContainerElement.style.width="".concat(t.width*n*100,"%");this.laserContainerElement.style.top="".concat((r+t.y*n)*100,"%");this.laserContainerElement.style.height="".concat(t.height*n*100,"%")}},{key:"setViewfinderArea",value:function e(t){this.customViewfinderArea=t;if(t==null){t=this.scanner.getScanSettings().getSearchArea()}var r=.025;var n=1-r*2;this.viewfinderElement.style.left="".concat((r+t.x*n)*100,"%");this.viewfinderElement.style.width="".concat(t.width*n*100,"%");this.viewfinderElement.style.top="".concat((r+t.y*n)*100,"%");this.viewfinderElement.style.height="".concat(t.height*n*100,"%")}},{key:"setVideoFit",value:function e(t){if(this.singleImageModeEnabled){return}this.videoFit=t;if(t===BarcodePicker.ObjectFit.COVER){this.videoElement.style.objectFit="cover";this.videoElement.dataset.objectFit="cover"}else{this.videoElement.style.objectFit="contain";this.videoElement.dataset.objectFit="contain";this.scanner.applyScanSettings(this.scanner.getScanSettings().setBaseSearchArea({x:0,y:0,width:1,height:1}))}this.resize()}},{key:"reassignOriginElement",value:function t(r){if(!this.visible){this.originElement.classList.remove(e.hiddenClassName);r.classList.add(e.hiddenClassName)}r.appendChild(this.grandParentElement);this.checkAndRecoverPlayback().catch(function(){});this.resize();this.resizeObserver.disconnect();this.resizeObserver.observe(r);this.originElement=r}},{key:"flashGUI",value:function e(){if(this.guiStyle===BarcodePicker.GuiStyle.LASER){this.flashLaser()}else if(this.guiStyle===BarcodePicker.GuiStyle.VIEWFINDER){this.flashViewfinder()}}},{key:"getImageData",value:function e(t){function r(e,t){return e.readyState===4&&e.videoWidth>2&&e.videoHeight>2&&t.canvas.width>2&&t.canvas.height>2}if(this.singleImageModeEnabled&&this.context2d!=null){return new Uint8Array(this.context2d.getImageData(0,0,this.context2d.canvas.width,this.context2d.canvas.height).data.buffer)}if(!this.singleImageModeEnabled){if(this.contextWebGL!=null){if(!r(this.videoElement,this.contextWebGL)||this.contextWebGL.drawingBufferWidth<=2||this.contextWebGL.drawingBufferHeight<=2){return}var n=this.contextWebGL.drawingBufferWidth*this.contextWebGL.drawingBufferHeight*4;if(t==null||t.byteLength===0||t.byteLength!==n){t=new Uint8Array(n)}this.contextWebGL.texImage2D(this.contextWebGL.TEXTURE_2D,0,this.contextWebGL.RGBA,this.contextWebGL.RGBA,this.contextWebGL.UNSIGNED_BYTE,this.videoElement);this.contextWebGL.readPixels(0,0,this.contextWebGL.drawingBufferWidth,this.contextWebGL.drawingBufferHeight,this.contextWebGL.RGBA,this.contextWebGL.UNSIGNED_BYTE,t);if(t[3]!==255){Logger.log(Logger.Level.WARN,"Detected incorrect GPU accelerated WebGL image processing, switching to canvas mode");this.contextWebGL=undefined;this.setupContext(document.createElement("canvas"),true);this.handleVideoResize();return this.getImageData(t)}return t}if(this.context2d!=null){if(!r(this.videoElement,this.context2d)){return}this.context2d.drawImage(this.videoElement,0,0);return new Uint8Array(this.context2d.getImageData(0,0,this.context2d.canvas.width,this.context2d.canvas.height).data.buffer)}}return}},{key:"getVideoCurrentTime",value:function e(){return this.videoElement.currentTime}},{key:"setCameraSwitcherVisible",value:function t(r){if(r){this.cameraSwitcherElement.classList.remove(e.hiddenClassName)}else{this.cameraSwitcherElement.classList.add(e.hiddenClassName)}}},{key:"isCameraRecoveryVisible",value:function t(){return!this.cameraRecoveryElement.classList.contains(e.hiddenClassName)}},{key:"setCameraRecoveryVisible",value:function t(r){if(r){this.cameraRecoveryElement.classList.remove(e.hiddenClassName)}else{this.cameraRecoveryElement.classList.add(e.hiddenClassName)}}},{key:"setTorchTogglerVisible",value:function t(r){if(r){this.torchTogglerElement.classList.remove(e.hiddenClassName)}else{this.torchTogglerElement.classList.add(e.hiddenClassName)}}},{key:"playVideo",value:function e(){var t=this.videoElement.play();t===null||t===void 0?void 0:t.catch(function(){})}},{key:"setVideoVisible",value:function e(t){this.videoElement.style.visibility=t?"visible":"hidden"}},{key:"setCameraType",value:function e(t){var r;(r=this.cameraUploadInputElement)===null||r===void 0?void 0:r.setAttribute("capture",t===Camera.Type.FRONT?"user":"environment")}},{key:"setCameraUploadGuiBusyScanning",value:function t(r){if(r){this.cameraUploadProgressElement.classList.remove(e.flashInsetClassName);this.cameraUploadElement.classList.add(e.opacityPulseClassName)}else{this.cameraUploadProgressElement.classList.add(e.flashInsetClassName);this.cameraUploadElement.classList.remove(e.opacityPulseClassName)}}},{key:"setupContext",value:function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(r){this.context2d=t.getContext("2d");return}var n=t.getContext("webgl",{alpha:false,antialias:false});if(n==null){n=t.getContext("experimental-webgl",{alpha:false,antialias:false})}if(n!=null){this.setupWebGL(n);t.addEventListener("webglcontextlost",this.webGLContextLostListener)}else{this.context2d=t.getContext("2d")}}},{key:"setupWebGL",value:function e(t){var r=t.createTexture();t.bindTexture(t.TEXTURE_2D,r);var n=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,n);t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,r,0);t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE);t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE);t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST);t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST);this.contextWebGL=t}},{key:"setupVideoElement",value:function t(){this.videoElement.setAttribute("autoplay","autoplay");this.videoElement.setAttribute("playsinline","true");this.videoElement.setAttribute("muted","muted");this.videoElement.className=e.videoElementClassName;this.parentElement.appendChild(this.videoElement)}},{key:"setupCameraUploadGuiAssets",value:function t(){var r,n=this,i;var a=BrowserHelper.userAgentInfo.getDevice().type;var o=a==="mobile"||a==="tablet"?SingleImageModeSettings.defaultMobile:SingleImageModeSettings.defaultDesktop;this.cameraUploadElement.className=e.cameraUploadElementClassName;assign(this.cameraUploadElement.style,o.containerStyle,this.singleImageModeSettings.containerStyle);this.parentElement.appendChild(this.cameraUploadElement);var s=(r=this.singleImageModeSettings.informationElement)!==null&&r!==void 0?r:o.informationElement;assign(s.style,o.informationStyle,this.singleImageModeSettings.informationStyle);this.cameraUploadElement.appendChild(s);this.cameraUploadInputElement.type="file";this.cameraUploadInputElement.accept="image/*";this.cameraUploadInputElement.addEventListener("change",this.cameraUploadFile.bind(this));var c=function e(t){if(n.scanningPaused||n.cameraUploadInProgress){t.preventDefault()}};this.cameraUploadInputElement.addEventListener("click",c);this.cameraUploadInputElement.addEventListener("keydown",c);this.cameraUploadLabelElement.appendChild(this.cameraUploadInputElement);var u=(i=this.singleImageModeSettings.buttonElement)!==null&&i!==void 0?i:o.buttonElement;[this.cameraUploadProgressElement.style,u.style].forEach(function(e){assign(e,o.buttonStyle,n.singleImageModeSettings.buttonStyle)});u.style.maxWidth="100px";u.style.maxHeight="100px";this.cameraUploadLabelElement.appendChild(u);this.cameraUploadProgressElement.classList.add("radial-progress");this.cameraUploadLabelElement.appendChild(this.cameraUploadProgressElement);this.cameraUploadElement.appendChild(this.cameraUploadLabelElement)}},{key:"setupFullGuiAssets",value:function t(){this.laserActiveImageElement.src=laserActiveImage;this.laserContainerElement.appendChild(this.laserActiveImageElement);this.laserPausedImageElement.src=laserPausedImage;this.laserContainerElement.appendChild(this.laserPausedImageElement);this.laserContainerElement.className=e.laserContainerElementClassName;this.parentElement.appendChild(this.laserContainerElement);this.viewfinderElement.className=e.viewfinderElementClassName;this.parentElement.appendChild(this.viewfinderElement);this.laserActiveImageElement.classList.add(e.hiddenOpacityClassName);this.laserPausedImageElement.classList.remove(e.hiddenOpacityClassName);this.viewfinderElement.classList.add(e.pausedClassName)}},{key:"flashLaser",value:function t(){this.laserActiveImageElement.classList.remove(e.flashColorClassName);this.laserActiveImageElement.offsetHeight;this.laserActiveImageElement.classList.add(e.flashColorClassName)}},{key:"flashViewfinder",value:function t(){this.viewfinderElement.classList.remove(e.flashWhiteClassName);this.viewfinderElement.offsetHeight;this.viewfinderElement.classList.add(e.flashWhiteClassName)}},{key:"resize",value:function e(){this.parentElement.style.maxWidth="";this.parentElement.style.maxHeight="";var t=this.originElement.clientWidth;var r=this.originElement.clientHeight;if(t===0||r===0){if(!this.singleImageModeEnabled){this.handleVideoDisplay(true)}return}if(this.singleImageModeEnabled){this.resizeCameraUpload(t,r)}else{this.resizeVideo(t,r);this.handleVideoDisplay(false)}}},{key:"resizeCameraUpload",value:function e(t,r){this.cameraUploadLabelElement.style.transform="scale(".concat(Math.min(1,t/300,r/300),")")}},{key:"resizeVideo",value:function e(t,r){if(this.videoElement.videoWidth<=2||this.videoElement.videoHeight<=2){return}var n=this.videoElement.videoWidth/this.videoElement.videoHeight;if(this.videoFit===BarcodePicker.ObjectFit.COVER){var i=1;var a=1;if(n<t/r){a=Math.min(1,r/(t/n))}else{i=Math.min(1,t/(r*n))}this.scanner.applyScanSettings(this.scanner.getScanSettings().setBaseSearchArea({x:(1-i)/2,y:(1-a)/2,width:i,height:a}));return}if(n>t/r){r=t/n}else{t=r*n}this.parentElement.style.maxWidth="".concat(Math.ceil(t),"px");this.parentElement.style.maxHeight="".concat(Math.ceil(r),"px");window.objectFitPolyfill(this.videoElement)}},{key:"checkAndRecoverPlayback",value:function(){var e=_asyncToGenerator(regenerator.mark(function e(){var t,r;var n,i;return regenerator.wrap(function e(a){while(1){switch(a.prev=a.next){case 0:n=this.videoElement.srcObject;if(!(document.visibilityState==="visible"&&((t=this.cameraManager)===null||t===void 0?void 0:t.activeCamera)!=null&&((r=this.videoElement)===null||r===void 0?void 0:r.srcObject)!=null)){a.next=15;break}if(!(!n.active||((i=n.getVideoTracks()[0])===null||i===void 0?void 0:i.muted)!==false)){a.next=13;break}a.prev=3;Logger.log(Logger.Level.DEBUG,'Detected visibility change ("visible") event with inactive video source, try to reinitialize camera');a.next=7;return this.cameraManager.reinitializeCamera();case 7:a.next=11;break;case 9:a.prev=9;a.t0=a["catch"](3);case 11:a.next=15;break;case 13:Logger.log(Logger.Level.DEBUG,'Detected visibility change ("visible") event with active video source, replay video');this.playVideo();case 15:case"end":return a.stop()}}},e,this,[[3,9]])}));function t(){return e.apply(this,arguments)}return t}()},{key:"updateCameraUploadProgress",value:function e(t){this.cameraUploadProgressElement.setAttribute("data-progress",t)}},{key:"cameraUploadImageLoad",value:function(){var e=_asyncToGenerator(regenerator.mark(function e(t){var r,n,i;return regenerator.wrap(function e(a){while(1){switch(a.prev=a.next){case 0:this.updateCameraUploadProgress("100");i=1440;if(t.naturalWidth<=i&&t.naturalHeight<=i){r=t.naturalWidth;n=t.naturalHeight}else{if(t.naturalWidth>t.naturalHeight){r=i;n=Math.round(t.naturalHeight/t.naturalWidth*i)}else{r=Math.round(t.naturalWidth/t.naturalHeight*i);n=i}}a.next=5;return this.cameraUploadFileProcess(t,r,n);case 5:case"end":return a.stop()}}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"cameraUploadFileProcess",value:function(){var e=_asyncToGenerator(regenerator.mark(function e(t,r,n){return regenerator.wrap(function e(i){while(1){switch(i.prev=i.next){case 0:if(this.context2d!=null){this.context2d.canvas.width=r;this.context2d.canvas.height=n;this.context2d.drawImage(t,0,0,r,n);this.scanner.applyImageSettings({width:r,height:n,format:ImageSettings.Format.RGBA_8U})}this.setCameraUploadGuiBusyScanning(true);i.next=4;return this.cameraUploadCallback();case 4:this.setCameraUploadGuiBusyScanning(false);this.cameraUploadInProgress=false;case 6:case"end":return i.stop()}}},e,this)}));function t(t,r,n){return e.apply(this,arguments)}return t}()},{key:"cameraUploadFile",value:function e(){var t=this;var r=this.cameraUploadInputElement.files;if(r!=null&&r.length!==0){this.cameraUploadInProgress=true;var n=new Image;var i=new FileReader;i.onload=function(){t.cameraUploadInputElement.value="";if(i.result!=null){n.onload=t.cameraUploadImageLoad.bind(t,n);n.onprogress=function(e){if(e.lengthComputable){var r=Math.round(e.loaded/e.total*20)*5;if(r<=100){t.updateCameraUploadProgress(r.toString())}}};n.onerror=function(){t.cameraUploadInProgress=false;Logger.log(Logger.Level.WARN,"Could not load image from selected file")};n.src=i.result}};i.onerror=function(){var e;t.cameraUploadInProgress=false;Logger.log(Logger.Level.WARN,"Error while reading the file: ".concat((e=i.error)===null||e===void 0?void 0:e.toString()))};this.updateCameraUploadProgress("0");i.readAsDataURL(r[0])}}},{key:"cameraSwitcherListener",value:function(){var e=_asyncToGenerator(regenerator.mark(function e(t){var r,n,i,a;return regenerator.wrap(function e(o){while(1){switch(o.prev=o.next){case 0:if(!(!this.cameraSwitchInProgress&&this.cameraManager!=null)){o.next=40;break}r=this.cameraManager;t.preventDefault();o.prev=3;o.next=6;return CameraAccess.getCameras();case 6:n=o.sent;if(!(r.activeCamera==null)){o.next=9;break}return o.abrupt("return");case 9:if(!(n.length<=1)){o.next=12;break}this.setCameraSwitcherVisible(false);return o.abrupt("return");case 12:this.cameraSwitchInProgress=true;i=n.indexOf(r.activeCamera);a=(i+1)%n.length;case 15:if(!(a!==i)){o.next=33;break}o.prev=16;o.next=19;return r.initializeCameraWithSettings(n[a],r.activeCameraSettings);case 19:o.next=30;break;case 21:o.prev=21;o.t0=o["catch"](16);Logger.log(Logger.Level.WARN,"Couldn't access camera:",n[a],o.t0);a=(a+1)%n.length;if(!(a===i)){o.next=29;break}this.setCameraSwitcherVisible(false);o.next=29;return r.initializeCameraWithSettings(n[a],r.activeCameraSettings);case 29:return o.abrupt("continue",15);case 30:return o.abrupt("break",33);case 33:this.cameraSwitchInProgress=false;o.next=40;break;case 36:o.prev=36;o.t1=o["catch"](3);Logger.log(Logger.Level.ERROR,o.t1);this.cameraSwitchInProgress=false;case 40:case"end":return o.stop()}}},e,this,[[3,36],[16,21]])}));function t(t){return e.apply(this,arguments)}return t}()},{key:"cameraRecoveryListener",value:function(){var e=_asyncToGenerator(regenerator.mark(function e(t){var r;return regenerator.wrap(function e(n){while(1){switch(n.prev=n.next){case 0:t.preventDefault();if(!(this.cameraManager!=null)){n.next=5;break}this.cameraManager.activeCamera=this.cameraManager.selectedCamera;n.next=5;return(r=this.cameraManager)===null||r===void 0?void 0:r.reinitializeCamera();case 5:case"end":return n.stop()}}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"setupCameraSwitcher",value:function t(){var r=this;this.cameraSwitcherElement.src=switchCameraImage;this.cameraSwitcherElement.className=e.cameraSwitcherElementClassName;this.cameraSwitcherElement.classList.add(e.hiddenClassName);this.parentElement.appendChild(this.cameraSwitcherElement);["touchstart","mousedown"].forEach(function(e){r.cameraSwitcherElement.addEventListener(e,r.cameraSwitcherListener.bind(r))})}},{key:"setupCameraRecovery",value:function t(r){var n=this;this.cameraRecoveryElement.textContent=r;this.cameraRecoveryElement.className=e.cameraRecoveryElementClassName;this.cameraRecoveryElement.classList.add(e.hiddenClassName);this.parentElement.appendChild(this.cameraRecoveryElement);["touchstart","mousedown"].forEach(function(e){n.cameraRecoveryElement.addEventListener(e,n.cameraRecoveryListener.bind(n))})}},{key:"setupTorchToggler",value:function t(){var r=this;this.torchTogglerElement.src=toggleTorchImage;this.torchTogglerElement.className=e.torchTogglerElementClassName;this.torchTogglerElement.classList.add(e.hiddenClassName);this.parentElement.appendChild(this.torchTogglerElement);["touchstart","mousedown"].forEach(function(e){r.torchTogglerElement.addEventListener(e,function(){var e=_asyncToGenerator(regenerator.mark(function e(t){return regenerator.wrap(function e(n){while(1){switch(n.prev=n.next){case 0:if(!(r.cameraManager!=null)){n.next=4;break}t.preventDefault();n.next=4;return r.cameraManager.toggleTorch();case 4:case"end":return n.stop()}}},e)}));return function(t){return e.apply(this,arguments)}}())})}},{key:"showScanditLogo",value:function t(r,n){if(r&&(n===null||n===void 0?void 0:n.hiddenScanditLogoAllowed)===true){return}var i=document.createElement("img");i.src=scanditLogoImage;i.className=e.scanditLogoImageElementClassName;this.parentElement.appendChild(i)}},{key:"activateGUI",value:function e(){this.dataCaptureContextCreated=true;if(!this.scanningPaused){this.resumeScanning()}}},{key:"handleNewScanSettings",value:function e(){if(this.customLaserArea==null){this.setLaserArea()}if(this.customViewfinderArea==null){this.setViewfinderArea()}}},{key:"handleVideoDisplay",value:function e(t){if(t&&!this.isVideoElementDetached){this.videoElement.width=this.videoElement.height=0;this.videoElement.style.opacity="0";document.body.appendChild(this.videoElement);this.isVideoElementDetached=true}else if(!t&&this.isVideoElementDetached){this.parentElement.insertAdjacentElement("afterbegin",this.videoElement);this.isVideoElementDetached=false;this.videoElement.removeAttribute("width");this.videoElement.removeAttribute("height");this.videoElement.style.removeProperty("opacity");this.resize()}}},{key:"handleVideoPause",value:function e(){this.playVideo()}},{key:"handleVideoResize",value:function e(){this.resize();if(this.videoElement.videoWidth<=2||this.videoElement.videoHeight<=2){return}if(this.contextWebGL!=null){if(this.contextWebGL.canvas.width===this.videoElement.videoWidth&&this.contextWebGL.canvas.height===this.videoElement.videoHeight){return}this.contextWebGL.canvas.width=this.videoElement.videoWidth;this.contextWebGL.canvas.height=this.videoElement.videoHeight;this.contextWebGL.viewport(0,0,this.contextWebGL.drawingBufferWidth,this.contextWebGL.drawingBufferHeight);this.scanner.applyImageSettings({width:this.contextWebGL.drawingBufferWidth,height:this.contextWebGL.drawingBufferHeight,format:ImageSettings.Format.RGBA_8U})}else if(this.context2d!=null){if(this.context2d.canvas.width===this.videoElement.videoWidth&&this.context2d.canvas.height===this.videoElement.videoHeight){return}this.context2d.canvas.width=this.videoElement.videoWidth;this.context2d.canvas.height=this.videoElement.videoHeight;this.scanner.applyImageSettings({width:this.videoElement.videoWidth,height:this.videoElement.videoHeight,format:ImageSettings.Format.RGBA_8U})}}},{key:"handleWebGLContextLost",value:function e(){Logger.log(Logger.Level.WARN,"WebGL context has been lost, restoring...");this.contextWebGL=undefined;this.setupContext(document.createElement("canvas"));this.handleVideoResize();Logger.log(Logger.Level.WARN,"WebGL context restored")}}]);return e}();_defineProperty(GUI,"grandParentElementClassName","scandit scandit-container");_defineProperty(GUI,"parentElementClassName","scandit scandit-barcode-picker");_defineProperty(GUI,"hiddenClassName","scandit-hidden");_defineProperty(GUI,"hiddenOpacityClassName","scandit-hidden-opacity");_defineProperty(GUI,"videoElementClassName","scandit-video");_defineProperty(GUI,"scanditLogoImageElementClassName","scandit-logo");_defineProperty(GUI,"laserContainerElementClassName","scandit-laser");_defineProperty(GUI,"viewfinderElementClassName","scandit-viewfinder");_defineProperty(GUI,"cameraSwitcherElementClassName","scandit-camera-switcher");_defineProperty(GUI,"cameraRecoveryElementClassName","scandit-camera-recovery");_defineProperty(GUI,"torchTogglerElementClassName","scandit-torch-toggle");_defineProperty(GUI,"cameraUploadElementClassName","scandit-camera-upload");_defineProperty(GUI,"flashColorClassName","scandit-flash-color");_defineProperty(GUI,"flashWhiteClassName","scandit-flash-white");_defineProperty(GUI,"flashInsetClassName","scandit-flash-inset");_defineProperty(GUI,"opacityPulseClassName","scandit-opacity-pulse");_defineProperty(GUI,"mirroredClassName","mirrored");_defineProperty(GUI,"pausedClassName","paused");
/**
 * A barcode picker element used to get and show camera input and perform scanning operations.
 *
 * The barcode picker will automatically fit and scale inside the given *originElement*.
 *
 * Each barcode picker internally contains a [[Scanner]] object with its own WebWorker thread running a
 * separate copy of the external Scandit Data Capture library. To optimize loading times and performance it's
 * recommended to reuse the same picker and to already create the picker in advance (hidden) and just
 * display it when needed whenever possible.
 *
 * As the loading of the external Scandit Data Capture library can take some time, the picker always starts inactive
 * (but showing GUI and video) and then activates, if not paused, as soon as the library is ready to scan.
 * The [[on]] method targeting the [[ready]] event can be used to set up a listener function to be called when the
 * library is loaded. The picker will be ready to start scanning when the library is fully loaded.
 *
 * By default the external Scandit Data Capture library is preloaded in order to reduce the initialization time as much
 * as possible.
 *
 * The picker can also operate in Single Image Mode: letting the user click/tap to take a single image to be scanned
 * via the camera (mobile) or a file select dialog (desktop). This is provided automatically as fallback by
 * default when the OS/browser only supports part of the needed features and cannot provide direct access to the camera
 * for video streaming and continuous scanning, or can also be forced on/off. This behaviour can be set up on creation
 * via the *singleImageModeSettings* option. Note that in this mode some of the functions provided by the picker will
 * have no effect.
 *
 * By default an alert is shown if an internal error during scanning is encountered which prevents the scanning
 * procedure from continuing when running on a local IP address. As this uses the built-in [[scanError]] event
 * functionality, if unwanted it can be disabled by calling [[removeAllListeners]] on the BarcodePicker
 * instance (right after creation).
 *
 * In accordance with our license terms, the Scandit logo displayed in the bottom right corner of the barcode picker
 * must be displayed and cannot be hidden by any method. Workarounds are not allowed.
 */var BarcodePicker=function(){function e(t,r){var n,i,a,o;var s=r.visible,c=r.singleImageModeEnabled,u=r.singleImageModeSettings,l=r.playSoundOnScan,d=r.vibrateOnScan,f=r.scanningPaused,h=r.guiStyle,v=r.videoFit,p=r.cameraRecoveryText,g=r.laserArea,m=r.viewfinderArea,y=r.scanner,b=r.scanSettings,_=r.cameraType,A=r.targetScanningFPS,E=r.hideLogo;_classCallCheck(this,e);_defineProperty(this,"cameraManager",void 0);_defineProperty(this,"gui",void 0);_defineProperty(this,"eventEmitter",void 0);_defineProperty(this,"scanner",void 0);_defineProperty(this,"beepSound",void 0);_defineProperty(this,"vibrateFunction",void 0);_defineProperty(this,"scannerReadyEventListener",void 0);_defineProperty(this,"playSoundOnScan",void 0);_defineProperty(this,"vibrateOnScan",void 0);_defineProperty(this,"scanningPaused",void 0);_defineProperty(this,"latestVideoTimeProcessed",void 0);_defineProperty(this,"destroyed",void 0);_defineProperty(this,"isReadyToWork",void 0);_defineProperty(this,"cameraAccess",void 0);_defineProperty(this,"targetScanningFPS",void 0);_defineProperty(this,"averageProcessingTime",void 0);_defineProperty(this,"externalImageData",void 0);_defineProperty(this,"internalImageData",void 0);this.isReadyToWork=false;this.destroyed=false;this.scanningPaused=f;howler_core_min.Howler.autoSuspend=false;this.beepSound=new howler_core_min.Howl({src:beepSound});this.vibrateFunction=(n=(i=(a=navigator.vibrate)!==null&&a!==void 0?a:navigator.webkitVibrate)!==null&&i!==void 0?i:navigator.mozVibrate)!==null&&n!==void 0?n:navigator.msVibrate;this.eventEmitter=new eventemitter3.exports.EventEmitter;this.setPlaySoundOnScanEnabled(l);this.setVibrateOnScanEnabled(d);this.setTargetScanningFPS(A);this.scanner=(o=y===null||y===void 0?void 0:y.applyScanSettings(b))!==null&&o!==void 0?o:new Scanner({scanSettings:b});this.scannerReadyEventListener=this.handleScannerReady.bind(this);this.scanner.on("ready",this.scannerReadyEventListener);this.gui=new GUI({scanner:this.scanner,originElement:t,singleImageModeEnabled:c,singleImageModeSettings:u,scanningPaused:f,visible:s,guiStyle:h,videoFit:v,hideLogo:E,cameraRecoveryText:p,laserArea:g,viewfinderArea:m,cameraUploadCallback:this.processVideoFrame.bind(this,true)});if(c){this.cameraManager=new DummyCameraManager(this.scanner,this.triggerCameraAccessError.bind(this),this.gui);this.gui.setCameraType(_)}else{this.cameraManager=new CameraManager(this.scanner,this.triggerCameraAccessError.bind(this),this.gui);this.scheduleVideoProcessing()}this.gui.setCameraManager(this.cameraManager)}_createClass(e,[{key:"destroy",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;this.pauseScanning(true);this.scanner.removeListener("ready",this.scannerReadyEventListener);this.destroyed=true;if(t){this.scanner.destroy()}this.gui.destroy();this.eventEmitter.removeAllListeners()}},{key:"applyScanSettings",value:function e(t){this.scanner.applyScanSettings(t);return this}},{key:"isScanningPaused",value:function e(){return this.scanningPaused}},{key:"pauseScanning",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;this.scanningPaused=true;if(t){this.cameraManager.stopStream().catch(function(){})}if(this.scanner.isReady()){this.gui.pauseScanning()}return this}},{key:"resumeScanning",value:function(){var e=_asyncToGenerator(regenerator.mark(function e(){return regenerator.wrap(function e(t){while(1){switch(t.prev=t.next){case 0:this.scanningPaused=false;if(this.scanner.isReady()){this.gui.resumeScanning()}if(!(this.cameraAccess&&this.getActiveCamera()==null)){t.next=5;break}t.next=5;return this.cameraManager.setupCameras();case 5:return t.abrupt("return",this);case 6:case"end":return t.stop()}}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"getActiveCamera",value:function e(){return this.cameraManager.activeCamera}},{key:"setActiveCamera",value:function(){var e=_asyncToGenerator(regenerator.mark(function e(t,r){return regenerator.wrap(function e(n){while(1){switch(n.prev=n.next){case 0:if(!(t==null||!this.cameraAccess)){n.next=8;break}this.cameraManager.setSelectedCamera(t);this.cameraManager.setSelectedCameraSettings(r);if(!this.cameraAccess){n.next=6;break}n.next=6;return this.cameraManager.setupCameras();case 6:n.next=10;break;case 8:n.next=10;return this.cameraManager.initializeCameraWithSettings(t,r);case 10:return n.abrupt("return",this);case 11:case"end":return n.stop()}}},e,this)}));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"setCameraType",value:function(){var e=_asyncToGenerator(regenerator.mark(function e(t){return regenerator.wrap(function e(r){while(1){switch(r.prev=r.next){case 0:this.gui.setCameraType(t);if(!this.cameraAccess){r.next=6;break}r.next=4;return this.cameraManager.setCameraType(t);case 4:r.next=7;break;case 6:this.cameraManager.setInitialCameraType(t);case 7:return r.abrupt("return",this);case 8:case"end":return r.stop()}}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"applyCameraSettings",value:function(){var e=_asyncToGenerator(regenerator.mark(function e(t){return regenerator.wrap(function e(r){while(1){switch(r.prev=r.next){case 0:if(this.cameraAccess){r.next=4;break}this.cameraManager.setSelectedCameraSettings(t);r.next=6;break;case 4:r.next=6;return this.cameraManager.applyCameraSettings(t);case 6:return r.abrupt("return",this);case 7:case"end":return r.stop()}}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"isVisible",value:function e(){return this.gui.isVisible()}},{key:"setVisible",value:function e(t){this.gui.setVisible(t);return this}},{key:"isMirrorImageEnabled",value:function e(){return this.gui.isMirrorImageEnabled()}},{key:"setMirrorImageEnabled",value:function e(t){this.gui.setMirrorImageEnabled(t,true);return this}},{key:"isPlaySoundOnScanEnabled",value:function e(){return this.playSoundOnScan}},{key:"setPlaySoundOnScanEnabled",value:function e(t){this.playSoundOnScan=t;return this}},{key:"isVibrateOnScanEnabled",value:function e(){return this.vibrateOnScan}},{key:"setVibrateOnScanEnabled",value:function e(t){this.vibrateOnScan=t;return this}},{key:"isCameraSwitcherEnabled",value:function e(){return this.cameraManager.isCameraSwitcherEnabled()}},{key:"setCameraSwitcherEnabled",value:function e(t){this.cameraManager.setCameraSwitcherEnabled(t).catch(function(){});return this}},{key:"isTorchToggleEnabled",value:function e(){return this.cameraManager.isTorchToggleEnabled()}},{key:"setTorchToggleEnabled",value:function e(t){this.cameraManager.setTorchToggleEnabled(t);return this}},{key:"isTapToFocusEnabled",value:function e(){return this.cameraManager.isTapToFocusEnabled()}},{key:"setTapToFocusEnabled",value:function e(t){this.cameraManager.setTapToFocusEnabled(t);return this}},{key:"isPinchToZoomEnabled",value:function e(){return this.cameraManager.isPinchToZoomEnabled()}},{key:"setPinchToZoomEnabled",value:function e(t){this.cameraManager.setPinchToZoomEnabled(t);return this}},{key:"setTorchEnabled",value:function(){var e=_asyncToGenerator(regenerator.mark(function e(t){return regenerator.wrap(function e(r){while(1){switch(r.prev=r.next){case 0:r.next=2;return this.cameraManager.setTorchEnabled(t);case 2:return r.abrupt("return",this);case 3:case"end":return r.stop()}}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"setZoom",value:function(){var e=_asyncToGenerator(regenerator.mark(function e(t){return regenerator.wrap(function e(r){while(1){switch(r.prev=r.next){case 0:r.next=2;return this.cameraManager.setZoom(t);case 2:return r.abrupt("return",this);case 3:case"end":return r.stop()}}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"isReady",value:function e(){return this.isReadyToWork}},{key:"on",value:function e(t,r){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(t==="ready"){if(this.isReadyToWork){r()}else{this.eventEmitter.once(t,r,this)}}else{if(n===true){this.eventEmitter.once(t,r,this)}else{this.eventEmitter.on(t,r,this)}}return this}},{key:"removeListener",value:function e(t,r){this.eventEmitter.removeListener(t,r);return this}},{key:"removeAllListeners",value:function e(t){this.eventEmitter.removeAllListeners(t);return this}},{key:"addListener",value:function e(t,r,n){return this.on(t,r,n)}},{key:"setGuiStyle",value:function e(t){this.gui.setGuiStyle(t);return this}},{key:"setVideoFit",value:function e(t){this.gui.setVideoFit(t);return this}},{key:"accessCamera",value:function(){var e=_asyncToGenerator(regenerator.mark(function e(){return regenerator.wrap(function e(t){while(1){switch(t.prev=t.next){case 0:if(!(!this.cameraAccess||this.getActiveCamera()==null)){t.next=4;break}t.next=3;return this.cameraManager.setupCameras();case 3:this.cameraAccess=true;case 4:return t.abrupt("return",this);case 5:case"end":return t.stop()}}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"createParserForFormat",value:function e(t){return this.scanner.createParserForFormat(t)}},{key:"reassignOriginElement",value:function e(t){if(!BrowserHelper.isValidHTMLElement(t)){throw new CustomError({name:"NoOriginElementError",message:"A valid origin HTML element must be given"})}this.gui.reassignOriginElement(t);return this}},{key:"setTargetScanningFPS",value:function e(t){if(t<=0){t=30}this.targetScanningFPS=t;return this}},{key:"getScanner",value:function e(){return this.scanner}},{key:"clearSession",value:function e(){this.scanner.clearSession();return this}},{key:"setLaserArea",value:function e(t){this.gui.setLaserArea(t);return this}},{key:"setViewfinderArea",value:function e(t){this.gui.setViewfinderArea(t);return this}},{key:"pauseCameraAccess",value:function e(){this.cameraAccess=false;this.cameraManager.stopStream().catch(function(){});return this}},{key:"triggerCameraAccessError",value:function e(t){this.eventEmitter.emit("cameraAccessError",t)}},{key:"handleScanResult",value:function e(t){var r=this;t.imageData=this.externalImageData;this.eventEmitter.emit("processFrame",t);if(t.barcodes.length!==0||t.texts.length!==0){this.eventEmitter.once("scan",function(){var e=t.barcodes.some(function(e){return!t.rejectedCodes.has(e)});var n=t.texts.some(function(e){return!t.rejectedTexts.has(e)});if(e||n){r.gui.flashGUI();if(r.playSoundOnScan){r.beepSound.play()}if(r.vibrateOnScan){var i;(i=r.vibrateFunction)===null||i===void 0?void 0:i.call(navigator,300)}}});this.eventEmitter.emit("scan",t)}}},{key:"scheduleVideoProcessing",value:function e(){var t=this;var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;window.setTimeout(_asyncToGenerator(regenerator.mark(function e(){return regenerator.wrap(function e(r){while(1){switch(r.prev=r.next){case 0:r.next=2;return t.videoProcessing();case 2:case"end":return r.stop()}}},e)})),r)}},{key:"scheduleNextVideoProcessing",value:function(){var e=_asyncToGenerator(regenerator.mark(function e(t){var r;return regenerator.wrap(function e(n){while(1){switch(n.prev=n.next){case 0:if(!(this.targetScanningFPS<60)){n.next=11;break}if(this.averageProcessingTime==null){this.averageProcessingTime=performance.now()-t}else{this.averageProcessingTime=this.averageProcessingTime*.9+(performance.now()-t)*.1}r=Math.max(0,1e3/this.targetScanningFPS-this.averageProcessingTime);if(!(Math.round(r)<=16)){n.next=8;break}n.next=6;return this.videoProcessing();case 6:n.next=9;break;case 8:this.scheduleVideoProcessing(r);case 9:n.next=13;break;case 11:n.next=13;return this.videoProcessing();case 13:case"end":return n.stop()}}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"processVideoFrame",value:function(){var e=_asyncToGenerator(regenerator.mark(function e(t){var r;return regenerator.wrap(function e(n){while(1){switch(n.prev=n.next){case 0:this.internalImageData=this.gui.getImageData(this.internalImageData);if(!(this.internalImageData==null)){n.next=3;break}return n.abrupt("return");case 3:if(this.externalImageData==null||this.externalImageData.byteLength===0||this.externalImageData.byteLength!==this.internalImageData.byteLength){this.externalImageData=new Uint8Array(this.internalImageData)}else{this.externalImageData.set(this.internalImageData)}if(this.scanningPaused){n.next=21;break}if(this.eventEmitter.listenerCount("submitFrame")>0){this.eventEmitter.emit("submitFrame",new ScanResult([],[],this.externalImageData,this.scanner.getImageSettings()))}n.prev=6;n.next=9;return this.scanner.processImage(this.internalImageData,t);case 9:r=n.sent;this.internalImageData=r.imageData;if(!this.scanningPaused){this.handleScanResult(r)}n.next=21;break;case 14:n.prev=14;n.t0=n["catch"](6);this.internalImageData=undefined;if(!(n.t0.name==="ImageSettingsDataMismatch")){n.next=19;break}return n.abrupt("return");case 19:this.pauseScanning();this.eventEmitter.emit("scanError",n.t0);case 21:case"end":return n.stop()}}},e,this,[[6,14]])}));function t(t){return e.apply(this,arguments)}return t}()},{key:"videoProcessing",value:function(){var e=_asyncToGenerator(regenerator.mark(function e(){var t;var r;return regenerator.wrap(function e(n){while(1){switch(n.prev=n.next){case 0:if(!this.destroyed){n.next=2;break}return n.abrupt("return");case 2:if(!(((t=this.getActiveCamera())===null||t===void 0?void 0:t.currentResolution)==null||this.scanningPaused||!this.scanner.isReady()||this.scanner.isBusyProcessing()||this.latestVideoTimeProcessed===this.gui.getVideoCurrentTime())){n.next=5;break}this.scheduleVideoProcessing();return n.abrupt("return");case 5:if(!(this.latestVideoTimeProcessed==null)){n.next=8;break}n.next=8;return this.resumeScanning();case 8:r=performance.now();this.latestVideoTimeProcessed=this.gui.getVideoCurrentTime();n.next=12;return this.processVideoFrame(false);case 12:n.next=14;return this.scheduleNextVideoProcessing(r);case 14:case"end":return n.stop()}}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"handleScannerReady",value:function e(){this.isReadyToWork=true;this.eventEmitter.emit("ready")}}],[{key:"ready",value:function e(){}},{key:"submitFrame",value:function e(t){}},{key:"processFrame",value:function e(t){}},{key:"scan",value:function e(t){}},{key:"scanError",value:function e(t){}},{key:"cameraAccessError",value:function e(t){}},{key:"create",value:function(){var t=_asyncToGenerator(regenerator.mark(function t(r){var n;var i,a,o,s,c,u,l,d,f,h,v,p,g,m,y,b,_,A,E,S,C,T,w,I,N,O,x,k,M,L,R,P,V,D,$,j,G,F,U,B,z,W,Y,H,Q,Z,q,K=arguments;return regenerator.wrap(function t(X){while(1){switch(X.prev=X.next){case 0:i=K.length>1&&K[1]!==undefined?K[1]:{},a=i.visible,o=a===void 0?true:a,s=i.singleImageModeSettings,c=s===void 0?{}:s,u=i.playSoundOnScan,l=u===void 0?false:u,d=i.vibrateOnScan,f=d===void 0?false:d,h=i.scanningPaused,v=h===void 0?false:h,p=i.guiStyle,g=p===void 0?e.GuiStyle.LASER:p,m=i.videoFit,y=m===void 0?e.ObjectFit.CONTAIN:m,b=i.cameraRecoveryText,_=b===void 0?"Tap/click to resume scanning":b,A=i.laserArea,E=i.viewfinderArea,S=i.scanner,C=i.scanSettings,T=C===void 0?new ScanSettings:C,w=i.enableCameraSwitcher,I=w===void 0?true:w,N=i.enableTorchToggle,O=N===void 0?true:N,x=i.enableTapToFocus,k=x===void 0?true:x,M=i.enablePinchToZoom,L=M===void 0?true:M,R=i.accessCamera,P=R===void 0?true:R,V=i.camera,D=i.cameraType,$=D===void 0?Camera.Type.BACK:D,j=i.cameraSettings,G=i.targetScanningFPS,F=G===void 0?30:G,U=i.hideLogo,B=U===void 0?false:U;z=BrowserHelper.userAgentInfo.getDevice().type;W=z==="mobile"||z==="tablet";Y=(n=W?c.mobile:c.desktop)!==null&&n!==void 0?n:{};H=Y.usageStrategy===SingleImageModeSettings.UsageStrategy.NEVER;Q=Y.usageStrategy===SingleImageModeSettings.UsageStrategy.ALWAYS;Z=BrowserHelper.checkBrowserCompatibility();if(!(!Z.scannerSupport||H&&!Z.fullSupport)){X.next=9;break}throw new UnsupportedBrowserError(Z);case 9:if(!Z.fullSupport&&!Q){Logger.log(Logger.Level.INFO,"BarcodePicker's Single Image Mode is being used as fallback as the OS/browser combination doesn't "+"support camera video stream scanning (https://caniuse.com/#feat=stream). "+'You can configure this behaviour via the "singleImageModeSettings" option.',Z)}if(!(configurePhase!=="done")){X.next=12;break}throw new CustomError({name:"LibraryNotConfiguredError",message:configurePhase==="started"?"The library has not completed its configuration yet, please call 'configure' and wait for the returned\n              promise's resolution":"The library was not configured, 'configure' must be called with valid parameters before instantiating\n              the BarcodePicker"});case 12:if(BrowserHelper.isValidHTMLElement(r)){X.next=14;break}throw new CustomError({name:"NoOriginElementError",message:"A valid origin HTML element must be given"});case 14:q=new e(r,{visible:o,singleImageModeEnabled:Z.fullSupport?Q:true,singleImageModeSettings:Y,playSoundOnScan:l,vibrateOnScan:f,scanningPaused:v,guiStyle:g,videoFit:y,cameraRecoveryText:_,laserArea:A,viewfinderArea:E,scanner:S,scanSettings:T,cameraType:$,targetScanningFPS:F,hideLogo:B});q.cameraManager.setInteractionOptions(I,O,k,L);q.cameraManager.setInitialCameraType($);q.cameraManager.setSelectedCamera(V);q.cameraManager.setSelectedCameraSettings(j);q.cameraAccess=P;q.on("scanError",function(e){if(["localhost","127.0.0.1",""].includes(window.location.hostname)){alert(e)}});if(!P){X.next=24;break}X.next=24;return q.cameraManager.setupCameras();case 24:return X.abrupt("return",q);case 25:case"end":return X.stop()}}},t)}));function r(e){return t.apply(this,arguments)}return r}()}]);return e}();(function(e){(function(e){
/**
     * No GUI is shown to indicate where the barcode/text should be placed.
     * Be aware that the Scandit logo continues to be displayed as showing it is part of the license agreement.
     */
e["NONE"]="none";e["LASER"]="laser";e["VIEWFINDER"]="viewfinder"})(e.GuiStyle||(e.GuiStyle={}));(function(e){e["CONTAIN"]="contain";e["COVER"]="cover"})(e.ObjectFit||(e.ObjectFit={}))})(BarcodePicker||(BarcodePicker={}));function assertUnreachable(e){throw new Error("Unexpected object: ".concat(e))}function convertAttribute(e,t){switch(e.type){case"boolean":return convertToBoolean(t,e.default);case"string":case"guiStyle":case"cameraType":case"videoFit":case"codeDirection":case"recognitionMode":return convertToString(t,e.default);case"array":return convertToArray(t,e.default);case"integer":return convertToInteger(t,e.default);case"searchArea":case"camera":case"cameraSettings":case"singleImageModeSettings":return convertJsonToObject(t,e.default);case"textRecognitionSettings":return new TextRecognitionSettings(convertJsonToObject(t,e.default))}return assertUnreachable(e)}function convertToBoolean(e,t){return e==null?t:e!=="false"}function convertToString(e,t){return e!==null&&e!==void 0?e:t}function convertToInteger(e,t){if(e==null){return t}var r=_parseInt(e,10);if(isNaN(r)){return t}return r}function convertToArray(e,t){if(e==null){return t}var r=toJson(e);if(r==null||!Array.isArray(r)){return t}return r}function convertJsonToObject(e,t){if(e==null){return t}var r=toJson(e);if(r==null){return t}if(Array.isArray(r)||typeof r==="number"){return t}return r}function toJson(e){try{return JSON.parse(e)}catch(e){return}}var Attribute;(function(e){e["ACCESS_CAMERA"]="accessCamera";e["CAMERA"]="camera";e["CAMERA_SETTINGS"]="cameraSettings";e["CAMERA_TYPE"]="cameraType";e["CONFIGURE"]="configure";e["ENABLE_CAMERA_SWITCHER"]="enableCameraSwitcher";e["ENABLE_PINCH_TO_ZOOM"]="enablePinchToZoom";e["ENABLE_TAP_TO_FOCUS"]="enableTapToFocus";e["ENABLE_TORCH_TOGGLE"]="enableTorchToggle";e["GUI_STYLE"]="guiStyle";e["LASER_AREA"]="laserArea";e["PLAY_SOUND_ON_SCAN"]="playSoundOnScan";e["SCANNING_PAUSED"]="scanningPaused";e["SINGLE_IMAGE_MODE_SETTINGS"]="singleImageModeSettings";e["TARGET_SCANNING_FPS"]="targetScanningFPS";e["VIBRATE_ON_SCAN"]="vibrateOnScan";e["VIDEO_FIT"]="videoFit";e["VIEWFINDER_AREA"]="viewfinderArea";e["VISIBLE"]="visible";e["CONFIGURE_ENGINE_LOCATION"]="configure.engineLocation";e["CONFIGURE_LICENSE_KEY"]="configure.licenseKey";e["CONFIGURE_HIGH_QUALITY_BLURRY_RECOGNITION"]="configure.highQualityBlurryRecognition";e["CONFIGURE_LOAD_TEXT_RECOGNITION"]="configure.loadTextRecognition";e["CONFIGURE_PRELOAD_BLURRY_RECOGNITION"]="configure.preloadBlurryRecognition";e["CONFIGURE_PRELOAD_ENGINE"]="configure.preloadEngine";e["SCAN_SETTINGS_BLURRY_RECOGNITION"]="scanSettings.blurryRecognition";e["SCAN_SETTINGS_CODE_DIRECTION_HINT"]="scanSettings.codeDirectionHint";e["SCAN_SETTINGS_CODE_DUPLICATE_FILTER"]="scanSettings.codeDuplicateFilter";e["SCAN_SETTINGS_DEVICE_NAME"]="scanSettings.deviceName";e["SCAN_SETTINGS_ENABLED_SYMBOLOGIES"]="scanSettings.enabledSymbologies";e["SCAN_SETTINGS_GPU_ACCELERATION"]="scanSettings.gpuAcceleration";e["SCAN_SETTINGS_MAX_NUMBER_OF_CODES_PER_FRAME"]="scanSettings.maxNumberOfCodesPerFrame";e["SCAN_SETTINGS_RECOGNITION_MODE"]="scanSettings.recognitionMode";e["SCAN_SETTINGS_SEARCH_AREA"]="scanSettings.searchArea";e["SCAN_SETTINGS_TEXT_RECOGNITION_SETTINGS"]="scanSettings.textRecognitionSettings"})(Attribute||(Attribute={}));var attributes=values(Attribute);var schema;function getSchema(){if(schema!=null){return schema}return schema=Object.freeze({[Attribute.ACCESS_CAMERA]:{type:"boolean",default:true},[Attribute.CAMERA]:{type:"camera",default:undefined},[Attribute.CAMERA_SETTINGS]:{type:"cameraSettings",default:undefined},[Attribute.CAMERA_TYPE]:{type:"cameraType",default:Camera.Type.BACK},[Attribute.CONFIGURE]:{type:"boolean",default:true},[Attribute.ENABLE_CAMERA_SWITCHER]:{type:"boolean",default:true},[Attribute.ENABLE_PINCH_TO_ZOOM]:{type:"boolean",default:true},[Attribute.ENABLE_TAP_TO_FOCUS]:{type:"boolean",default:true},[Attribute.ENABLE_TORCH_TOGGLE]:{type:"boolean",default:true},[Attribute.GUI_STYLE]:{type:"guiStyle",default:BarcodePicker.GuiStyle.LASER},[Attribute.LASER_AREA]:{type:"searchArea",default:undefined},[Attribute.PLAY_SOUND_ON_SCAN]:{type:"boolean",default:true},[Attribute.SCANNING_PAUSED]:{type:"boolean",default:false},[Attribute.SINGLE_IMAGE_MODE_SETTINGS]:{type:"singleImageModeSettings",default:undefined},[Attribute.TARGET_SCANNING_FPS]:{type:"integer",default:30},[Attribute.VIBRATE_ON_SCAN]:{type:"boolean",default:false},[Attribute.VIDEO_FIT]:{type:"videoFit",default:BarcodePicker.ObjectFit.CONTAIN},[Attribute.VIEWFINDER_AREA]:{type:"searchArea",default:undefined},[Attribute.VISIBLE]:{type:"boolean",default:true},[Attribute.CONFIGURE_ENGINE_LOCATION]:{type:"string",default:"/"},[Attribute.CONFIGURE_LICENSE_KEY]:{type:"string",default:""},[Attribute.CONFIGURE_HIGH_QUALITY_BLURRY_RECOGNITION]:{type:"boolean",default:false},[Attribute.CONFIGURE_LOAD_TEXT_RECOGNITION]:{type:"boolean",default:false},[Attribute.CONFIGURE_PRELOAD_BLURRY_RECOGNITION]:{type:"boolean",default:true},[Attribute.CONFIGURE_PRELOAD_ENGINE]:{type:"boolean",default:true},[Attribute.SCAN_SETTINGS_BLURRY_RECOGNITION]:{type:"boolean",default:true},[Attribute.SCAN_SETTINGS_CODE_DIRECTION_HINT]:{type:"codeDirection",default:ScanSettings.CodeDirection.LEFT_TO_RIGHT},[Attribute.SCAN_SETTINGS_CODE_DUPLICATE_FILTER]:{type:"integer",default:0},[Attribute.SCAN_SETTINGS_DEVICE_NAME]:{type:"string",default:undefined},[Attribute.SCAN_SETTINGS_ENABLED_SYMBOLOGIES]:{type:"array",default:[]},[Attribute.SCAN_SETTINGS_GPU_ACCELERATION]:{type:"boolean",default:true},[Attribute.SCAN_SETTINGS_MAX_NUMBER_OF_CODES_PER_FRAME]:{type:"integer",default:1},[Attribute.SCAN_SETTINGS_RECOGNITION_MODE]:{type:"recognitionMode",default:ScanSettings.RecognitionMode.CODE},[Attribute.SCAN_SETTINGS_SEARCH_AREA]:{type:"searchArea",default:undefined},[Attribute.SCAN_SETTINGS_TEXT_RECOGNITION_SETTINGS]:{type:"textRecognitionSettings",default:undefined}})}var _Attribute$ACCESS_CAM,_Attribute$CAMERA,_Attribute$CAMERA_SET,_Attribute$CAMERA_TYP,_Attribute$CONFIGURE,_Attribute$ENABLE_CAM,_Attribute$ENABLE_PIN,_Attribute$ENABLE_TAP,_Attribute$ENABLE_TOR,_Attribute$GUI_STYLE,_Attribute$LASER_AREA,_Attribute$PLAY_SOUND,_Attribute$SCANNING_P,_Attribute$SINGLE_IMA,_Attribute$TARGET_SCA,_Attribute$VIBRATE_ON,_Attribute$VIDEO_FIT,_Attribute$VIEWFINDER,_Attribute$VISIBLE,_Attribute$CONFIGURE_,_Attribute$CONFIGURE_2,_Attribute$CONFIGURE_3,_Attribute$CONFIGURE_4,_Attribute$CONFIGURE_5,_Attribute$CONFIGURE_6,_Attribute$SCAN_SETTI,_Attribute$SCAN_SETTI2,_Attribute$SCAN_SETTI3,_Attribute$SCAN_SETTI4,_Attribute$SCAN_SETTI5,_Attribute$SCAN_SETTI6,_Attribute$SCAN_SETTI7,_Attribute$SCAN_SETTI8,_Attribute$SCAN_SETTI9,_Attribute$SCAN_SETTI10;_Attribute$ACCESS_CAM=Attribute.ACCESS_CAMERA;_Attribute$CAMERA=Attribute.CAMERA;_Attribute$CAMERA_SET=Attribute.CAMERA_SETTINGS;_Attribute$CAMERA_TYP=Attribute.CAMERA_TYPE;_Attribute$CONFIGURE=Attribute.CONFIGURE;_Attribute$ENABLE_CAM=Attribute.ENABLE_CAMERA_SWITCHER;_Attribute$ENABLE_PIN=Attribute.ENABLE_PINCH_TO_ZOOM;_Attribute$ENABLE_TAP=Attribute.ENABLE_TAP_TO_FOCUS;_Attribute$ENABLE_TOR=Attribute.ENABLE_TORCH_TOGGLE;_Attribute$GUI_STYLE=Attribute.GUI_STYLE;_Attribute$LASER_AREA=Attribute.LASER_AREA;_Attribute$PLAY_SOUND=Attribute.PLAY_SOUND_ON_SCAN;_Attribute$SCANNING_P=Attribute.SCANNING_PAUSED;_Attribute$SINGLE_IMA=Attribute.SINGLE_IMAGE_MODE_SETTINGS;_Attribute$TARGET_SCA=Attribute.TARGET_SCANNING_FPS;_Attribute$VIBRATE_ON=Attribute.VIBRATE_ON_SCAN;_Attribute$VIDEO_FIT=Attribute.VIDEO_FIT;_Attribute$VIEWFINDER=Attribute.VIEWFINDER_AREA;_Attribute$VISIBLE=Attribute.VISIBLE;_Attribute$CONFIGURE_=Attribute.CONFIGURE_ENGINE_LOCATION;_Attribute$CONFIGURE_2=Attribute.CONFIGURE_LICENSE_KEY;_Attribute$CONFIGURE_3=Attribute.CONFIGURE_HIGH_QUALITY_BLURRY_RECOGNITION;_Attribute$CONFIGURE_4=Attribute.CONFIGURE_LOAD_TEXT_RECOGNITION;_Attribute$CONFIGURE_5=Attribute.CONFIGURE_PRELOAD_BLURRY_RECOGNITION;_Attribute$CONFIGURE_6=Attribute.CONFIGURE_PRELOAD_ENGINE;_Attribute$SCAN_SETTI=Attribute.SCAN_SETTINGS_BLURRY_RECOGNITION;_Attribute$SCAN_SETTI2=Attribute.SCAN_SETTINGS_CODE_DIRECTION_HINT;_Attribute$SCAN_SETTI3=Attribute.SCAN_SETTINGS_CODE_DUPLICATE_FILTER;_Attribute$SCAN_SETTI4=Attribute.SCAN_SETTINGS_DEVICE_NAME;_Attribute$SCAN_SETTI5=Attribute.SCAN_SETTINGS_ENABLED_SYMBOLOGIES;_Attribute$SCAN_SETTI6=Attribute.SCAN_SETTINGS_GPU_ACCELERATION;_Attribute$SCAN_SETTI7=Attribute.SCAN_SETTINGS_MAX_NUMBER_OF_CODES_PER_FRAME;_Attribute$SCAN_SETTI8=Attribute.SCAN_SETTINGS_RECOGNITION_MODE;_Attribute$SCAN_SETTI9=Attribute.SCAN_SETTINGS_SEARCH_AREA;_Attribute$SCAN_SETTI10=Attribute.SCAN_SETTINGS_TEXT_RECOGNITION_SETTINGS;var LazyAttributeConverter=function(e,t,r,n,i,a,o,s,c,u,l,d,f,h,v,p,g,m,y,b,_,A,E,S,C,T,w,I,N,O,x,k,M,L,R){function P(e,t){_classCallCheck(this,P);_defineProperty(this,"schema",void 0);_defineProperty(this,"view",void 0);this.schema=e;this.view=t}_createClass(P,[{key:e,get:function e(){return this.convertToPrimary(Attribute.ACCESS_CAMERA)}},{key:t,get:function e(){return this.convertToPrimary(Attribute.CAMERA)}},{key:r,get:function e(){return this.convertToPrimary(Attribute.CAMERA_SETTINGS)}},{key:n,get:function e(){return this.convertToPrimary(Attribute.CAMERA_TYPE)}},{key:i,get:function e(){return this.convertToPrimary(Attribute.CONFIGURE)}},{key:a,get:function e(){return this.convertToPrimary(Attribute.ENABLE_CAMERA_SWITCHER)}},{key:o,get:function e(){return this.convertToPrimary(Attribute.ENABLE_PINCH_TO_ZOOM)}},{key:s,get:function e(){return this.convertToPrimary(Attribute.ENABLE_TAP_TO_FOCUS)}},{key:c,get:function e(){return this.convertToPrimary(Attribute.ENABLE_TORCH_TOGGLE)}},{key:u,get:function e(){return this.convertToPrimary(Attribute.GUI_STYLE)}},{key:l,get:function e(){return this.convertToPrimary(Attribute.LASER_AREA)}},{key:d,get:function e(){return this.convertToPrimary(Attribute.PLAY_SOUND_ON_SCAN)}},{key:f,get:function e(){return this.convertToPrimary(Attribute.SCANNING_PAUSED)}},{key:h,get:function e(){return this.convertToPrimary(Attribute.SINGLE_IMAGE_MODE_SETTINGS)}},{key:v,get:function e(){return this.convertToPrimary(Attribute.TARGET_SCANNING_FPS)}},{key:p,get:function e(){return this.convertToPrimary(Attribute.VIBRATE_ON_SCAN)}},{key:g,get:function e(){return this.convertToPrimary(Attribute.VIDEO_FIT)}},{key:m,get:function e(){return this.convertToPrimary(Attribute.VIEWFINDER_AREA)}},{key:y,get:function e(){return this.convertToPrimary(Attribute.VISIBLE)}},{key:b,get:function e(){return this.convertToPrimary(Attribute.CONFIGURE_ENGINE_LOCATION)}},{key:_,get:function e(){return this.convertToPrimary(Attribute.CONFIGURE_LICENSE_KEY)}},{key:A,get:function e(){return this.convertToPrimary(Attribute.CONFIGURE_HIGH_QUALITY_BLURRY_RECOGNITION)}},{key:E,get:function e(){return this.convertToPrimary(Attribute.CONFIGURE_LOAD_TEXT_RECOGNITION)}},{key:S,get:function e(){return this.convertToPrimary(Attribute.CONFIGURE_PRELOAD_BLURRY_RECOGNITION)}},{key:C,get:function e(){return this.convertToPrimary(Attribute.CONFIGURE_PRELOAD_ENGINE)}},{key:T,get:function e(){return this.convertToPrimary(Attribute.SCAN_SETTINGS_BLURRY_RECOGNITION)}},{key:w,get:function e(){return this.convertToPrimary(Attribute.SCAN_SETTINGS_CODE_DIRECTION_HINT)}},{key:I,get:function e(){return this.convertToPrimary(Attribute.SCAN_SETTINGS_CODE_DUPLICATE_FILTER)}},{key:N,get:function e(){return this.convertToPrimary(Attribute.SCAN_SETTINGS_DEVICE_NAME)}},{key:O,get:function e(){return this.convertToPrimary(Attribute.SCAN_SETTINGS_ENABLED_SYMBOLOGIES)}},{key:x,get:function e(){return this.convertToPrimary(Attribute.SCAN_SETTINGS_GPU_ACCELERATION)}},{key:k,get:function e(){return this.convertToPrimary(Attribute.SCAN_SETTINGS_MAX_NUMBER_OF_CODES_PER_FRAME)}},{key:M,get:function e(){return this.convertToPrimary(Attribute.SCAN_SETTINGS_RECOGNITION_MODE)}},{key:L,get:function e(){return this.convertToPrimary(Attribute.SCAN_SETTINGS_SEARCH_AREA)}},{key:R,get:function e(){return this.convertToPrimary(Attribute.SCAN_SETTINGS_TEXT_RECOGNITION_SETTINGS)}},{key:"convertToPrimary",value:function e(t){var r;return convertAttribute(this.schema[t],(r=this.view.getAttribute(t))!==null&&r!==void 0?r:undefined)}}]);return P}(_Attribute$ACCESS_CAM,_Attribute$CAMERA,_Attribute$CAMERA_SET,_Attribute$CAMERA_TYP,_Attribute$CONFIGURE,_Attribute$ENABLE_CAM,_Attribute$ENABLE_PIN,_Attribute$ENABLE_TAP,_Attribute$ENABLE_TOR,_Attribute$GUI_STYLE,_Attribute$LASER_AREA,_Attribute$PLAY_SOUND,_Attribute$SCANNING_P,_Attribute$SINGLE_IMA,_Attribute$TARGET_SCA,_Attribute$VIBRATE_ON,_Attribute$VIDEO_FIT,_Attribute$VIEWFINDER,_Attribute$VISIBLE,_Attribute$CONFIGURE_,_Attribute$CONFIGURE_2,_Attribute$CONFIGURE_3,_Attribute$CONFIGURE_4,_Attribute$CONFIGURE_5,_Attribute$CONFIGURE_6,_Attribute$SCAN_SETTI,_Attribute$SCAN_SETTI2,_Attribute$SCAN_SETTI3,_Attribute$SCAN_SETTI4,_Attribute$SCAN_SETTI5,_Attribute$SCAN_SETTI6,_Attribute$SCAN_SETTI7,_Attribute$SCAN_SETTI8,_Attribute$SCAN_SETTI9,_Attribute$SCAN_SETTI10);function convertProperty(e,t){switch(e.type){case"boolean":return t?"true":"false";case"guiStyle":case"integer":case"string":case"videoFit":case"codeDirection":case"recognitionMode":return t.toString();case"array":case"camera":case"cameraSettings":case"searchArea":case"singleImageModeSettings":case"textRecognitionSettings":return stringify(t);case"cameraType":return t.cameraType.toString()}return assertUnreachable(e)}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function __decorate(e,t,r,n){var i=arguments.length,a=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)if(o=e[s])a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a;return i>3&&a&&Object.defineProperty(t,r,a),a}var Validator=function(){function e(){_classCallCheck(this,e)}_createClass(e,null,[{key:"isBooleanAttribute",value:function e(t){return t==="true"||t==="false"}},{key:"isBooleanProperty",value:function e(t){return typeof t==="boolean"}},{key:"isIntegerAttribute",value:function e(t){return typeof t==="string"&&/^-?\d+$/.test(t)}},{key:"isIntegerProperty",value:function e(t){return Number.isInteger(t)}},{key:"isValidCameraType",value:function e(t){return values(Camera.Type).includes(t)}},{key:"isValidGuiStyle",value:function e(t){return values(BarcodePicker.GuiStyle).includes(t)}},{key:"isValidVideoFit",value:function e(t){return values(BarcodePicker.ObjectFit).includes(t)}},{key:"isValidCodeDirection",value:function e(t){return values(ScanSettings.CodeDirection).includes(t)}},{key:"isValidRecognitionMode",value:function e(t){return values(ScanSettings.RecognitionMode).includes(t)}},{key:"isArray",value:function e(t){return Array.isArray(t)}},{key:"isValidJsonArray",value:function e(t){var r;try{r=JSON.parse(t)}catch(e){return false}return Array.isArray(r)}},{key:"isValidSearchAreaAttribute",value:function t(r){var n;try{n=JSON.parse(r)}catch(e){return false}return e.isValidSearchAreaProperty(n)}},{key:"isValidSearchAreaProperty",value:function e(t){if(t==null||typeof t!=="object"){return false}return t.x>=0&&t.x<=1&&t.y>=0&&t.y<=1&&t.width>=0&&t.width<=1&&t.height>=0&&t.height<=1}},{key:"isValidCameraObject",value:function e(t){var r;var n;try{n=JSON.parse(t)}catch(e){return false}return typeof((r=n)===null||r===void 0?void 0:r.deviceId)==="string"}},{key:"isValidCameraSettingsObject",value:function e(t){var r;var n;try{n=JSON.parse(t)}catch(e){return false}return typeof((r=n)===null||r===void 0?void 0:r.resolutionPreference)==="string"}},{key:"isValidSingleImageModeSettingsObject",value:function e(t){var r;try{r=JSON.parse(t)}catch(e){return false}return r!=null&&typeof r==="object"}},{key:"isValidTextRecognitionSettingsObject",value:function e(t){var r;try{r=JSON.parse(t)}catch(e){return false}return r!=null&&typeof r==="object"}},{key:"getExpectationMessageForType",value:function e(t){var r={booleanAttribute:'Expected one of "true" or "false"',boolean:"Boolean expected",integer:"Integer expected",array:"Array expected",jsonArray:"Expected JSON array",videoFit:'Expected a valid BarcodePicker.ObjectFit"',camera:"Expected JSON object having properties of a Camera object",cameraSettings:"Expected JSON object having properties of a CameraSettings object",cameraType:'Expected a valid Camera.Type"',codeDirection:'Expected a valid ScanSettings.CodeDirection"',recognitionMode:'Expected a valid ScanSettings.RecognitionMode"',guiStyle:'Expected a valid BarcodePicker.GuiStyle"',searchArea:"Expected JSON object having properties of a SearchArea object",singleImageModeSettings:"Expected JSON object having properties of a SingleImageModeSettings object",textRecognitionSettings:"Expected JSON object having properties of a TextRecognitionSettings object"};return r[t]}}]);return e}();_defineProperty(Validator,"expectationMessage",new map);__decorate([validationMessage("booleanAttribute")],Validator,"isBooleanAttribute",null);__decorate([validationMessage("boolean")],Validator,"isBooleanProperty",null);__decorate([validationMessage("integer")],Validator,"isIntegerAttribute",null);__decorate([validationMessage("integer")],Validator,"isIntegerProperty",null);__decorate([validationMessage("cameraType")],Validator,"isValidCameraType",null);__decorate([validationMessage("guiStyle")],Validator,"isValidGuiStyle",null);__decorate([validationMessage("videoFit")],Validator,"isValidVideoFit",null);__decorate([validationMessage("codeDirection")],Validator,"isValidCodeDirection",null);__decorate([validationMessage("recognitionMode")],Validator,"isValidRecognitionMode",null);__decorate([validationMessage("array")],Validator,"isArray",null);__decorate([validationMessage("jsonArray")],Validator,"isValidJsonArray",null);__decorate([validationMessage("searchArea")],Validator,"isValidSearchAreaAttribute",null);__decorate([validationMessage("searchArea")],Validator,"isValidSearchAreaProperty",null);__decorate([validationMessage("camera")],Validator,"isValidCameraObject",null);__decorate([validationMessage("cameraSettings")],Validator,"isValidCameraSettingsObject",null);__decorate([validationMessage("singleImageModeSettings")],Validator,"isValidSingleImageModeSettingsObject",null);__decorate([validationMessage("textRecognitionSettings")],Validator,"isValidTextRecognitionSettingsObject",null);function validationMessage(e){return function(t,r){t.expectationMessage.set(t[r],t.getExpectationMessageForType(e))}}function ownKeys(e,t){var r=Object.keys(e);if(getOwnPropertySymbols){var n=getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach(function(t){_defineProperty(e,t,r[t])}):getOwnPropertyDescriptors?Object.defineProperties(e,getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var Controller=function(){function e(t){_classCallCheck(this,e);_defineProperty(this,"view",void 0);_defineProperty(this,"picker",void 0);_defineProperty(this,"lazyAttributeConverter",void 0);_defineProperty(this,"scanSettings",void 0);_defineProperty(this,"viewConnected",false);_defineProperty(this,"trackAttributes",true);_defineProperty(this,"allSymbologies",values(Barcode.Symbology).filter(function(e){return typeof e==="string"}));this.view=t}_createClass(e,[{key:"viewConnectedCallback",value:function(){var e=_asyncToGenerator(regenerator.mark(function e(){return regenerator.wrap(function e(t){while(1){switch(t.prev=t.next){case 0:this.viewConnected=true;this.view.initializeDom();this.initializeAttributeConversionGetter();if(!this.lazyAttributeConverter[Attribute.CONFIGURE]){t.next=6;break}t.next=6;return this.initPicker();case 6:case"end":return t.stop()}}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"attributeChangedCallback",value:function e(t){if(!this.viewConnected||!this.trackAttributes){return}var r=this.view.getAttribute(t);if(r!=null&&!this.validateAttribute(t,r)){return}var n=this.attributeToCamelCase(t);this.applyChangeFromAttributeChange(n)}},{key:"viewDisconnectedCallback",value:function e(){this.viewConnected=false;this.picker.destroy();delete this.picker;delete this.scanSettings}},{key:"applyChangeFromAttributeChange",value:function e(t){var r=this;switch(t){case Attribute.ACCESS_CAMERA:if(this.lazyAttributeConverter[Attribute.ACCESS_CAMERA]){this.picker.accessCamera().catch(function(e){Logger.log(Logger.Level.WARN,"Error while accessing the camera:",e)})}else{this.picker.pauseCameraAccess()}break;case Attribute.ENABLE_CAMERA_SWITCHER:this.picker.setCameraSwitcherEnabled(this.lazyAttributeConverter[Attribute.ENABLE_CAMERA_SWITCHER]);break;case Attribute.ENABLE_PINCH_TO_ZOOM:this.picker.setPinchToZoomEnabled(this.lazyAttributeConverter[Attribute.ENABLE_PINCH_TO_ZOOM]);break;case Attribute.ENABLE_TAP_TO_FOCUS:this.picker.setTapToFocusEnabled(this.lazyAttributeConverter[Attribute.ENABLE_TAP_TO_FOCUS]);break;case Attribute.ENABLE_TORCH_TOGGLE:this.picker.setTorchToggleEnabled(this.lazyAttributeConverter[Attribute.ENABLE_TORCH_TOGGLE]);break;case Attribute.GUI_STYLE:this.picker.setGuiStyle(this.lazyAttributeConverter[Attribute.GUI_STYLE]);break;case Attribute.LASER_AREA:this.picker.setLaserArea(this.lazyAttributeConverter[Attribute.LASER_AREA]);break;case Attribute.PLAY_SOUND_ON_SCAN:this.picker.setPlaySoundOnScanEnabled(this.lazyAttributeConverter[Attribute.PLAY_SOUND_ON_SCAN]);break;case Attribute.SCANNING_PAUSED:if(this.lazyAttributeConverter[Attribute.SCANNING_PAUSED]){this.picker.pauseScanning();break}this.picker.resumeScanning().catch(function(e){Logger.log(Logger.Level.WARN,"Error while resuming scanning:",e)});break;case Attribute.TARGET_SCANNING_FPS:this.picker.setTargetScanningFPS(this.lazyAttributeConverter[Attribute.TARGET_SCANNING_FPS]);break;case Attribute.VIBRATE_ON_SCAN:this.picker.setVibrateOnScanEnabled(this.lazyAttributeConverter[Attribute.VIBRATE_ON_SCAN]);break;case Attribute.VIDEO_FIT:this.picker.setVideoFit(this.lazyAttributeConverter[Attribute.VIDEO_FIT]);break;case Attribute.VIEWFINDER_AREA:this.picker.setViewfinderArea(this.lazyAttributeConverter[Attribute.VIEWFINDER_AREA]);break;case Attribute.VISIBLE:this.picker.setVisible(this.lazyAttributeConverter[Attribute.VISIBLE]);break;case Attribute.CAMERA:this.getCameraFromAttribute().then(function(e){r.picker.setActiveCamera(e).catch(function(e){Logger.log(Logger.Level.WARN,"Error while setting the active camera:",e)})}).catch(function(e){Logger.log(Logger.Level.WARN,"Error while getting the camera:",e)});break;case Attribute.CAMERA_TYPE:this.picker.setCameraType(this.lazyAttributeConverter[Attribute.CAMERA_TYPE]).catch(function(e){Logger.log(Logger.Level.WARN,"Error while setting camera type:",e)});break;case Attribute.CAMERA_SETTINGS:this.picker.applyCameraSettings(this.lazyAttributeConverter[Attribute.CAMERA_SETTINGS]).catch(function(e){Logger.log(Logger.Level.WARN,"Error while applying camera settings:",e)});break;case Attribute.SCAN_SETTINGS_BLURRY_RECOGNITION:this.scanSettings.setBlurryRecognitionEnabled(this.lazyAttributeConverter[Attribute.SCAN_SETTINGS_BLURRY_RECOGNITION]);this.picker.applyScanSettings(this.scanSettings);break;case Attribute.SCAN_SETTINGS_CODE_DIRECTION_HINT:this.scanSettings.setCodeDirectionHint(this.lazyAttributeConverter[Attribute.SCAN_SETTINGS_CODE_DIRECTION_HINT]);this.picker.applyScanSettings(this.scanSettings);break;case Attribute.SCAN_SETTINGS_CODE_DUPLICATE_FILTER:this.scanSettings.setCodeDuplicateFilter(this.lazyAttributeConverter[Attribute.SCAN_SETTINGS_CODE_DUPLICATE_FILTER]);this.picker.applyScanSettings(this.scanSettings);break;case Attribute.SCAN_SETTINGS_DEVICE_NAME:this.scanSettings.setDeviceName(this.lazyAttributeConverter[Attribute.SCAN_SETTINGS_DEVICE_NAME]);this.picker.applyScanSettings(this.scanSettings);break;case Attribute.SCAN_SETTINGS_ENABLED_SYMBOLOGIES:this.onEnabledSymbologiesChanged();break;case Attribute.SCAN_SETTINGS_GPU_ACCELERATION:this.scanSettings.setGpuAccelerationEnabled(this.lazyAttributeConverter[Attribute.SCAN_SETTINGS_GPU_ACCELERATION]);this.picker.applyScanSettings(this.scanSettings);break;case Attribute.SCAN_SETTINGS_MAX_NUMBER_OF_CODES_PER_FRAME:this.scanSettings.setMaxNumberOfCodesPerFrame(this.lazyAttributeConverter[Attribute.SCAN_SETTINGS_MAX_NUMBER_OF_CODES_PER_FRAME]);this.picker.applyScanSettings(this.scanSettings);break;case Attribute.SCAN_SETTINGS_RECOGNITION_MODE:this.scanSettings.setRecognitionMode(this.lazyAttributeConverter[Attribute.SCAN_SETTINGS_RECOGNITION_MODE]);this.picker.applyScanSettings(this.scanSettings);break;case Attribute.SCAN_SETTINGS_SEARCH_AREA:this.scanSettings.setSearchArea(this.lazyAttributeConverter[Attribute.SCAN_SETTINGS_SEARCH_AREA]);this.picker.applyScanSettings(this.scanSettings);break;case Attribute.SCAN_SETTINGS_TEXT_RECOGNITION_SETTINGS:this.scanSettings.setTextRecognitionSettings(this.lazyAttributeConverter[Attribute.SCAN_SETTINGS_TEXT_RECOGNITION_SETTINGS]);this.picker.applyScanSettings(this.scanSettings);break;case Attribute.CONFIGURE:if(this.lazyAttributeConverter[Attribute.CONFIGURE]){this.initPicker().catch(function(e){Logger.log(Logger.Level.WARN,"Error while initializing barcode picker:",e)})}break;case Attribute.SINGLE_IMAGE_MODE_SETTINGS:case Attribute.CONFIGURE_ENGINE_LOCATION:case Attribute.CONFIGURE_LICENSE_KEY:case Attribute.CONFIGURE_HIGH_QUALITY_BLURRY_RECOGNITION:case Attribute.CONFIGURE_LOAD_TEXT_RECOGNITION:case Attribute.CONFIGURE_PRELOAD_BLURRY_RECOGNITION:case Attribute.CONFIGURE_PRELOAD_ENGINE:break;default:assertUnreachable(t);break}}},{key:"initPicker",value:function(){var e=_asyncToGenerator(regenerator.mark(function e(){return regenerator.wrap(function e(t){while(1){switch(t.prev=t.next){case 0:if(!(this.picker!=null)){t.next=2;break}return t.abrupt("return");case 2:this.validateAllAttributes();t.prev=3;t.next=6;return configure(this.lazyAttributeConverter[Attribute.CONFIGURE_LICENSE_KEY],{engineLocation:this.lazyAttributeConverter[Attribute.CONFIGURE_ENGINE_LOCATION],highQualityBlurryRecognition:this.lazyAttributeConverter[Attribute.CONFIGURE_HIGH_QUALITY_BLURRY_RECOGNITION],loadTextRecognition:this.lazyAttributeConverter[Attribute.CONFIGURE_LOAD_TEXT_RECOGNITION],preloadBlurryRecognition:this.lazyAttributeConverter[Attribute.CONFIGURE_PRELOAD_BLURRY_RECOGNITION],preloadEngine:this.lazyAttributeConverter[Attribute.CONFIGURE_PRELOAD_ENGINE]});case 6:t.t0=Proxy;t.t1=BarcodePicker;t.t2=this.view.root;t.t3=this.lazyAttributeConverter[Attribute.ACCESS_CAMERA];t.next=12;return this.getCameraFromAttribute();case 12:t.t4=t.sent;t.t5=this.lazyAttributeConverter[Attribute.CAMERA_TYPE];t.t6=this.lazyAttributeConverter[Attribute.ENABLE_CAMERA_SWITCHER];t.t7=this.lazyAttributeConverter[Attribute.ENABLE_PINCH_TO_ZOOM];t.t8=this.lazyAttributeConverter[Attribute.ENABLE_TAP_TO_FOCUS];t.t9=this.lazyAttributeConverter[Attribute.ENABLE_TORCH_TOGGLE];t.t10=this.lazyAttributeConverter[Attribute.PLAY_SOUND_ON_SCAN];t.t11=this.lazyAttributeConverter[Attribute.VIBRATE_ON_SCAN];t.t12=this.lazyAttributeConverter[Attribute.SCANNING_PAUSED];t.t13=this.lazyAttributeConverter[Attribute.GUI_STYLE];t.t14=this.lazyAttributeConverter[Attribute.TARGET_SCANNING_FPS];t.t15=this.lazyAttributeConverter[Attribute.VIDEO_FIT];t.t16=this.lazyAttributeConverter[Attribute.VISIBLE];t.t17=this.lazyAttributeConverter[Attribute.VIEWFINDER_AREA];t.t18=this.lazyAttributeConverter[Attribute.LASER_AREA];t.next=29;return this.getSingleImageModeSettings();case 29:t.t19=t.sent;t.t20={accessCamera:t.t3,camera:t.t4,cameraType:t.t5,enableCameraSwitcher:t.t6,enablePinchToZoom:t.t7,enableTapToFocus:t.t8,enableTorchToggle:t.t9,playSoundOnScan:t.t10,vibrateOnScan:t.t11,scanningPaused:t.t12,guiStyle:t.t13,targetScanningFPS:t.t14,videoFit:t.t15,visible:t.t16,viewfinderArea:t.t17,laserArea:t.t18,singleImageModeSettings:t.t19};t.next=33;return t.t1.create.call(t.t1,t.t2,t.t20);case 33:t.t21=t.sent;t.t22=this.getBarcodePickerProxyHandler();this.picker=new t.t0(t.t21,t.t22);t.next=41;break;case 38:t.prev=38;t.t23=t["catch"](3);return t.abrupt("return",this.handleException(t.t23));case 41:this.scanSettings=new ScanSettings({textRecognitionSettings:this.lazyAttributeConverter[Attribute.SCAN_SETTINGS_TEXT_RECOGNITION_SETTINGS],recognitionMode:this.lazyAttributeConverter[Attribute.SCAN_SETTINGS_RECOGNITION_MODE],blurryRecognition:this.lazyAttributeConverter[Attribute.SCAN_SETTINGS_BLURRY_RECOGNITION],codeDirectionHint:this.lazyAttributeConverter[Attribute.SCAN_SETTINGS_CODE_DIRECTION_HINT],codeDuplicateFilter:this.lazyAttributeConverter[Attribute.SCAN_SETTINGS_CODE_DUPLICATE_FILTER],deviceName:this.lazyAttributeConverter[Attribute.SCAN_SETTINGS_DEVICE_NAME],enabledSymbologies:this.lazyAttributeConverter[Attribute.SCAN_SETTINGS_ENABLED_SYMBOLOGIES],gpuAcceleration:this.lazyAttributeConverter[Attribute.SCAN_SETTINGS_GPU_ACCELERATION],maxNumberOfCodesPerFrame:this.lazyAttributeConverter[Attribute.SCAN_SETTINGS_MAX_NUMBER_OF_CODES_PER_FRAME],searchArea:this.lazyAttributeConverter[Attribute.SCAN_SETTINGS_SEARCH_AREA]});this.picker.applyScanSettings(this.scanSettings);this.picker.on("ready",this.dispatchPickerEvent.bind(this,"ready"));this.picker.on("submitFrame",this.dispatchPickerEvent.bind(this,"submitFrame"));this.picker.on("processFrame",this.dispatchPickerEvent.bind(this,"processFrame"));this.picker.on("scan",this.dispatchPickerEvent.bind(this,"scan"));this.picker.on("scanError",this.dispatchPickerEvent.bind(this,"scanError"));case 48:case"end":return t.stop()}}},e,this,[[3,38]])}));function t(){return e.apply(this,arguments)}return t}()},{key:"getBarcodePickerProxyHandler",value:function e(){var t=this;var r;var n;var i=this;function a(e){if(r==null){r=new Proxy(e["gui"],{set:function e(t,r,n){Reflect.set(t,r,n);i.onPickerPropertyUpdate.call(i,{origin:"gui",key:r,newValue:n});return true}})}return r}function o(e){if(n==null){n=new Proxy(e["cameraManager"],{set:function e(t,r,n){Reflect.set(t,r,n);i.onPickerPropertyUpdate.call(i,{origin:"cameraManager",key:r,newValue:n});return true}})}return n}return{get:function e(r,n){if(n==="gui"){return a(r)}if(n==="cameraManager"){return o(r)}if(n==="applyScanSettings"){return function(e){Reflect.apply(Reflect.get(r,n),r,[e]);t.onScannerNewScanSettings(e)}}return Reflect.get(r,n)},set:function e(r,n,i){Reflect.set(r,n,i);t.onPickerPropertyUpdate({key:n,origin:"picker",newValue:i});return true}}}},{key:"onScannerNewScanSettings",value:function e(t){var r=this;var n=values(Barcode.Symbology).filter(function(e){return typeof e==="string"});var i=[{key:Attribute.SCAN_SETTINGS_BLURRY_RECOGNITION,newValue:t.isBlurryRecognitionEnabled()},{key:Attribute.SCAN_SETTINGS_CODE_DIRECTION_HINT,newValue:t.getCodeDirectionHint()},{key:Attribute.SCAN_SETTINGS_CODE_DUPLICATE_FILTER,newValue:t.getCodeDuplicateFilter()},{key:Attribute.SCAN_SETTINGS_DEVICE_NAME,newValue:t.getDeviceName()},{key:Attribute.SCAN_SETTINGS_ENABLED_SYMBOLOGIES,newValue:n.reduce(function(e,r){if(t.isSymbologyEnabled(r)){e.push(Barcode.Symbology.toJSONName(r))}return e},[])},{key:Attribute.SCAN_SETTINGS_GPU_ACCELERATION,newValue:t.isGpuAccelerationEnabled()},{key:Attribute.SCAN_SETTINGS_MAX_NUMBER_OF_CODES_PER_FRAME,newValue:t.getMaxNumberOfCodesPerFrame()},{key:Attribute.SCAN_SETTINGS_RECOGNITION_MODE,newValue:t.getRecognitionMode()},{key:Attribute.SCAN_SETTINGS_SEARCH_AREA,newValue:t.getSearchArea()},{key:Attribute.SCAN_SETTINGS_TEXT_RECOGNITION_SETTINGS,newValue:t.getTextRecognitionSettings()}];i.forEach(function(e){r.onPickerPropertyUpdate(_objectSpread({origin:"scanner"},e))})}},{key:"initializeAttributeConversionGetter",value:function e(){this.lazyAttributeConverter=new LazyAttributeConverter(getSchema(),this.view)}},{key:"getCameraFromAttribute",value:function(){var e=_asyncToGenerator(regenerator.mark(function e(){var t,r,n,i;return regenerator.wrap(function e(a){while(1){switch(a.prev=a.next){case 0:r=this.lazyAttributeConverter[Attribute.CAMERA];if(!((r===null||r===void 0?void 0:r.deviceId)!=null)){a.next=8;break}a.next=4;return CameraAccess.getCameras();case 4:n=a.sent;i=r.deviceId;t=n.find(function(e){return e.deviceId===i});if(t==null){Logger.log(Logger.Level.WARN,'Could not find camera with id "'.concat(i,'", will use default camera.'))}case 8:return a.abrupt("return",t);case 9:case"end":return a.stop()}}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"onEnabledSymbologiesChanged",value:function e(){var t=this;var r=this.lazyAttributeConverter[Attribute.SCAN_SETTINGS_ENABLED_SYMBOLOGIES];this.allSymbologies.forEach(function(e){var n=r.includes(e);t.scanSettings.getSymbologySettings(e).setEnabled(n)});this.picker.applyScanSettings(this.scanSettings)}},{key:"onPickerPropertyUpdate",value:function e(t){var r,n,i=this;var a={gui:{customLaserArea:[Attribute.LASER_AREA],customViewfinderArea:[Attribute.VIEWFINDER_AREA]},cameraManager:{activeCamera:[Attribute.CAMERA,Attribute.CAMERA_TYPE],cameraSwitcherEnabled:[Attribute.ENABLE_CAMERA_SWITCHER],torchToggleEnabled:[Attribute.ENABLE_TORCH_TOGGLE],tapToFocusEnabled:[Attribute.ENABLE_TAP_TO_FOCUS],pinchToZoomEnabled:[Attribute.ENABLE_PINCH_TO_ZOOM]}};var o=(r=(n=a[t.origin])===null||n===void 0?void 0:n[t.key])!==null&&r!==void 0?r:[t.key];this.trackAttributes=false;o.forEach(function(e){if(attributes.includes(e)){if(t.newValue==null){i.view.removeAttribute(e)}else{i.view.setAttribute(e,convertProperty(getSchema()[e],t.newValue))}}});this.trackAttributes=true}},{key:"getSingleImageModeSettings",value:function(){var e=_asyncToGenerator(regenerator.mark(function e(){var t=this;var r,n,i;return regenerator.wrap(function e(a){while(1){switch(a.prev=a.next){case 0:r={};if(this.lazyAttributeConverter[Attribute.SINGLE_IMAGE_MODE_SETTINGS]!=null){r.desktop=_objectSpread(_objectSpread({},SingleImageModeSettings.defaultDesktop),(n=this.lazyAttributeConverter[Attribute.SINGLE_IMAGE_MODE_SETTINGS].desktop)!==null&&n!==void 0?n:{});r.mobile=_objectSpread(_objectSpread({},SingleImageModeSettings.defaultMobile),(i=this.lazyAttributeConverter[Attribute.SINGLE_IMAGE_MODE_SETTINGS].mobile)!==null&&i!==void 0?i:{})}a.next=4;return this.view.waitOnChildrenReady();case 4:["mobile","desktop"].forEach(function(e){["informationElement","buttonElement"].forEach(function(n){var i=t.view.querySelector('*[slot="singleImageModeSettings.'.concat(e,".").concat(n,'"]'));if(i!=null&&r[e]!=null){r[e][n]=i}})});return a.abrupt("return",r);case 6:case"end":return a.stop()}}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"dispatchPickerEvent",value:function e(t,r){var n=new CustomEvent(t,{detail:r});this.view.dispatchCustomEvent(n)}},{key:"validateAllAttributes",value:function e(){var t=this;var r=from$1(this.view.getAttributes());r.forEach(function(e){if(attributes.includes(e.name)){t.validateAttribute(e.name,e.value)}})}},{key:"validateAttribute",value:function e(t,r){var n=this.attributeToCamelCase(t);var i;switch(n){case Attribute.ACCESS_CAMERA:case Attribute.CONFIGURE:case Attribute.CONFIGURE_HIGH_QUALITY_BLURRY_RECOGNITION:case Attribute.CONFIGURE_LOAD_TEXT_RECOGNITION:case Attribute.CONFIGURE_PRELOAD_BLURRY_RECOGNITION:case Attribute.CONFIGURE_PRELOAD_ENGINE:case Attribute.ENABLE_CAMERA_SWITCHER:case Attribute.ENABLE_PINCH_TO_ZOOM:case Attribute.ENABLE_TAP_TO_FOCUS:case Attribute.ENABLE_TORCH_TOGGLE:case Attribute.PLAY_SOUND_ON_SCAN:case Attribute.SCANNING_PAUSED:case Attribute.VIBRATE_ON_SCAN:case Attribute.VISIBLE:case Attribute.SCAN_SETTINGS_BLURRY_RECOGNITION:case Attribute.SCAN_SETTINGS_GPU_ACCELERATION:i=Validator.isBooleanAttribute;break;case Attribute.TARGET_SCANNING_FPS:case Attribute.SCAN_SETTINGS_CODE_DUPLICATE_FILTER:case Attribute.SCAN_SETTINGS_MAX_NUMBER_OF_CODES_PER_FRAME:i=Validator.isIntegerAttribute;break;case Attribute.SCAN_SETTINGS_CODE_DIRECTION_HINT:i=Validator.isValidCodeDirection;break;case Attribute.SCAN_SETTINGS_RECOGNITION_MODE:i=Validator.isValidRecognitionMode;break;case Attribute.SCAN_SETTINGS_TEXT_RECOGNITION_SETTINGS:i=Validator.isValidTextRecognitionSettingsObject;break;case Attribute.CAMERA_TYPE:i=Validator.isValidCameraType;break;case Attribute.GUI_STYLE:i=Validator.isValidGuiStyle;break;case Attribute.VIDEO_FIT:i=Validator.isValidVideoFit;break;case Attribute.SCAN_SETTINGS_ENABLED_SYMBOLOGIES:i=Validator.isValidJsonArray;break;case Attribute.VIEWFINDER_AREA:case Attribute.LASER_AREA:case Attribute.SCAN_SETTINGS_SEARCH_AREA:i=Validator.isValidSearchAreaAttribute;break;case Attribute.CAMERA:i=Validator.isValidCameraObject;break;case Attribute.CAMERA_SETTINGS:i=Validator.isValidCameraSettingsObject;break;case Attribute.SINGLE_IMAGE_MODE_SETTINGS:i=Validator.isValidSingleImageModeSettingsObject;break;case Attribute.CONFIGURE_ENGINE_LOCATION:case Attribute.CONFIGURE_LICENSE_KEY:case Attribute.SCAN_SETTINGS_DEVICE_NAME:i=function e(){return true};break;default:assertUnreachable(n);break}if(!i(r)){var a;Logger.log(Logger.Level.WARN,'Invalid value for attribute "'.concat(n,'": "').concat(r,'". ').concat((a=Validator.expectationMessage.get(i))!==null&&a!==void 0?a:""));return false}return true}},{key:"attributeToCamelCase",value:function e(t){var r=attributes.findIndex(function(e){return e.toLowerCase()===t.toLowerCase()});return attributes[r]}},{key:"handleException",value:function e(t){Logger.log(Logger.Level.ERROR,t)}}]);return e}();function _createSuper(e){var t=_isNativeReflectConstruct();return function r(){var n=_getPrototypeOf(e),i;if(t){var a=_getPrototypeOf(this).constructor;i=construct(n,arguments,a)}else{i=n.apply(this,arguments)}return _possibleConstructorReturn(this,i)}}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!construct)return false;if(construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(construct(Boolean,[],function(){}));return true}catch(e){return false}}var ScanditBarcodePicker=function(e){_inherits(r,e);var t=_createSuper(r);function r(){var e;_classCallCheck(this,r);e=t.call(this);_defineProperty(_assertThisInitialized(e),"shadowDom",void 0);_defineProperty(_assertThisInitialized(e),"controller",void 0);e.controller=new Controller(_assertThisInitialized(e));e.shadowDom=e.attachShadow({mode:"open"});return e}_createClass(r,[{key:"barcodePicker",get:function e(){return this.controller.picker}},{key:"root",get:function e(){return this.shadowDom.querySelector("#root")}},{key:"connectedCallback",value:function(){var e=_asyncToGenerator(regenerator.mark(function e(){return regenerator.wrap(function e(t){while(1){switch(t.prev=t.next){case 0:t.next=2;return this.controller.viewConnectedCallback();case 2:case"end":return t.stop()}}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"disconnectedCallback",value:function e(){this.controller.viewDisconnectedCallback()}},{key:"attributeChangedCallback",value:function e(t){this.controller.attributeChangedCallback(t)}},{key:"initializeDom",value:function e(){this.shadowDom.innerHTML=this.initialDomContent}},{key:"dispatchCustomEvent",value:function e(t){this.dispatchEvent(t)}},{key:"getAttributes",value:function e(){return from$1(this.attributes).map(function(e){return{name:e.name,value:e.value}})}},{key:"waitOnChildrenReady",value:function e(){return new promise(function(e){setTimeout(e,50)})}},{key:"initialDomContent",get:function e(){return"\n      <style>".concat(this.styles,'</style>\n      <div id="root"></div>\n    ')}},{key:"wcStyles",get:function e(){return"\n      :host {\n        display: block;\n      }\n\n      :host([hidden]) {\n        display: none;\n      }\n\n      #root {\n        height: 100%;\n      }\n    "}},{key:"styles",get:function e(){return"\n      ".concat(this.wcStyles,"\n      ").concat(pickerStyles,"\n    ")}}],[{key:"observedAttributes",get:function e(){return attributes.map(function(e){return e.toLowerCase()})}},{key:"registerComponent",value:function e(){if(!("customElements"in window)){return}if(customElements.get(r.TAG_NAME)==null){customElements.define(r.TAG_NAME,r)}return r.TAG_NAME}}]);return r}(_wrapNativeSuper(HTMLElement));_defineProperty(ScanditBarcodePicker,"TAG_NAME","scandit-barcode-picker");ScanditBarcodePicker.registerComponent();var deviceId=BrowserHelper.getDeviceId();var userLicenseKey;var scanditDataCaptureLocation;var blurryRecognitionPreloader;var highEndBlurryRecognition;var textRecognition;var dataCaptureLoader;var configurePhase="unconfigured";var configurePromise;function resetConfigure(){configurePhase="unconfigured"}
/**
 * Initialize and configure the Scandit Barcode Scanner SDK library. This function must be called (once) before
 * instantiating the main library components (`BarcodePicker` and `Scanner` objects) and returns a promise. In case this
 * is called again after a successful call, parameters from subsequent calls are ignored and the same promise returned
 * from the successful call will be returned.
 *
 * Depending on parameters and browser features, any of the following errors could be the rejected result of the
 * returned promise:
 * - `NoLicenseKeyError`
 * - `UnsupportedBrowserError`
 *
 * The external external Scandit Data Capture library and data needed for barcode blurry recognition are preloaded
 * asynchronously eagerly by default after library configuration to ensure the best performance. If needed this
 * behaviour can be changed via the *preloadEngine* and *preloadBlurryRecognition* options.
 *
 * For optimal performance, it is recommended to call this function as soon as possible to ensure needed components are
 * preloaded and initialized ahead of time.
 *
 * Camera access requests are done lazily only when needed by a [[BarcodePicker]] (or [[Scanner]]) object. You can also
 * eagerly ask only for camera access permissions by calling the [[CameraAccess.getCameras]] function.
 *
 * Ideally, to make the scanning process faster, it is recommended depending on the use case to create in
 * advance a (hidden and paused) [[BarcodePicker]] or [[Scanner]] object, to later show and unpause it when needed.
 * Depending on the options this can also be used to correctly ask for camera access permissions whenever preferred.
 *
 * @param licenseKey The Scandit license key to be used by the library.
 * @param logLevel <div class="tsd-signature-symbol">Default =&nbsp;Logger.Level.DEBUG</div>
 * The console log level to be used by the library.
 * @param engineLocation <div class="tsd-signature-symbol">Default =&nbsp;"/"</div>
 * The location of the folder containing the external scandit-engine-sdk.min.js and
 * scandit-engine-sdk.wasm files (external Scandit Data Capture library).
 * By default they are retrieved from the root of the web application.
 * Can be a full URL to folder or an absolute folder path.
 * @param highQualityBlurryRecognition <div class="tsd-signature-symbol">Default =&nbsp;false</div>
 * Whether to generate and use high quality barcode blurry recognition data, resulting in improved localization and
 * scanning performance of extremely challenging 1D codes. If enabled, more time is spent to initialize (load or
 * generate if needed) the needed data - at a time depending on the <em>preloadBlurryRecognition</em> option - and for
 * the processing of each video frame.
 *
 * Enabling this option is not recommended unless really needed due to its high performance impact.
 * @param loadTextRecognition <div class="tsd-signature-symbol">Default =&nbsp;false</div>
 * Whether to load a version of the external Scandit Data Capture library providing support for text recognition (OCR).
 * If enabled, a larger version of the library is loaded, unlocking [[ScanSettings]] options to enable text recognition
 * in addition or as an alternative to barcode scanning. This also requires more time to load (download if needed,
 * compile/instantiate WebAssembly code and initialize) the external Scandit Data Capture library, used by
 * [[BarcodePicker]] and [[Scanner]] objects to perform scan operations, at a time depending on the
 * <em>preloadEngine</em> option.
 *
 * In case barcode scanning is not needed, the <em>preloadBlurryRecognition</em> option should be disabled for better
 * initialization performance.
 * @param preloadBlurryRecognition <div class="tsd-signature-symbol">Default =&nbsp;true</div>
 * Whether to preload (load or generate if needed) data needed for barcode blurry recognition as soon as possible via a
 * separate asynchronous WebWorker thread running the external Scandit Data Capture library. Data for all symbologies is
 * generated over time.
 *
 * If enabled, any [[BarcodePicker]] or [[Scanner]] object will be able to start processing video frames much faster, as
 * it won't need to generate barcode blurry recognition data lazily only when needed. If necessary, depending on given
 * [[ScanSettings]] options and on readiness of the data, processing is also initially performed without blurry
 * recognition until this data becomes available, at which point the new data will be loaded and used.
 *
 * If disabled, [[BarcodePicker]] or [[Scanner]] objects will load or generate barcode blurry recognition data lazily
 * when needed to process the first frame, depending on given [[ScanSettings]] options, and will thus require more time
 * the first time the library is actively used with the given active symbologies. As this needs to be done in the same
 * WebWorker, the processing of the frame will then be blocked until the needed data is loaded or generated.
 *
 * Note that in either case the data for barcode blurry recognition will be cached for later successive uses of the
 * library.
 *
 * Note that preloading does not trigger a device activation for licensing purposes.
 * @param preloadEngine <div class="tsd-signature-symbol">Default =&nbsp;true</div>
 * Whether to preload (download if needed, compile/instantiate WebAssembly code and initialize) the external Scandit
 * Data Capture library, used by [[BarcodePicker]] and [[Scanner]] objects to perform scan operations.
 *
 * If enabled, any [[BarcodePicker]] or [[Scanner]] object will be ready to start processing video frames much faster,
 * as the needed external Scandit Data Capture library will already be in a partially or fully initialized state thanks
 * to it being preloaded now.
 *
 * If disabled, [[BarcodePicker]] and [[Scanner]] objects will load the external Scandit Data Capture library on
 * creation (if it wasn't already loaded before by a previously created object), and will thus require more time to be
 * initialized and ready.
 *
 * Note that in either case the loaded external Scandit Data Capture library will be reused whenever possible for later
 * successive uses of the library.
 *
 * Note that preloading does not trigger a device activation for licensing purposes.
 *
 * @returns A promise resolving when the library has been configured (preloading is done independently asynchronously).
 */function configure(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},r=t.logLevel,n=r===void 0?Logger.Level.DEBUG:r,i=t.engineLocation,a=i===void 0?"/":i,o=t.highQualityBlurryRecognition,s=o===void 0?false:o,c=t.loadTextRecognition,u=c===void 0?false:c,l=t.preloadBlurryRecognition,d=l===void 0?true:l,f=t.preloadEngine,h=f===void 0?true:f;if(configurePhase!=="unconfigured"&&configurePromise!=null){return configurePromise}Logger.setLevel(n);configurePromise=new promise(function(){var t=_asyncToGenerator(regenerator.mark(function t(r,n){var i,o,c,l;return regenerator.wrap(function t(f){while(1){switch(f.prev=f.next){case 0:Logger.log(Logger.Level.INFO,"Scandit Web SDK version: 5.9.3");configurePhase="started";i=BrowserHelper.checkBrowserCompatibility();if(!(!i.fullSupport&&!i.scannerSupport)){f.next=5;break}return f.abrupt("return",n(new UnsupportedBrowserError(i)));case 5:if(!(e==null||e.trim().length<64)){f.next=7;break}return f.abrupt("return",n(new CustomError({name:"NoLicenseKeyError",message:"No license key provided"})));case 7:userLicenseKey=e;a+=a.slice(-1)==="/"?"":"/";if(/^https?:\/\//.test(a)){scanditDataCaptureLocation="".concat(a)}else{a=a.split("/").filter(function(e){return e.length>0}).join("/");if(a===""){a="/"}else{a="/".concat(a,"/")}if(location.protocol==="file:"||location.origin==="null"){scanditDataCaptureLocation="".concat(location.href.split("/").slice(0,-1).join("/")).concat(a)}else{scanditDataCaptureLocation="".concat(location.origin).concat(a)}}o=BrowserHelper.userAgentInfo.getBrowser().name;c=BrowserHelper.userAgentInfo.getOS().name;if(!((o==null||o.includes("Safari")||c==null||c==="iOS")&&window.indexedDB!=null&&"databases"in indexedDB)){f.next=15;break}f.next=15;return new promise(function(e){function t(){indexedDB.databases().then(e).catch(function(){})}l=window.setInterval(t,50);t()}).then(function(){return clearInterval(l)});case 15:highEndBlurryRecognition=s;textRecognition=u;f.next=19;return BlurryRecognitionPreloader.create(d);case 19:blurryRecognitionPreloader=f.sent;f.next=22;return blurryRecognitionPreloader.prepareBlurryTables();case 22:dataCaptureLoader=new DataCaptureLoader(h);configurePhase="done";return f.abrupt("return",r());case 25:case"end":return f.stop()}}},t)}));return function(e,r){return t.apply(this,arguments)}}()).catch(function(e){resetConfigure();throw e});return configurePromise}export{Barcode,BarcodePicker,BrowserCompatibility,BrowserHelper,Camera,CameraAccess,CameraSettings,CustomError,ImageSettings,Logger,Parser,RecognizedText,ScanResult,ScanSettings,Scanner,SingleImageModeSettings,SymbologySettings,TextRecognitionSettings,UAParser,blurryRecognitionPreloader,configure,configurePhase,configurePromise,dataCapture,dataCaptureLoader,dataCaptureWorkerBlob,deviceId,highEndBlurryRecognition,resetConfigure,scanditDataCaptureLocation,textRecognition,userLicenseKey};