import{TextRecognitionSettings}from"..";import{assertUnreachable}from"./tsHelper";export function convertAttribute(e,t){switch(e.type){case"boolean":return convertToBoolean(t,e.default);case"string":case"guiStyle":case"cameraType":case"videoFit":case"codeDirection":case"recognitionMode":return convertToString(t,e.default);case"array":return convertToArray(t,e.default);case"integer":return convertToInteger(t,e.default);case"searchArea":case"camera":case"cameraSettings":case"singleImageModeSettings":return convertJsonToObject(t,e.default);case"textRecognitionSettings":return new TextRecognitionSettings(convertJsonToObject(t,e.default));default:break}return assertUnreachable(e)}function convertToBoolean(e,t){return e==null?t:e!=="false"}function convertToString(e,t){return e??t}function convertToInteger(e,t){if(e==null){return t}const r=parseInt(e,10);if(isNaN(r)){return t}return r}function convertToArray(e,t){if(e==null){return t}const r=toJson(e);if(r==null||!Array.isArray(r)){return t}return r}function convertJsonToObject(e,t){if(e==null){return t}const r=toJson(e);if(r==null){return t}if(Array.isArray(r)||typeof r==="number"){return t}return r}function toJson(e){try{return JSON.parse(e)}catch(e){return}}